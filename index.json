[{"categories":["ai","automation","cloud","cloud-networking","programming"],"content":"Sometimes, especially if you aren’t a developer by trade, you can get stuck on something small that will find you banging your forehead on your desk (figuratively, of course). Most of the time, it is easy enough to find an answer online or even from ChatGPT. Other times, you may not be so lucky. The other day, I fell victim to a TWE or time wasting event that I thought was worth writing about. Fasten your seatbelt! Intro ","date":"15 February 2024","objectID":"/posts/2024/gcp-sdk-fun/:0:0","series":null,"tags":["chatgpt","go","gcp","vpc"],"title":"GCP SDK Fun","uri":"/posts/2024/gcp-sdk-fun/#"},{"categories":["ai","automation","cloud","cloud-networking","programming"],"content":" The ProblemGCP SDK provides libraries and tools for interacting with Google’s cloud products and services. Pick your poison with whatever programming language you choose! On this particular Fun Day, I was writing a quick script to build VPCs and subnets from .yaml files and then expose a destroy call to wipe everything out when particular testing was completed. I’ve built something similar for AWS SDK for Go. On this particular day, I ran into the following error: Error ","date":"15 February 2024","objectID":"/posts/2024/gcp-sdk-fun/:1:0","series":null,"tags":["chatgpt","go","gcp","vpc"],"title":"GCP SDK Fun","uri":"/posts/2024/gcp-sdk-fun/#the-problem"},{"categories":["ai","automation","cloud","cloud-networking","programming"],"content":" Digging into the CodeI knew I had to set AutoCreateSubnetworks: false, in the code as it disables GCP from automagically creating subnets for me. Of course, I want to do that myself! And this is where the confusion started – I did have this set, and I had omitted the ‘IPv4Range’ at the VPC level despite what the error said. ","date":"15 February 2024","objectID":"/posts/2024/gcp-sdk-fun/:1:1","series":null,"tags":["chatgpt","go","gcp","vpc"],"title":"GCP SDK Fun","uri":"/posts/2024/gcp-sdk-fun/#digging-into-the-code"},{"categories":["ai","automation","cloud","cloud-networking","programming"],"content":" Solving the ProblemI searched on DuckDuckGo, my search engine of choice, and came up empty. In my desperation, I turned to a bucket-of-bolts I don’t fully understand who’s supposed to know all the answers, ChatGPT. I pasted in the error message and code. The AI Overlord then patted me on the back (again figuratively) and told me to set AutoCreateSubnetworks: false and remove IPv4Range from my code since that is for legacy networks. The problem is that IPv4Range wasn’t defined anywhere in my code and AutoCreateSubnetworks was already set to false. ","date":"15 February 2024","objectID":"/posts/2024/gcp-sdk-fun/:2:0","series":null,"tags":["chatgpt","go","gcp","vpc"],"title":"GCP SDK Fun","uri":"/posts/2024/gcp-sdk-fun/#solving-the-problem"},{"categories":["ai","automation","cloud","cloud-networking","programming"],"content":" Google WinsAs I sat pondering reality, space, and time, I decided to just google search it and came across this excellent answer on Stack Overflow. Apparently, the AutoCreateSubnetworks field is not included in the request payload unless you define it explicitly with ForceSendFields: []string{“AutoCreateSubnetworks”},. All I needed was this extra line: ","date":"15 February 2024","objectID":"/posts/2024/gcp-sdk-fun/:2:1","series":null,"tags":["chatgpt","go","gcp","vpc"],"title":"GCP SDK Fun","uri":"/posts/2024/gcp-sdk-fun/#google-wins"},{"categories":["ai","automation","cloud","cloud-networking","programming"],"content":" ConclusionArtificial Intelligence is a society-altering technology. Is it coming for our jobs anytime soon? I don’t think so. Will it help enhance and augment our workflows? Yes, Absolutely! However, situations like this remind me that there is no substitute for people who possess deep skills and understanding in particular areas of technology. This holds especially TRUE when something fails or isn’t exhibiting the correct behavior. Happy coding! ","date":"15 February 2024","objectID":"/posts/2024/gcp-sdk-fun/:3:0","series":null,"tags":["chatgpt","go","gcp","vpc"],"title":"GCP SDK Fun","uri":"/posts/2024/gcp-sdk-fun/#conclusion"},{"categories":["automation","cloud","cloud-networking"],"content":"For many moons, importing existing infrastructure (that is to say, infrastructure running outside of Terraform state), has not been a trivial task. Historically, Terraform did not generate any configuration. You would have to write the infrastructure-as-code in a manner that reflects how it was deployed. Then, to make matters not easier, you would fetch the ‘ol shovel and dig out the unique resource identifiers to feed through the command line. Handling a single resource in this manner is pretty simple. Wrangling 20+ resources like this is not. Last month, Terraform v1.5.0 was released, offering the ability to use import blocks. Let’s test this new feature on my favorite infrastructure provider, Alkira. Intro ","date":"6 July 2023","objectID":"/posts/2023/using-terraform-import-blocks-with-alkira/:0:0","series":null,"tags":["alkira","aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"Using Terraform Import Blocks with Alkira","uri":"/posts/2023/using-terraform-import-blocks-with-alkira/#"},{"categories":["automation","cloud","cloud-networking"],"content":" Why is this Useful?This feature shifts import from a CLI driven approach to configuration-driven and plannable actions for adopting existing resources. Here are the key takeaways: Configuration-Driven: You can now declare imports within your Terraform configuration files using an import block, making the process more streamlined and part of the initial planning. Plannable Action: Terraform treats importing as part of a standard plan. Running terraform plan will show a summary of the resources that Terraform intends to import, along with other planned changes. Preservation of existing CLI command: The existing terraform import CLI command remains unchanged and can still be used separately. Support for Generating Configuration for Imported Resources: This feature, used in conjunction with the import block, enables templating of configuration when importing resources. A new flag -generate-config-out=PATH is added to terraform plan. When this flag is set, Terraform generates an HCL configuration for any resource included in an import block that doesn’t already have an associated configuration, writing it to a new file at the specified PATH. ","date":"6 July 2023","objectID":"/posts/2023/using-terraform-import-blocks-with-alkira/:1:0","series":null,"tags":["alkira","aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"Using Terraform Import Blocks with Alkira","uri":"/posts/2023/using-terraform-import-blocks-with-alkira/#why-is-this-useful"},{"categories":["automation","cloud","cloud-networking"],"content":" A Common ScenarioIn this scenario, I’ll build an AWS VPC and connect it to Alkira using the alkira_connector_aws_vpc resource. This is a pretty common scenario I see with our customers. They begin a proof-of-concept for a particular use case and do most of the testing via Alkira’s excellent user interface. Instead of building a new environment for production however, a lot of times, they will want to take the proof-of-concept to production. From here, they need to import what has already been built into the appropriate Terraform State file. ","date":"6 July 2023","objectID":"/posts/2023/using-terraform-import-blocks-with-alkira/:2:0","series":null,"tags":["alkira","aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"Using Terraform Import Blocks with Alkira","uri":"/posts/2023/using-terraform-import-blocks-with-alkira/#a-common-scenario"},{"categories":["automation","cloud","cloud-networking"],"content":" Building some InfrastructureI’m going to mock-up the infrastructure we will import using Terraform. ","date":"6 July 2023","objectID":"/posts/2023/using-terraform-import-blocks-with-alkira/:2:1","series":null,"tags":["alkira","aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"Using Terraform Import Blocks with Alkira","uri":"/posts/2023/using-terraform-import-blocks-with-alkira/#building-some-infrastructure"},{"categories":["automation","cloud","cloud-networking"],"content":" Importing that Infrastructure Somewhere ElseNow that we have some infrastructure to work with, along with the resource identifiers, let’s put import blocks to the test. First, we create an import block for the Alkira connector in a file called imports.tf in a separate directory. I defined the connector_id returned from the previous configuration into a new variable called var.connector_id: Next, we initialize this separate directory containing the new Terraform configuration. Once everything is initialized, we can run -generate-config-out=main.tf which generates the following: Import ","date":"6 July 2023","objectID":"/posts/2023/using-terraform-import-blocks-with-alkira/:2:2","series":null,"tags":["alkira","aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"Using Terraform Import Blocks with Alkira","uri":"/posts/2023/using-terraform-import-blocks-with-alkira/#importing-that-infrastructure-somewhere-else"},{"categories":["automation","cloud","cloud-networking"],"content":" ConclusionThis is a great feature that saves time. If I had to guess, as more functionality and polish is added, you’ll see modules popping up that leverage import blocks and provide a simplified way to import larger swaths of infrastructure. Some tools exist out there to do this today. Last year, I wrote about one such tool - Azure Terrafy. The difference is that since this is now integrated with the Terraform configuration and planning process, it can keep all of the logic in the HashiCorp ecosystem. No messing around with fetching binaries or needing to do any third-party tricks. ","date":"6 July 2023","objectID":"/posts/2023/using-terraform-import-blocks-with-alkira/:3:0","series":null,"tags":["alkira","aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"Using Terraform Import Blocks with Alkira","uri":"/posts/2023/using-terraform-import-blocks-with-alkira/#conclusion"},{"categories":["cloud","cloud-networking","conference"],"content":"What fits somewhere in between re:Invent and Community Day events? That would be the AWS Summits! This year, I got to experience a double dose of fun by representing Alkira at our booth and presenting at the AWS Community Developer Lounge. I may be biased, but I believe the Alkira team is the best in the world. It was a blast getting to talk about cloud networking with event attendees while getting a glimpse of how the public sector is adapting to change. And, for my first time presenting at a Summit, I thought it fitting to do a live demo. Why not pull in some advanced concepts and do it all live with semi-flaky internet and see how it goes? Leeroy Jenkins would be proud. Intro ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:0:0","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#"},{"categories":["cloud","cloud-networking","conference"],"content":" HighlightsMy favorite highlights included: ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:1:0","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#highlights"},{"categories":["cloud","cloud-networking","conference"],"content":" Team AlkiraWhether it was the many engaging conversations we had with event attendees at the booth, the unplanned team-building exercise of scooting through the D.C. bike lanes or seeing the Washington Nationals get smashed, I wouldn’t pick any other team to do it with. What made this event great was the fantastic questions we got from event attendees. As it turns out, great questions lead to great conversations! Team Alkira ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:1:1","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#team-alkira"},{"categories":["cloud","cloud-networking","conference"],"content":" KeynoteAt the keynote, we got to hear from the CIA’s first CTO, Nand Mulchandani. Keeping your ears open will teach you something new every day. For me, it was that researchers at the CIA created the lithium-iodine battery. I guess this shouldn’t come as a surprise, given the need for long-lasting battery power and the nature of surveillance. ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:1:2","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#keynote"},{"categories":["cloud","cloud-networking","conference"],"content":" Modular Data CenterBack in February AWS announced their Modular Data Center for U.S. Department of Defense Joint Warfighting Cloud Capability. This only available to government customers under the JWCC Contract and is currently supported in the AWS GovCloud (US-West) and (US-East) regions. Modular DC Why is this cool? You could rely on limited infrastructure. You could also procure, build, and provision infrastructure yourself. Why not just deploy a self-contained and modular data center? In isolated environments, it can securely store, analyze, and interpret petabytes of data in real-time. I got to walk through one of these at the summit and my nerd senses were tingling. ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:1:3","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#modular-data-center"},{"categories":["cloud","cloud-networking","conference"],"content":" Snowblade AnnouncementWant compute and storage amongst other hybrid services in remote locations, including Denied, Disrupted, Intermittent, and Limited (DDIL) environments? If you are a (JWCC) contract customer, take a look at AWS Snowblade. This tech extends AWS infrastructure to the tactical edge and meets U.S. Military Ruggedization Standards (MIL-STD-810H). Snowblade is available in the AWS GovCloud (US-West) region. ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:1:4","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#snowblade-announcement"},{"categories":["cloud","cloud-networking","conference"],"content":" Presenting in the Dev LoungeThrough the amazing AWS Community Builders program, I got to present in the Dev Lounge. Many folks wanting to enter tech seem to go the software engineering route by default. Serverless and AI/ML are also newer and much more shiny than networking. Throughout my time in tech, there appears to be a waning interest in network engineering. One of my goals in the community is to show that networking is equally exciting in the cloud, especially when paired with awesome tools like Terraform. In this Dev Chat, I started with some theory and real-world problems and then ran a live demonstration on how you could solve some of those problems by combining the power of AWS Transit Gateway and Terraform. The slides and code I ran for the demo can be found here. Dev Chat Remember the Foundation Properly designed and executed network and security is the solid foundation on which many of the newer and trendy technologies run atop. If you drive a Ferrari, you can reach your destination quickly (I wish I had a Ferrari). If the highway isn’t in place, however, and you were driving on rugged terrain, can you imagine what the experience would be like? Imagine also if an optimal interconnection of highways didn’t exist between you and your destination. ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:1:5","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#presenting-in-the-_dev-lounge_"},{"categories":["cloud","cloud-networking","conference"],"content":" ConclusionThis AWS Summit was a whirlwind of learning, engagement, and networking - literally and figuratively! Representing Alkira and having the opportunity to educate attendees on our product led to many deeper discussions around the state of networking in the cloud. It was a blast to discuss cloud networking, interact with various individuals, and offer a different perspective on a field often perceived as a thing I want to get out of the way. ","date":"20 June 2023","objectID":"/posts/2023/aws-dc-summit-recap/:2:0","series":null,"tags":["alkira","aws","awscommunitybuilders","modular data center","snowblade","terraform","transit-gateway"],"title":"AWS DC Summit - Recap","uri":"/posts/2023/aws-dc-summit-recap/#conclusion"},{"categories":null,"content":" OverviewThe slides used in this session can be found at https://github.com/wcollins/talks/tree/main/aws-community-day-2023. You can find the entire recorded session at https://youtu.be/6EPdfR7A0wY?t=118. Session ","date":"15 June 2023","objectID":"/talks/2023/aws-community-day/:0:0","series":null,"tags":null,"title":"AWS Community Day - Chicago, IL","uri":"/talks/2023/aws-community-day/#overview"},{"categories":null,"content":" Session: DEV203The slides and code used in this session can be found at https://github.com/wcollins/aws-summit-dc-2023 Level: 200 - Intermediate Area of Interest: Network \u0026 Infrastructure Security Role: Developer, Engineer, Architect Topic: Cloud Operations, Networking Session ","date":"7 June 2023","objectID":"/talks/2023/aws-dc-summit/:0:0","series":null,"tags":null,"title":"AWS Summit - Washington, D.C.","uri":"/talks/2023/aws-dc-summit/#session-dev203"},{"categories":null,"content":" SessionAs the public cloud continues to gain momentum, the gap broadens between operating traditional networks and cloud networks. A different set of skills and tooling is required to deploy and maintain network infrastructure. In this course, you will gain an understanding of the following: The value proposition of Infrastructure-as-Code Building basic AWS networking with Terraform and Python Expanding the scope to multi-cloud with Network-as-a-Service Benefits of standardized toolchain for managing infrastructure The slides and code used in this session can be found at https://github.com/wcollins/onug-spring-2023 Session ","date":"17 May 2023","objectID":"/talks/2023/onug-spring/:0:0","series":null,"tags":null,"title":"ONUG Spring - Dallas, TX","uri":"/talks/2023/onug-spring/#session"},{"categories":["ai","automation","cloud","tools"],"content":"I recently wrote a blog about generating Terraform with ChatGPT. In that experiment, I was using GPT-3.5. It didn’t take much to trip up the galactic AI in many of the experiments I did with Terraform and beyond. According to OpenAI GPT-4 soars past its predecessor in its advanced reasoning capabilities. Let’s use this model to build code in Python and Go. How will the super titan fair in the Sysadmin arena? Let’s take on some tedious backend work head-on with the biggest brain around and see what happens. Intro ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:0:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#"},{"categories":["ai","automation","cloud","tools"],"content":" Creating a NarrativeIn the vast expanse of the Digital Frontier, there were the sysadmins. These Server Sheriffs were the guardians of data prairies. Notorious for their unwavering dedication to their craft, Server Sheriffs ensured that systems always stayed up (and up to date). When I did a lot of sysadmin work, AD-HOC scripting was serious business. Let’s not kid ourselves. AD-HOC scripting is STILL serious business. One common task was logging into a ton of systems and running a set of commands. For this little experiment, I launched three VMs running Debian 11.3 in the lab - (VMware ESXi hypervisor). ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:1:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#creating-a-narrative"},{"categories":["ai","automation","cloud","tools"],"content":" Starting SimpleIn my experience testing ChatGPT so far, I have found a lot of success in asking a simple question first and then refining the output with more thoughtful questions once I have an idea of what it is throwing back at me. Let’s start with the following: ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:2:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#starting-simple"},{"categories":["ai","automation","cloud","tools"],"content":" Question: 1Write a python3 script that logs into a debian server and runs a command Question 1 Observations The first pass was a success! Even though I’m a cowboy, I’m hard-coded to not hard-code passwords in files. Before I ran the script, I copied it out of ChatGPT, and tweaked the password var to use getpass. I also filled in the username, server IP, and command. To that point, I would rather not use passwords at all. And logging into a single server is hardly useful. Logging into many servers is. Let’s ask ChatGPT to help us out here. ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:2:1","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#question-1"},{"categories":["ai","automation","cloud","tools"],"content":" More Servers, No PasswordsAt this point, I put on a fierce glare, look the AI straight in the eyes, and murmur, “Is that all you got, you bucket of bolts?” For the second pass I created a key pair with ssh-keygen and SCP’d it to each of the Debian VMs. And with that, I ask my next question: ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:3:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#more-servers-no-passwords"},{"categories":["ai","automation","cloud","tools"],"content":" Question: 2Use this script to loop through multiple servers with key based authentication Question 2 Another Small Step This question only required a little of an update to the script. Merely updating the function input to key_filename, adding a variable for the key, and constructing a For Loop for the cattle, I mean servers. I went ahead and switched out the command to apt-get update. Anyone could build this script, right? After testing, I glanced over and saw ChatGPT’s spurs glinting like silver in the blazing sun. ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:3:1","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#question-2"},{"categories":["ai","automation","cloud","tools"],"content":" Arguments And FilesOne common task I would do in my sysadmin days was, adding multiple commands in a file and passing that file into the script as a command line argument. This is something I started doing many moons ago first with bash scripting, then Perl, and onwards to Python. This was a great approach to automation before APIs took over the world. ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:4:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#arguments-and-files"},{"categories":["ai","automation","cloud","tools"],"content":" Question: 3Use this script to run multiple commands passed in from a file as a command line argument Question 3 Winner Winner I added some commands in commands.txt in my local dir and passed it in with my command. Not surprisingly at this point, everything was successful. In the middle of the town, as the church bell struck high-noon, I took a sideways glance at ChatGPT and tipped my hat. ChatGPT glanced back at me as a tumbleweed passed quietly between us. The AI Titan then murmured, “Would you like me to translate that script to GO?” ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:4:1","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#question-3"},{"categories":["ai","automation","cloud","tools"],"content":" Translating Python to GoA long time ago, I worked on a project that took several enormous Perl scripts and attempted to transpose them to Python. These scripts were hacked together like nothing I’d ever seen. We quickly realized the best path forward was starting from scratch. I have been spending more time in Go lately, so let’s see if our AI Superpower is multilingual. ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:5:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#translating-python-to-go"},{"categories":["ai","automation","cloud","tools"],"content":" Question: 4Create this script in Go Question 4 Color me Impressed In some of my testing, I went back to some fairly dated Perl scripts I had lying around and had ChatGPT translate them to some of the newer languages the cool kids are using now. I then opened a new chat and had this rattletrap convert the new scripts back to Perl and thought, so that is what really efficient Perl would have looked like! ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:5:1","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#question-4"},{"categories":["ai","automation","cloud","tools"],"content":" ConclusionAsking ChatGPT questions is kind of like building an MVP (minimum viable product). You don’t ask for the finished product on the first pass. That initial request forms the baseline, e.g., I want a script that can connect to this and run that. You, as the consumer, can then do some testing and then provide feedback by means of asking additional questions. This makes me think of a customer feedback loop. In this case, though, you are the customer and, to some extent, the builder. In my next round of experiments, I’ll be setting my aim on networking. Perhaps some OSPF and BGP? ","date":"23 April 2023","objectID":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/:6:0","series":null,"tags":["chatgpt","debian","gpt-4","go","python"],"title":"Configuring Systems With ChatGPT, Python, and Go","uri":"/posts/2023/configuring-systems-with-chatgpt-python-and-go/#conclusion"},{"categories":["ai","automation","cloud","tools"],"content":"Usually, when it comes to technology, my grandmother doesn’t know much because she doesn’t care. What is the cloud? How to install a new browser on her laptop? What is 2FA? I might be speaking French to her as I discuss these things. Yet, she knows what ChatGPT is. This shows the vast amount of publicity, hype, and polarization that has ensued since November 2022. I tend to avoid AI fear-mongering and focus more on, how could a tool like this help enhance my daily grind? Can ChatGPT write Terraform as elegantly as a poem written from the perspective of Samuel L. Jackson in Pulp Fiction? Let’s take it for a spin on AWS using infrastructure-as-code. Intro ","date":"28 March 2023","objectID":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/:0:0","series":null,"tags":["aws","awscommunitybuilders","chatgpt","terraform"],"title":"Can ChatGPT Terraform Simple Networking In AWS?","uri":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/#"},{"categories":["ai","automation","cloud","tools"],"content":" Create a VPC and Two SubnetsLet’s ease in gently. Just like when my wife says she is making cookies, I tell myself I will keep things simple and only have one. My first request for ChatGPT is a simple one: Create a VPC and two subnets in AWS using Terraform. VPC + Two Subnets Observations That was pretty seamless. I provided little detail in my first request, but ChatGPT filled in all the required arguments added tags for the Name of each resource, and even put my subnets in separate availability zones. ","date":"28 March 2023","objectID":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/:1:0","series":null,"tags":["aws","awscommunitybuilders","chatgpt","terraform"],"title":"Can ChatGPT Terraform Simple Networking In AWS?","uri":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/#create-a-vpc-and-two-subnets"},{"categories":["ai","automation","cloud","tools"],"content":" Does it Work?Whenever the cookies come out of the oven, I am overcome with a sense of responsibility to test them out before anyone else eats any (maybe I run this test 3 or 4 times depending on the cookie). Like those cookies, ChatGPT isn’t getting any favors from me. Let’s test: Test the Terraform ","date":"28 March 2023","objectID":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/:1:1","series":null,"tags":["aws","awscommunitybuilders","chatgpt","terraform"],"title":"Can ChatGPT Terraform Simple Networking In AWS?","uri":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/#does-it-work"},{"categories":["ai","automation","cloud","tools"],"content":" Updating our RequestI’m always down for a good conversation when I’m eating cookies. Let’s talk a little more to ChatGPT and request an update to our Name tags for our resources: Additional Requests Captivating Conversation Asking ChatGPT to update Name tags was successful. Not only did I get the updated code, but comments were added to the code file to show what changes were made. This conversational style is very intuitive. If I don’t get what I need, or maybe the output clues me into something additional I need to add, I need but ask. This generative pretrained transformer is starting to win my heart over, just like cookies do. ","date":"28 March 2023","objectID":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/:2:0","series":null,"tags":["aws","awscommunitybuilders","chatgpt","terraform"],"title":"Can ChatGPT Terraform Simple Networking In AWS?","uri":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/#updating-our-request"},{"categories":["ai","automation","cloud","tools"],"content":" Going Beyond BasicsAt some point (usually around Christmas / New Year’s), I realize I have been eating way too many cookies. The cookies have failed me. Let’s add more logic to see if ChatGPT fails me too. Since ChatGPT offered up handling availability zones without me asking, let’s see what happens if I throw the count Meta-Argument in the mix? Adding Logic Too Many Cookies Anyone who has spent time writing Terraform would likely have spotted the problem before running the code. The ‘count’ Meta-Argument in Terraform works using an incrementing counter. With ChatGPT knowing all the “answers” and providing the availability zones as part of the configuration, it also decided to increment them in the same manner used with cidr_block and Name tag. Using this logic, it produced us-east-11, us-east-12, and us-east-13 which are not availability zones in AWS, thus causing my configuration to crash and burn. Time to go on a diet? ","date":"28 March 2023","objectID":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/:3:0","series":null,"tags":["aws","awscommunitybuilders","chatgpt","terraform"],"title":"Can ChatGPT Terraform Simple Networking In AWS?","uri":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/#going-beyond-basics"},{"categories":["ai","automation","cloud","tools"],"content":" ConclusionIt is hard not to be impressed. The value goes beyond simply providing lines of code. With each update to my request, ChatGPT provided a clear explanation as to why it modified the logic in the manner that it did. Since I began experimenting in January, I have found many ways to get ChatGPT to produce wrong (sometimes laughable) code or configuration. Network gear, general-purpose programming, and infrastructure-as-code are complex things, though. Numerous complications, variables, versioning, and interpretation require adjusted expectations. Knowing how to phrase the question that frames what you need is half the battle. It will supply you with as much detail in the configuration as you request and provide placeholders for the rest. In my testing, I have learned quite a few things that have ended up in my day-to-day workflows, which is valuable to me. The idea that this is only the beginning doesn’t scare me in the way that it scares many others I have talked to. ChatGPT isn’t taking my job. If there is anything that does scare me, it is technologists at the beginning of their journey that will miss out on the valuable details of working their way through complex problems. That experience is worth its weight in gold. ","date":"28 March 2023","objectID":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/:4:0","series":null,"tags":["aws","awscommunitybuilders","chatgpt","terraform"],"title":"Can ChatGPT Terraform Simple Networking In AWS?","uri":"/posts/2023/can-chatgpt-terraform-simple-networking-in-aws/#conclusion"},{"categories":["cloud","cloud-networking","network-design"],"content":"In Part 1, we talked about the origins of the Site-to-Site VPN Service in AWS. As consumers began to scale in the early days, they faced tunnel sprawl, performance constraints, and the need for a simplified design. AWS responded with Transit Gateway. How did Transit Gateway simplify architecture leading to smoother operations, better network performance, and a scalable blueprint for the future network? Intro ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:0:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#"},{"categories":["cloud","cloud-networking","network-design"],"content":" Pre Transit GatewaySecurity teams in the early days would often balk at the idea of using VPC peering without having a centralized transit hub (where the hybrid connectivity was landed). Since VPC couldn’t do any advanced packet forwarding natively, many designs would do transitive routing on the customer gateway. Traffic patterns looked something like this: Legacy Transit Observations In this design, the tunnels exist from the customer gateway all the way to the VPC. In this one-to-one relationship, there is no intelligent way to manage the complexity of incremental connections as you grow. Traffic also exits AWS even when the destination is another VPC which is inefficient. Also, since one tunnel is actively forwarding traffic at a time, you are limited to ~ 1.25 Gbps. ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:1:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#pre-transit-gateway"},{"categories":["cloud","cloud-networking","network-design"],"content":" Transit VPCTo solve some of the shortcomings with VPC peering and tunneling to each VPC directly, Transit VPC was born. This solution deploys a hub-and-spoke design that reminds me of my data center networking days when we connected sites to data centers with all the glory of active/standby and boxes everywhere. Want to connect another network? Deploy another few boxes! Sometimes this is unavoidable, but any opportunity I get not to manage additional appliances or agents, I take it. When I prototyped this design for the first time, we used Cisco CSRs deployed in a Transit VPC. This acted as the hub, and each spoke VPC’s VGW had two tunnels to the CSRs with BGP running over IPsec. Since VGW doesn’t support ECMP, this gives us active/standby out of the box. This design does perform transitive routing in the hub which keeps spoke-to-spoke traffic in the cloud. Transit VPC Appliance Sprawl In this design, you are responsible for provisioning the appliances (across multiple availability zones in a given VPC). This means you have to do the routine software upgrades along with the emergency firefighting when new CVEs are uncovered. Also, running this design at scale is problematic. As the number of VPCs grow, the number of appliances grow. Imagine the above diagram with 60 VPCs attached. ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:1:1","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#transit-vpc"},{"categories":["cloud","cloud-networking","network-design"],"content":" Enter Transit GatewayAWS Transit Gateway (TGW) works as a managed distributed router, enabling you to attach multiple VPCs in a hub + spoke architecture. These VPCs have reachability to each other (with the TGW doing the transitive routing). All traffic remains on the global AWS backbone. The service is regionally scoped; however, you can route between transit gateways in different AWS regions using Inter-Region Peering. You connect various network types to TGW with the appropriate attachments. The various attachment types can be found here. Since we are talking about the evolution of site-to-site VPN design, we would use the TGW VPN Attachments to terminate our VPNs and TGW VPC Attachments for connecting VPCs. ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:2:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#enter-transit-gateway"},{"categories":["cloud","cloud-networking","network-design"],"content":" Simplified ConnectivityKeeping things simple has a lot of benefits. This includes reducing the number of tunnels you have to manage while getting more from them. Sometimes you find that less is more, especially knowing that someone has to do operations! Ludwig Mies van der Rohe Ludwig was a German-American architect who adopted the motto less is more to describe the aesthetic of minimalist architecture. In the network, a design should be as simple as possible while meeting requirements. When using Virtual Private Gateway (VGW), we know the tunnel spans from the customer gateway to redundant public endpoints in different AZs. With this new design, tunnels would land directly on the transit gateway. This also enables us to leverage a single VPN connection for all of our VPCs back to on-premises. We can also use ECMP to aggregate the bandwidth of both tunnels in the connection. Transit Gateway ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:2:1","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#simplified-connectivity"},{"categories":["cloud","cloud-networking","network-design"],"content":" Accelerated ConnectionsWhen using transit gateway, you can enable acceleration when adding the TGW attachment. An accelerated connection uses AWS Global Accelerator to route traffic from your on-premises network to the closest AWS edge location. Your traffic is then optimized once it lands on AWS’s global network. Let’s examine using acceleration with TGW versus no acceleration with VGW: Accelerated VPN ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:2:2","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#accelerated-connections"},{"categories":["cloud","cloud-networking","network-design"],"content":" When to AccelerateIf the sites being connected are close to a given AWS region where your resources exist, you will see similar performance between both of these options. As distance increases, additional hops over the public internet are introduced, which can increase latency and impact reliability. This is where acceleration shines. It works by building accelerators that enable you to attach redundant anycast addresses from the edge network. These addresses act as your entrypoint to the VPN tunnel endpoints and then proxies packets at the edge to applications running in a given AWS region. How much improvement? AWS boasts up to 60% better performance for internet traffic when using Global Accelerator. You can learn more about how this is accomplished along with the criteria for measurement here. ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:2:3","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#when-to-accelerate"},{"categories":["cloud","cloud-networking","network-design"],"content":" ConclusionUnderstanding your organization’s goals and how the network needs to support them is no trivial task. This is where “it depends” rears its proverbial ugly head. In the world of cloud networking, complexity, data transfer, and compounding cost, it pays to think through the design and weigh the trade-offs. One thing is certain – AWS’s site-to-site VPN and other adjacent services have evolved, providing the means to construct high-performing networks with a global scale and amazing user experience. ","date":"3 February 2023","objectID":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/:3:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn","transit-gateway"],"title":"Evolution of AWS Site-to-Site VPN - Part 2","uri":"/posts/2023/evolution-of-aws-site-to-site-vpn-part-2/#conclusion"},{"categories":null,"content":" OverviewSlides for (CT)NUG Winter - keynote can be found at https://github.com/wcollins/ctnug-winter-2023 Session ","date":"19 January 2023","objectID":"/talks/2023/ctnug-winter/:0:0","series":null,"tags":null,"title":"(CT)NUG Winter - Hartford, CT","uri":"/talks/2023/ctnug-winter/#overview"},{"categories":["cloud","community","events","startup"],"content":"At the end of each year, I take some time for self-reflection. Looking back through 2022 gave me a colossal reminder of how vital teams, communities, and leaders are. Take hockey for instance. You have certain athletes, often referred to as generational players that carry unmatched individual talent and get selected first overall in the NHL Draft. These players are weekly highlight reels, yet, without the right system, coaches, and team, they will never lift the Stanley Cup. This year, I had the opportunity to learn from great leaders, work with amazing teams, engage with valuable communities, and visit exciting places. Here is a recap of my 2022. Highlights ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:0:0","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#"},{"categories":["cloud","community","events","startup"],"content":" Startup Life With AlkiraMy favorite part of working for a startup like Alkira is, making life easier for our customers. Having amazing founders that promote a culture that exemplifies a team of teams, has a way of creating opportunities that translate directly to the product that, in turn, serves our customers. I’m thrilled to be working with the brightest minds in networking as we take a lot of momentum into 2023. ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:1:0","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#startup-life-with-alkira"},{"categories":["cloud","community","events","startup"],"content":" Tech EvangelismI participated in some incredible community and partner events in 2022. Travel is back in full swing post-pandemic, and it was great to see happy smiling faces again. I got to jointly present with the ONUG Collaborative on the Network Cloud - Whitepaper we finished earlier this year, and also the state of Network Cloud. NYC is nice and all, but you can’t beat the weather in Santa Clara which is where Tech Field Day was hosted. The weather was terrific, the delegates were outstanding, and it was a blast connecting with everyone. ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:2:0","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#tech-evangelism"},{"categories":["cloud","community","events","startup"],"content":" Partner EventsMany large organizations juggle various architectures that were deployed at different times when specific technologies were available. This is why partner integrations are critical for businesses looking to evolve while still managing some of their older design patterns. Often, those older applications are the ones generating a lot of the revenue. I got to co-present with quite a few of our partners this year, including HashiCorp, Fortinet, and Infoblox. These events are significant because the better together story is grounded in reality. Each of these integrations is there because it solves a considerable customer problem. ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:2:1","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#partner-events"},{"categories":["cloud","community","events","startup"],"content":" Midwest CommunityConnecting with the community closer to my backyard is always great! AWS Community Day - MidWest was hosted in the Buckeye State, and the sessions were fantastic. I talked about network complexity and digital transformation. I also somehow landed in Kansas City for the BBQ, and stayed for Cloud Security Alliance - KC Chapter. This was a fun bunch with tons of questions and engagement. ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:2:2","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#midwest-community"},{"categories":["cloud","community","events","startup"],"content":" AWS Community BuildersPassion culminates in sharing and brings contagious energy to many professionals at every stage of their journey. I’m super excited about participating in the AWS Community Builder program in the Network C\u0026D category. So far, the engagement has been great. I have been able to learn from seasoned experts and also grow new technologists. This is what makes community such a powerful machine. Community Builders Join Us! If you are curious about joining the program, you can find out more here. During my first month in the program, I got expert assistance with some complicated Terraform I was writing, authored a blog on the AWS Community Builders DEV org, and peer-reviewed some blogs for other builders. Community is a fantastic way to grow your network! ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:2:3","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#aws-community-builders"},{"categories":["cloud","community","events","startup"],"content":" LinkedIn LearningSometime in late 2021, the passionate and dynamic Heather Hurley reached out to me to discuss making LinkedIn Learning Content. One gap that was particularly interesting to me was networking skills transitioning to the cloud-era. The need for content that went beyond certifications and approached the problem with real-life scenarios and experiences was needed. Working with the LinkedIn Learning team was a blast, and in September, we released Hybrid Multicloud Networking - Practical Concepts. LinkedIn Learning Want to make content? Are you passionate about your craft? Want to bring it to life and help others along their journey? You can apply to become a LinkedIn Learning Instructor here. If you have experience creating content on your own, then doing it with LinkedIn will be a pleasant surprise. Not having to do your own post-processing is winning!. ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:3:0","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#linkedin-learning"},{"categories":["cloud","community","events","startup"],"content":" Writing About StartupsIn 2022, I decided to pick a few up-and-coming startups to write about that I think will be valuable in the future. This year it was Lightlytics, Infracost, and ZeroTier - (I guess ZeroTier isn’t technically a startup anymore, but Mesh VPNs are cool). I plan to continue that trend this year. ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:4:0","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#writing-about-startups"},{"categories":["cloud","community","events","startup"],"content":" ConclusionHappy Holidays to everyone! Hopefully, many of you can take time with your family and recharge. If you are near the Hartford, CT area, join me at the first (CT)NUG of 2023 on January 19th at Thomas Hooker Brewery. If you are not in Hartford, check out (US)NUA for upcoming events close to your area! Hearing professionals in the community talk from experience and share their collective wisdom is magic and offers some good perspective you can’t get over Zoom. See you there! ","date":"20 December 2022","objectID":"/posts/2022/looking-back-at-2022/:5:0","series":null,"tags":["alkira","awscommunitybuilders","linkedinlearning"],"title":"Looking Back At 2022","uri":"/posts/2022/looking-back-at-2022/#conclusion"},{"categories":["conference","events"],"content":"As far as tech conferences are concerned, it’s hard to find one as exciting as AWS re:Invent. Whether it’s anticipation for new product announcements or connecting in person with the community, there is something electrifying about being at ground zero. And if you can make the trip, you will get a lot of great exercise too! I hit close to 100K steps or approx. 43 miles according to my Fitbit. What were some of my favorite highlights from re:Invent 2022? Intro ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:0:0","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#"},{"categories":["conference","events"],"content":" CommunityJason Dunn put on a spectacular event for the AWS Community Builders. Intros were made to various members of the AWS team, community managers, topic leaders, developer advocates, and DevRel leadership. Even the legend, Jeff Barr, was there. The food was hot, the SWAG was hotter, and the conversation and networking was off the chain. These types of events are where major opportunities happen. Want to become a Community Builder? Check out our page. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:1:0","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#community"},{"categories":["conference","events"],"content":" AttendanceThere were over 60K in attendance this year, and all the sessions I attended were excellent. You can find most of the events already available on the AWS Events YouTube channel. Timelapse ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:2:0","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#attendance"},{"categories":["conference","events"],"content":" Network AnnouncementsMy favorite category, Networking \u0026 Content Delivery, saw a few new product launches. Let’s dig in! ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:3:0","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#network-announcements"},{"categories":["conference","events"],"content":" VPC LatticeWant consistent network policy and traffic management across instances, containers, and serverless? A new full managed service called VPC Lattice is now in preview. This feels like a service-mesh “lite” aimed at scaling service-to-service connections while incorporating some zero-trust. Having visibility into service-to-service interactions is important. VPC Lattice PricingVPC Lattice Pricing is broken down into three components that ultimately decide how much that final bill will increase. Per hour charge for each running service (that runs on instances, containers, or serverless). The price will differ per region, but for US East it is $0.0250/hr Per GB charge for each gigabyte of data running through each service. Again, the price for US East is $0.0250/GB Requests made to to each service are priced at a $0.10 per 1 million requests rate. You begin getting charged once you exceed the always free tier Preview Waitlist Services are heavily restricted and controlled during Preview periods. VPC Lattice is only available in US West (Oregon) as of right now. You can get on the waitlist here. Preview is available for up to 5 AWS accounts at a time. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:3:1","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#vpc-lattice"},{"categories":["conference","events"],"content":" VPC LatticeWant consistent network policy and traffic management across instances, containers, and serverless? A new full managed service called VPC Lattice is now in preview. This feels like a service-mesh “lite” aimed at scaling service-to-service connections while incorporating some zero-trust. Having visibility into service-to-service interactions is important. VPC Lattice PricingVPC Lattice Pricing is broken down into three components that ultimately decide how much that final bill will increase. Per hour charge for each running service (that runs on instances, containers, or serverless). The price will differ per region, but for US East it is $0.0250/hr Per GB charge for each gigabyte of data running through each service. Again, the price for US East is $0.0250/GB Requests made to to each service are priced at a $0.10 per 1 million requests rate. You begin getting charged once you exceed the always free tier Preview Waitlist Services are heavily restricted and controlled during Preview periods. VPC Lattice is only available in US West (Oregon) as of right now. You can get on the waitlist here. Preview is available for up to 5 AWS accounts at a time. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:3:1","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#pricing"},{"categories":["conference","events"],"content":" Verified AccessVPNs are getting a lot of hate these days, and ZTNA products are getting a lot of love. I’m not surprised to see AWS release Verified Access for secure access to corporate applications. Like the bulk of ZTNA products on the market today, Verified Access uses conditions based on identity data and device posture for application access. Verified Access PricingVerified Access is broken down into two components that make up the final bill. Application Hours is an hourly charge for associated applications, which comes in at $0.27/hr for 1-148800 app-hours. If you surpass 148800 app-hours, this is reduced to $0.20/hr. Each partial application hour is rounded up and billed for the whole hour. GB of data processed is a $0.02 per GB charge that gets processed for all data flowing between users and applications while using the service. Services in Preview Visit Service Terms to learn more about the terms and conditions for all release types. Remember, Preview releases are not intended for production! You can check here to see if new services are available in a given region. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:3:2","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#verified-access"},{"categories":["conference","events"],"content":" Verified AccessVPNs are getting a lot of hate these days, and ZTNA products are getting a lot of love. I’m not surprised to see AWS release Verified Access for secure access to corporate applications. Like the bulk of ZTNA products on the market today, Verified Access uses conditions based on identity data and device posture for application access. Verified Access PricingVerified Access is broken down into two components that make up the final bill. Application Hours is an hourly charge for associated applications, which comes in at $0.27/hr for 1-148800 app-hours. If you surpass 148800 app-hours, this is reduced to $0.20/hr. Each partial application hour is rounded up and billed for the whole hour. GB of data processed is a $0.02 per GB charge that gets processed for all data flowing between users and applications while using the service. Services in Preview Visit Service Terms to learn more about the terms and conditions for all release types. Remember, Preview releases are not intended for production! You can check here to see if new services are available in a given region. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:3:2","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#pricing-1"},{"categories":["conference","events"],"content":" Other Big AnnouncementsThis year seemed bigger than ever, and if I had to pick one category that commanded a lot of attention, it was data management. Nobody says this as elegantly as the CEO: Adam Selipsky To unlock the full power, the full value of data, we need to make it easy for the right people and applications to find, access and share the right data when they need it — and to keep data safe and secure. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:4:0","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#other-big-announcements"},{"categories":["conference","events"],"content":" DataZoneDataZone aggregates data sources, sets up a data catalog of sorts, and allows you to define a taxonomy. You can then govern access to data in one place. Let’s face it, data is heavy, hard to manage, and time-consuming to make sense of. Anything that streamlines and simplifies administration is winning. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:4:1","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#datazone"},{"categories":["conference","events"],"content":" Security LakeWherever there is data, security is not far behind. What happens when you combine data lakes and security? You get a purpose-built data lake for security-related data and name it Security Lake. On the surface, this looks pretty valuable as it appears to aggregate data from the cloud and on-premises security infrastructure and solutions and normalize it with the Open Cybersecurity Schema Framework (OCSF). In this long history of security and data, gathering tons of data was never a problem. Normalizing, understanding, and contriving value is. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:4:2","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#security-lake"},{"categories":["conference","events"],"content":" CloudWatch - Internet MonitorCloudWatch got a new feature called Internet Monitor which enables you to continually monitor internet availability and performance metrics. The monitoring happens through your VPC, CloudFront distributions, and Workspaces directories. The goal is to arm operations with insight into how internet issues impact the performance of applications hosted in AWS and end-users accessing those applications. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:4:3","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#cloudwatch---internet-monitor"},{"categories":["conference","events"],"content":" ConclusionAs always, re:Invent did not disappoint. There was a lot of post-pandemic excitement that was pretty contagious, and it was great to catch up with folks I hadn’t seen in a while or had never met in real-life. When you get that many builders together, you know some magic is bound to happen. ","date":"6 December 2022","objectID":"/posts/2022/aws-reinvent-2022-recap/:5:0","series":null,"tags":["aws","awscommunitybuilders","aws-reinvent"],"title":"AWS re:Invent 2022 - Recap","uri":"/posts/2022/aws-reinvent-2022-recap/#conclusion"},{"categories":["cloud","cloud-networking","network-design"],"content":"The necessity for protocols to keep communication secure has been around since the dawn of the internet. The first ever VPN was jointly developed by a vendor consortium (which included Microsoft) in 1996, and came in the form of Point-to-Point Tunneling Protocol. Although many are skeptical about the value of VPNs in 2022 and beyond, customer consumption of cloud provider VPN services have paved the way for additional features and exponential scale. What impact do innovations like Transit Gateway and Accelerated VPN Connections have on design complexity, network performance, and operations? In this blog, I will look back at the first time I deployed a site-to-site VPN and then examine what is possible today when thinking through network design. This is going to be two parts. ","date":"22 November 2022","objectID":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/:0:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn"],"title":"Evolution of AWS Site-to-Site VPN - Part 1","uri":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/#"},{"categories":["cloud","cloud-networking","network-design"],"content":" My First ExperienceSite-to-Site VPN in AWS is a fully managed and highly available service. This comes in the form of two endpoints on the AWS side (public IP addresses in different AZs per one VPN connection). This service is charged hourly per connection (plus data transfer charges). My first experience connecting on-premises to AWS looked something like this: First VPN This was long before the public cloud had disrupted enterprise infrastructure. In this case, we had a single VPC that required connectivity back to on-premises. Since the application being developed wasn’t production, we set up a single VPN connection to a single physical router in the Data Center. This was easy work since, as network engineers, we pushed VPNs like weights. And we had an existing B2B process in place, so our paperwork + process was ready. Somewhere along the way, though, this application went into production. ","date":"22 November 2022","objectID":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/:1:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn"],"title":"Evolution of AWS Site-to-Site VPN - Part 1","uri":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/#my-first-experience"},{"categories":["cloud","cloud-networking","network-design"],"content":" Making it Highly AvailablePre Transit Gateway, you would typically see a Virtual Private Gateway and VPN connection from each VPC back to on-premises devices. If you follow best practices and want the highest availability possible in this scenario, you will also have redundant devices on-premises. This means you would end up with 2x VPN connections, which totals 4x VPN tunnels per VPC. Once the application went past QA, to meet our requirements for Tier 0 infrastructure, we needed high availability. Single VPC Traffic Forwarding One question I could always count on getting from developers when we would onboard this design was: “Since we have four tunnels here, why can’t we forward traffic on all of them?” The simple answer is that you can override defaults and forward traffic across all tunnels to AWS from on-premises; however, the VGW will always select a single tunnel for return traffic. ","date":"22 November 2022","objectID":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/:1:1","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn"],"title":"Evolution of AWS Site-to-Site VPN - Part 1","uri":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/#making-it-highly-available"},{"categories":["cloud","cloud-networking","network-design"],"content":" Growth, Scale, and OperationsAt some point, Digital Transformation (you may have heard of it) caused crazy fast growth. And with that growth came more VPCs. And with those VPCs came the necessity for connectivity back to on-premises. Say we add just two additional VPCs using the above methodology, and we end up with 6x VPN connections, bringing us to 12x VPN tunnels to manage. Multi VPC How much growth? The above example is single region with only 3 VPCs. The reality for many organizations using AWS is much larger. What would this design look like if we had 50 VPCs? What happens when we need to include multi-region for DR capabilities? How does it impact operations when an application has performance issues, and the network is getting blamed? ","date":"22 November 2022","objectID":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/:1:2","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn"],"title":"Evolution of AWS Site-to-Site VPN - Part 1","uri":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/#growth-scale-and-operations"},{"categories":["cloud","cloud-networking","network-design"],"content":" ConclusionAs we onboard more VPCs, it becomes apparent that the above design does not easily scale. Bandwidth is limited, tunnels increase exponentially, and operations will have limited success in diagnosing network problems (or proving the network is not the problem). In Part 2 we will dive into how Transit Gateway and Accelerated VPN Connections take this from an operational misstep to an enterprise success story. ","date":"22 November 2022","objectID":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/:2:0","series":null,"tags":["aws","awscommunitybuilders","site-to-site vpn"],"title":"Evolution of AWS Site-to-Site VPN - Part 1","uri":"/posts/2022/evolution-of-aws-site-to-site-vpn-part-1/#conclusion"},{"categories":["automation","cloud","cost-management","tools"],"content":"Blowing out cloud spend is an easy thing to do. This McKinsey Report notes that 80% of enterprises consider managing cloud spend a challenge. I recently presented at the Cloud Security Alliance in Kansas City and had the opportunity to network with some tremendous DevOps and Security professionals. One excellent side conversation somehow transitioned to a deep discussion on better ways to understand cost implications in the era of infrastructure-as-code. Shouldn’t cost be someone else’s problem? Intro ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:0:0","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#"},{"categories":["automation","cloud","cost-management","tools"],"content":" Cost is a Shared ResponsibilityAs many organizations continue shifting workloads to the cloud, the cost impacts the bottom line. The responsibility of cost-management now transcends the CIO and accounting straight down to individual engineers. If this sounds scary, fear not. It is an incredible opportunity in the making. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:1:0","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#cost-is-a-shared-responsibility"},{"categories":["automation","cloud","cost-management","tools"],"content":" Where do Engineers Work?Engineers do not work in spreadsheets, nor do they work with accounting software. Most software engineers work day-to-day in version control. Furthermore, the centralized teams managing cloud infrastructure more broadly live in this world as well. Version Control often employs an approval process before a pull request is merged, and infrastructure is provisioned. What if you could see the cost impact right here? Yes, right where you, the engineer live? This is what Infracost does. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:1:1","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#where-do-engineers-work"},{"categories":["automation","cloud","cost-management","tools"],"content":" PrerequisitesFirst, follow the instructions found here to download and authenticate Infracost. This includes creating an org inside the platform, which is where you can fetch the API key. Then we need a quick way to spin up some small AWS instances and then quickly dial them up to more expensive options. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:1:2","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#prerequisites"},{"categories":["automation","cloud","cost-management","tools"],"content":" AWS ConfigurationI’ll be using the following Terraform configuration to build the AWS infrastructure. I’ll keep the dynamic portions of the configuration in a separate locals block so we can easily adjust for testing. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:2:0","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#aws-configuration"},{"categories":["automation","cloud","cost-management","tools"],"content":" Let’s Test via CLIFirst, let’s do a terraform plan against the following criteria: ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:3:0","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#lets-test-via-cli"},{"categories":["automation","cloud","cost-management","tools"],"content":" Running a Cost EstimateNow, let’s run a cost estimate with Infracost and provision an instance: Run Estimate Once this is done, we can check out the results on the Infracost portal: Validate Estimate ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:3:1","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#running-a-cost-estimate"},{"categories":["automation","cloud","cost-management","tools"],"content":" Running a Cost DiffBigger and more expensive is better, right? Let’s update our configuration with a few changes. Let’s switch that t2.micro to an m5.24xlarge, and let’s see how much it would cost to provision four of them: This time, we will tweak the command to generate a diff: Run Diff Once we navigate back to the portal, we can see the cost change. I have gone from a monthly cost of $9.27 up to a panic-inducing $13,449. Maybe I don’t need the m5.24xlarge instances for this testing! Validate Diff ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:3:2","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#running-a-cost-diff"},{"categories":["automation","cloud","cost-management","tools"],"content":" Testing with GitHub ActionsIn the spirit of shifting-left, let’s have a go with GitHub Actions running against every pull request. A lot of spending happens outside production, so this is an excellent way to control spending right at the source. If something doesn’t get deployed, it can’t cost you anything. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:4:0","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#testing-with-github-actions"},{"categories":["automation","cloud","cost-management","tools"],"content":" GitHub Actions WorkflowBy default, it will execute the typical Terraform init and plan. Then it will run terraform show -json plan.tfplan and save the output to plan.json. Then, Infracost can run its calculations. This will be populated in the conversation log along with everything else being tested as part of the pipeline. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:4:1","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#github-actions-workflow"},{"categories":["automation","cloud","cost-management","tools"],"content":" Creating a Pull RequestOnce we create any pull request, the workflow will run and populate the cost details. At this point in the workflow, multiple approvals can be added. Three sets of eyes are better than one when spending so much with the click of a button! You can find the supported CICD platforms in the Infracost documentation. CICD ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:4:2","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#creating-a-pull-request"},{"categories":["automation","cloud","cost-management","tools"],"content":" ConclusionUnderstanding TCO in the cloud is a deep topic that spans a whole organization. It can be easy to keep provisioning EC2 instances when you are disconnected from the cost. The ability to see the cost in the pipeline is a fantastic way to practice due diligence on the technical side of responsibility. Arming engineers with the right tooling and knowledge will help drive cost-conscientious decisions. Small steps like this, along with driving continuous governance strategically, are significant steps in getting control of cloud spend. ","date":"4 October 2022","objectID":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/:5:0","series":null,"tags":["aws","awscommunitybuilders","github-actions","infracost","infrastructure-as-code","terraform"],"title":"Calculating Cost Like a DevOps Boss with Infracost and AWS","uri":"/posts/2022/calculating-cost-like-a-devops-boss-with-infracost-and-aws/#conclusion"},{"categories":null,"content":" Slides Link“Move everything to Cloud,” they said. Don’t worry about the traditional network, it doesn’t matter anymore! When organizations are mostly hybrid and have compliance, centralized control, availability, and security to wrangle, does networking really NOT matter anymore? Users now work from anywhere, workloads exist across many clouds, and a lot of your organization’s data is still in the data center. Let’s break down the convergence of networking and security and tease out cloud-native security VS best-of-breed for securing your Hybrid Multi-Cloud world. ","date":"27 September 2022","objectID":"/talks/2022/cloud-security-alliance/:0:0","series":null,"tags":null,"title":"Cloud Security Alliance - Kansas City, MO","uri":"/talks/2022/cloud-security-alliance/#slides-linkcloud_security_alliance_kcpdf"},{"categories":["automation","cloud","tools"],"content":"Optional attributes for object type constraints is almost here! I’ve been waiting for this feature to come along for a while. I have tested it extensively in -alpha, and I can confidently confirm that it is a game changer. This feature is long in the making, being discussed as far back as this thread in 2018. Today, it is now in beta, so the official release could be any day now. Let’s demonstrate how this is useful and build some common AWS infrastructure. ","date":"6 September 2022","objectID":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/:0:0","series":null,"tags":["aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"The Best Terraform Feature Yet?","uri":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/#"},{"categories":["automation","cloud","tools"],"content":" Why it is UsefulBefore this feature, you could resort to using tricks to make arguments in object variables optional. This usually included providing a null value for optional parameters and then doing some fancy lookup or conditional like so: Now, we can make that individual attribute optional without any hackery involved. The first thing to know here is that when setting optional(string) without a default value as shown below, the default value is null. While having the default value automatically set to null is helpful, it only solves half of the problem. What happens if we have a scenario where we still want to provide a value in the logic, even if one isn’t supplied at runtime? Then we can set a default value with a second argument like this: ","date":"6 September 2022","objectID":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/:1:0","series":null,"tags":["aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"The Best Terraform Feature Yet?","uri":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/#why-it-is-useful"},{"categories":["automation","cloud","tools"],"content":" Building some Infrastructure in AWSThis feature comes in handy when building complex data types. Let’s look at something as simple as building an AWS VPC. Your organization could be using VPC IPAM but may still need the option to pass in custom CIDRs at runtime. Or, other standard defaults may need to be set if not provided at runtime. Take the following example: If only the cidr_block attribute is provided at runtime, then the IPAM attributes will be nullified. This simplifies our resource configuration as follows: ","date":"6 September 2022","objectID":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/:2:0","series":null,"tags":["aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"The Best Terraform Feature Yet?","uri":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/#building-some-infrastructure-in-aws"},{"categories":["automation","cloud","tools"],"content":" Test it Yourself!Want to start testing? Grab v1.3.0-beta1 and setup your versions.tf like this: ","date":"6 September 2022","objectID":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/:3:0","series":null,"tags":["aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"The Best Terraform Feature Yet?","uri":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/#test-it-yourself"},{"categories":["automation","cloud","tools"],"content":" ConclusionAWS VPC is a simple example. This feature really shines when building reusable infrastructure-as-code for Network Firewall or even Network ACLs. Anything that simplifies something and reduces or eliminates any hacks required to reach a logical outcome is super valuable. Great work finally driving this one home HashiCorp. ","date":"6 September 2022","objectID":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/:4:0","series":null,"tags":["aws","awscommunitybuilders","infrastructure-as-code","terraform"],"title":"The Best Terraform Feature Yet?","uri":"/posts/2022/the-best-terraform-feature-yet/the-best-terraform-feature-yet/#conclusion"},{"categories":null,"content":"Listen to “Two-Minute Toolkit: Alkira Principal Cloud Architect William Collins on Misconfigurations and Cloud Outages” on Spreaker. ","date":"23 August 2022","objectID":"/talks/2022/two-minute-toolkit/:0:0","series":null,"tags":null,"title":"Two-Minute Toolkit - Misconfigurations and Cloud Outages","uri":"/talks/2022/two-minute-toolkit/#"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":"There is a reason why enterprises prefer the best-of-breed approach to connect and secure their network and intellectual property. Alkira announced its integration with Fortinet at AWS re:Inforce in July, and this is a perfect example of the best in action. As anyone that reads my blog knows, I have an automation first approach to everything. Alkira’s Terraform Provider is Fortinet ready, so let’s take it for a spin! Intro ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:0:0","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Key FeaturesThis partnership comes packed with great features, including the seamless integration of FortiManager (which orchestrates the Fortinet Security Fabric), extending existing firewall zones into and across clouds with auto-mapping of zones-to-groups, and weathering traffic surges with auto-scaling. Alkira and Firewall State Coming from the Data Center world, configuring firewalls for high-availability has its challenges. Since firewalls are stateful, if traffic ingresses firewall-a and egresses firewall-b, you break state since firewall-b has no session. With Alkira, FortiGate instances run active/active and traffic symmetry is handled natively. Consistent hashing is inserted into the forwarding layer to detect failures and transition to available instances. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:1:0","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#key-features"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" The PlanFor this exercise, I decided to include a mix of Hybrid Multi-Cloud and Multi-Region to play with, and why not cross continents too? I already have an SD-WAN fabric extended into East US and Central EU regions along with an IPSEC tunnel. For cloud, I have several networks connected from AWS and Azure with Multi-Cloud Internet Exit. This gives us plenty of options for selectively forwarding traffic to the FortiGates for east/west, north/south, and internet bound traffic. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:2:0","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#the-plan"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Existing Topology Topology ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:2:1","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#existing-topology"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Scoping CriteriaFirst, let’s scope out the basics of what we want to deploy: FortiGates running FortiOS: 7.0.3 deployed in all regions Register with on-premises FortiManager Minimum: 2 / Maximum: 4 auto-scaling configuration Extend existing on-premises FortiGate zones across all clouds ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:2:2","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#scoping-criteria"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Policy CriteriaSecond, let’s define what traffic we want to steer through the FortiGates and what should be left alone. Deny any-to-any by default Non-Prod can talk to Non-Prod directly but must pass through a FortiGate when talking to Prod Non-Prod can egress to the internet directly, but Prod must first pass through a FortiGate Partner can talk to migration cloud networks only but must first pass through a FortiGate Corporate can talk to all cloud networks but must first pass through a FortiGate The partner requirement above is pretty standard. As organizations look to modernize using the public cloud, often, they will work with a preferred partner to give them a strong start and avoid mistakes in the beginning that would otherwise set them back. These partners generally have access to the environments in scope for modernization only. Why not forward everything to Firewalls? It may be tempting to forward all traffic through NGFWs. Meeting compliance requirements, especially when protected data is involved, can be challenging. However, it does not make sense when examining cloud principles and cost. Identify traffic required to transit firewalls if possible for compliance or other meaningful reasons. If you have sandbox cloud networks that have no access to data or any other intellectual property, does it make sense to forward all that traffic through a firewall? ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:2:3","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#policy-criteria"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Let’s Build!We could create separate resource blocks for each FortiGate we want to deploy, but that would be unsightly. For this example, let’s use [count](https:// to create multiple services and dynamic blocks to handle the nested schema for instances. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:3:0","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#lets-build"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Some LocalsWe need to deploy the service twice since we are working across two regions. Let’s define names for the service, the regions we are deploying for, instance configurations for when auto-scaling occurs, and some values for policies. I have a separate variables.tf file with var type: list(map(string)) that I have the instance names and serials defined in, so I’m just looping through those here. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:3:1","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#some-locals"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Fortinet ConfigurationSince we already have segments and groups provisioned, we can reference them in our main.tf file. This configuration will provision a Fortinet service per region, connect back to our FortiManager instance on-premises, map our existing firewall zones to Alkira groups for multi-cloud segmentation, and auto-scale to handle load elastically. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:3:2","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#fortinet-configuration"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" Policy ConfigurationNow, we can selectively steer traffic to the FortiGates. Policy Resources can take a list of ids for source and destination groups. This is why I defined the to_groups and from_groups in local variables. We can simply loop through each set, return the IDs, and provide them as a single value to the policy resource. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:3:3","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#policy-configuration"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" ValidationLet’s validate our policies to make sure they are meeting requirements. Alkira’s ability to visualize policy comes in handy when reviewing multi-cloud policy, traffic flows, and network security more broadly. Having the ability to integrate this into the DevOps Toolchain makes for a great experience. Validation ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:4:0","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#validation"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netdevops","netsecops"],"content":" ConclusionEver heard of that single product that solved all your organization’s network and security problems? Me neither! Valuable integrations like this one solve real problems. With the explosion of cloud services, it pays to zoom out and think about the long game. Building a strategy for your organization to support the legacy applications you can’t migrate, the applications on deck for migration to the cloud, and greenfield applications across multiple clouds, is a winning strategy. Alkira and Fortinet are two products that can help shift your focus to outcomes. ","date":"3 August 2022","objectID":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/:5:0","series":null,"tags":["alkira","fortinet","infrastructure-as-code","policy-as-code","terraform","segmentation"],"title":"Terraforming Alkira and Fortinet is Multicloud Bliss","uri":"/posts/2022/terraforming-alkira-and-fortinet-is-multicloud-bliss/#conclusion"},{"categories":["app-modernization","digital-transformation","events"],"content":"I had the opportunity to present at the 4th annual AWS Community Day for the Midwest in June. This event was planned, organized, and delivered by AWS user group leaders and was an absolute blast. I got to catch up with a few remarkable individuals I haven’t talked to since pre-pandemic, and I got to meet many new people and listen to their stories of transformation in their respective enterprises. Intro ","date":"25 July 2022","objectID":"/posts/2022/aws-community-day-midwest/:0:0","series":null,"tags":["aws-community-day"],"title":"AWS Community Day - Midwest","uri":"/posts/2022/aws-community-day-midwest/#"},{"categories":["app-modernization","digital-transformation","events"],"content":" Small Package, Major Home RunAWS re:Invent is incredible, but it is a little like drinking from the firehose. So much to do, so many people to see, so many sessions, and a crowd like you’ve never seen. Community Day is smaller, intimate, and focused. CSCC, Mitchell Hall was used for the venue, which is an excellent facility for event hosting, and the Community Leaders did a fantastic job with organizing everything. ","date":"25 July 2022","objectID":"/posts/2022/aws-community-day-midwest/:1:0","series":null,"tags":["aws-community-day"],"title":"AWS Community Day - Midwest","uri":"/posts/2022/aws-community-day-midwest/#small-package-major-home-run"},{"categories":["app-modernization","digital-transformation","events"],"content":" My TalkMy talk was centered around my real-life experiences with navigating network complexity as businesses dive into the digital transformation deep-end. You can grab the slides here. One thing that did surprise me was how many other professionals in attendance were going through precisely what I had gone through in their respective organizations. Legacy infrastructure and company culture are no respecter of persons. If you want to take a listen, here is the link: ","date":"25 July 2022","objectID":"/posts/2022/aws-community-day-midwest/:2:0","series":null,"tags":["aws-community-day"],"title":"AWS Community Day - Midwest","uri":"/posts/2022/aws-community-day-midwest/#my-talk"},{"categories":["app-modernization","digital-transformation","events"],"content":" Other Great SessionsDiagnosing Childhood Cancer with AWS Step Functions presented by Grant Lammi, was one of the major standout sessions for me. His talk focused on the difficulty of diagnosing and understanding why children have the cancers they do, what treatment is available, and how to get that treatment to them quicker. This involved a massive operation of sequencing the DNA of children throughout the United States. All the other sessions I attended were fantastic. ","date":"25 July 2022","objectID":"/posts/2022/aws-community-day-midwest/:3:0","series":null,"tags":["aws-community-day"],"title":"AWS Community Day - Midwest","uri":"/posts/2022/aws-community-day-midwest/#other-great-sessions"},{"categories":["app-modernization","digital-transformation","events"],"content":" ConclusionIt was refreshing attending an event in-person again. There is a contagious energy that these events bring, and I found myself going home motivated with lots of new ideas. Everyone is in a different stage of their journey, but no matter where you are, you will find someone who emboldens you or others you can encourage. That, my friends, is community. ","date":"25 July 2022","objectID":"/posts/2022/aws-community-day-midwest/:4:0","series":null,"tags":["aws-community-day"],"title":"AWS Community Day - Midwest","uri":"/posts/2022/aws-community-day-midwest/#conclusion"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":"Zero Trust is all the rage lately, and traditional VPNs are getting a lot of scrutiny since they essentially add and remove encryption at the firewall. This means bad actors can skip off into the sunset (laterally) and gain access to those legacy systems with less effort. Another challenge with using a traditional VPN is scaling with the dramatic shift to hybrid work. ZeroTier is an interesting solution that claims to combine the capabilities of VPN and SD-WAN, among other things. Let’s take it for a spin. How hard could Zero Trust be? Most tech these days supports HTTPS. How hard could Zero Trust be? Anyone that has managed certificates in a large enterprise can answer this question. It is more complicated than it may appear to be on the surface. And as you begin removing that complication, you start trusting identity providers and certificate authorities more broadly. One question that must be asked is, if you are using any number of Zero Trust solutions hitting the market, are they Zero Trust when you trust them to own everything? Intro ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:0:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" ScenarioI know many people (myself included) that want to access devices on their home network while they are away. A solid example here is security cameras or maybe a lab environment that you can test with while traveling. I wouldn’t want to make my home cameras reachable directly from the internet. One way you could solve this problem is by hosting an OpenVPN server on your network, so when you are away, you can fire up the mobile app, connect, and check out what is going on around your property. How would these scenarios work with ZeroTier? Let’s lab it up! ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:1:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#scenario"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" First, What is ZeroTier?ZeroTier is a Mesh VPN solution. Mesh VPNs facilitate connectivity directly between any two endpoints in the mesh without having to transit through a concentrator in a data center. Sessions between every pair of endpoints are encrypted end-to-end. If a bad actor can exploit a device, they only gain visibility into the traffic coming in and leaving that device, making lateral movement a challenge. ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:2:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#first-what-is-zerotier"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" ZeroTier Network HypervisorZeroTier’s network hypervisor is a custom protocol that implements a VXLAN like ethernet virtualization across two layers: Virtual Layer 1 (VL1): is the underlying peer-to-peer transport layer handling encryption, endpoint authentication, and credential verification Virtual Layer 2 (VL2): overlays boundaries, multicast, rule enforcement, and certificate-based access control on (VL1) Protocol Design Want to dig deeper into ZeroTier’s Network Hypervisor? Check out the Protocol Design Whitepaper for a transparent explanation of ZeroTier’s services, apps, and libraries. Remember, sufficiently advanced technology is like magic until you read the docs! ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:2:1","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#zerotier-network-hypervisor"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" What is OPNsense? OPNsense OPNsense is an open-source security platform based on FreeBSD. I have used it historically as an entry point into various lab environments and as a customer-side appliance to terminate site-to-site VPNs for various public cloud providers. Since the platform offers LDAP and 2FA, extending access to others for collaboration is simple. OPNsense offers a ZeroTier Plugin and supports dynamic routing via FRR. Why are we using a Firewall? You may be asking, why are we installing this on a firewall given the peer-to-peer architecture of ZeroTier? By installing ZeroTier on the firewall, it acts as a bridge of sorts between all the devices on my test network and the outside ZeroTier members I authorize. In doing this, I don’t have to install the ZeroTier client on each device I want to talk to when operating remotely. ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:3:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#what-is-opnsense"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Setting up ZeroTierFirst, we need to sign-up for a ZeroTier Account. Each VL2 network is identified by a 64-bit (16 hex digit) ID. Once our email is confirmed, we can create a network, add a new friendly name + description, and retrieve the Network ID. ZT Network ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#setting-up-zerotier"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Installing ZeroTier PluginNext, let’s install the ZeroTier plugin on the OPNsense instance in front of the lab. Plugin ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:1","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#installing-zerotier-plugin"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Configuring OPNsenseNow, we need to configure the ZeroTier service on OPNsense. First, we must enable the service, and then we can add the network using the Network ID generated when we created the network in the ZeroTier portal. Configure OPNsense ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:2","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#configuring-opnsense"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Authorizing New MembersAfter we add the network in OPNsense, we can hop back to the ZeroTier portal and authorize it. Since I want to enable access for others to this lab environment, I’ll be setting up a managed route with the destination as the RFC1918 space of the lab with the OPNsense instance as the gateway. To prevent any future confusion, I configured Do Not Auto-Assign IPs when authorizing, and configured the managed IP statically. Authorize ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:3","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#authorizing-new-members"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Assigning the ZT InterfaceIf you navigate to Interfaces \u003e Assignments, you should see a new interface populated. We need to add this interface and assign a static IPv4 address using the managed IP we set in the ZeroTier portal. Assign Interface ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:4","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#assigning-the-zt-interface"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Adding a Managed RouteTo route traffic beyond the OPNsense instance, we need to add a managed route in ZeroTier. For the destination, we will use the RFC1918 space for the lab environment. For the gateway (Via), we will use the managed IP we set for OPNsense in the ZeroTier portal. Managed Routes ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:5","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#adding-a-managed-route"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Allowing Traffic on OPNsenseTo allow communication from other ZeroTier members into our lab environment, we need to add a firewall rule on the ZeroTier interface in OPNsense. Of course, since this is a blog, I’m committing the cardinal sin of inserting an any-to-any rule. Avoid doing this as a general practice! Rules Without the Firewall ZeroTier uses UDP hole punching, which essentially tricks the router into allowing access to a port on a device directly without establishing a TCP session. Since firewalls are stateful, they keep track of connections. Since UDP doesn’t establish a session, there is only a concept of inbound/outbound packets on the firewall. This means the firewall has to rely on limited data to let returning packets through (UDP 5-tuple data). ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:6","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#allowing-traffic-on-opnsense"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" Connecting from Client DevicesYou can find the ZerTier One application on Google Play or the Apple Store. Once the app is downloaded, you can provide the network ID and click Join Network to connect. Downloads for other platforms can be found here. ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:4:7","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#connecting-from-client-devices"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" ZeroTier SDKWant to enable a mobile app to join a network without requiring special permissions on the phone or adding a tun/tap port? The ZeroTier SDK takes the network hypervisor and couples it with an embedded TCP/IP stack which you can link into an application library. This essentially moves the network stack into the application itself. ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:5:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#zerotier-sdk"},{"categories":["mesh-vpn","remote-work","sd-wan","vpn","zero-trust"],"content":" ConclusionMesh VPNs offer a thought-provoking alternative to traditional hub-and-spoke designs. It would be interesting to see what a large-scale deployment would look like in the typical risk-averse enterprise and how the migration path would play out. Tailscale seems to be the biggest competitor in this space and more or less does the same thing, just using different protocols. While ZeroTier’s protocol is proprietary, Tailscale uses Wireguard for its data plane. I look forward to seeing how remote work evolves over the next few years. ","date":"10 July 2022","objectID":"/posts/2022/exploring-zerotier-for-remote-access/:6:0","series":null,"tags":["opnsense","openvpn","tailscale","zerotier"],"title":"Exploring ZeroTier For Remote Access","uri":"/posts/2022/exploring-zerotier-for-remote-access/#conclusion"},{"categories":["automation","cloud","tools"],"content":"Anyone that has worked in tech knows that building greenfield is much easier than dragging along brownfield environments through a roller-coaster they aren’t ready for. Tools like Terraform make infrastructure-as-code a breeze, but what about all that infrastructure you already have provisioned? April Edwards, Cloud Advocate at Microsoft, recently posted a blog about Azure Terrafy, a new tool in preview which aims to simplify the process. You can find the original blog here. Let’s take it for a spin! Intro Can't you already import resources into Terraform state? Terraform Import enables the importing of infrastructure today, but this only imports one resource at a time, and it’s on you to build the configuration files. Sounds time-consuming, right? When you are in the process of learning Terraform, having a tool that can import brownfield environments into state while also generating the HCL files, is extremely useful. ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:0:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#"},{"categories":["automation","cloud","tools"],"content":" Installing TerrafyI installed it via go install github.com/Azure/aztfy@latest. Install Terrafy ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:1:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#installing-terrafy"},{"categories":["automation","cloud","tools"],"content":" Building some InfraTo kick off this little experiment, I will build some infrastructure in Azure using Terraform and then create a different project directory to test Terrafy in. If things go south, I don’t have to remove everything manually. main.tf ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:2:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#building-some-infra"},{"categories":["automation","cloud","tools"],"content":" Running TerrafyI created an empty directory called terrafy-test for this exercise. Before running Terrafy, make sure azure-cli is installed and authenticated. If your running on macOS and use Homebrew, you can run brew update \u0026\u0026 brew install azure-cli and then az login. Run Terrafy Missing Resources Like a boss, I ran with defaults and didn’t bother reading any of the well-crafted README. Most of the resources were translated fine, but I noticed the virtual machines and storage accounts didn’t make it. When going through the setup, you will be able to cycle through and view all the resources available to import. If you see (Skip), that resource will indeed get skipped unless you update the resource type accordingly. ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:3:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#running-terrafy"},{"categories":["automation","cloud","tools"],"content":" Was it Successful?Let’s test a few things before we ride off into the sunset. I did a terraform plan -refresh only, and also updated some resources, and everything looks good! Refresh ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:4:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#was-it-successful"},{"categories":["automation","cloud","tools"],"content":" Some ThoughtsThis is a great tool, especially in learning and adoption of infrastructure-as-code. The import process is scoped at the resource group level, which makes a lot of sense. Subscriptions would be the next level up, and that might get too messy. When Terrafy generates the infra-as-code files, it builds a provider.tf to source the azurerm details, and all the other configuration is generated in a monolithic main.tf file. This is the layout here: Output ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:5:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#some-thoughts"},{"categories":["automation","cloud","tools"],"content":" More OrganizationWith infra-as-code, there is no easy button. To make things work at scale, things have to be organized. As a starting point, it would be neat to see Terrafy do more organization. Even something simple like breaking down infra into separate categories would be helpful. An example of this would be taking resources like localNetworkGateways, networkSecurityGroups, and virtualNetworks and putting them into a separate file called network.tf as they all fall under Microsoft.Network when drilling down through azurerm. Virtual Machines and all compute-related components would fall under Microsoft.Compute and would be in a different file called compute.tf. Organizing things in categories like this would make it easy to sift through larger imports. ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:5:1","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#more-organization"},{"categories":["automation","cloud","tools"],"content":" SummaryTerrafy is a great way to bring existing infrastructure into Terraform state. Installation and usage are simple, and the documentation is good. I think this tool will gain enough momentum that new features will come quickly, hopefully on the organization side. To learn more, visit the GitHub page. Happy building! ","date":"16 May 2022","objectID":"/posts/2022/importing-infrastructure-with-azure-terrafy/:6:0","series":null,"tags":["azure","infrastructure-as-code","terraform","terrafy"],"title":"Importing Infrastructure With Azure Terrafy","uri":"/posts/2022/importing-infrastructure-with-azure-terrafy/#summary"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":"The year is 2022, and Kubernetes is wreaking havoc on software delivery as we know it. Applications are going through modernization programs so they can be converted into microservices, but they are coming out the other end as distributed monoliths. Next thing you know, services exist across several clouds and even in your data centers. And, of course, the large majority of enterprises aren’t just greenfield. Many have a combination of technologies stacked over decades, including mainframes. Want some perspective? Check out this article on how COBOL still powers the Global Economy. In this blog, let’s examine the polarization of Kubernetes and microservices. Is it a zero-sum game, or is the real world destined to merge many different types of solutions in organized chaos forever? Before jumping into the world of the microservice, let’s visit our old friend, the monolith. Monolith : a single great stone often in the form of an obelisk or column : a massive structure : an organized whole that acts as a single unified powerful or influential force Merriam-Webster ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:0:0","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" What Is Monolithic Architecture?A monolithic application consists of a server-side application, database, and client-side interface, all of which are deployed as a single unit. You could even have a monolith in the cloud constructed with a cloud-native database, load balancer, and application running on virtual machines. The vital question to ask is, will rebuilding the application with a different architecture replace more problems than it is creating? Monolith ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:1:0","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#what-is-monolithic-architecture"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" When To MonolithOf course, the answer to this is, it depends. Greenfield applications that need to scale horizontally can do so in full monolithic glory using a combination of infrastructure-as-code, image management tooling, and cloud-native services. Yes, fully automated, immutable, pipelines-on-pipelines, and reliability grandma would be proud of. And the best part about this is simplicity. In my experience, having something simple enough to match where an organization is at ends up being far more valuable than something too complicated to troubleshoot, understand, or upgrade. Technology affords us the means to simplify things, and in return, our brains tend to overthink and complicate it. A monolithic system’s initial simplicity can be appealing in many cases. Defining requirements, testing, and getting your MVP off the ground is quick. Some of the premiere companies built on microservices, like Netflix, started with a monolithic architecture. Check out this talk given by Ruslan Meshenberg on their journey: ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:1:1","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#when-to-monolith"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" Criticism of Monolithic ArchitectureSome of the everyday shade thrown towards monolithic architecture include: Diminished understanding over time of the application’s architecture as a whole Lack of modularity, thus limiting reuse or replacement of individual components Ability to make quick and reliable changes following increased growth + complexity Slower innovation coupled with a vastly competitive market; Risk of losing market share Scaling limitations; Entire application can scale, but not specific services Zooming Out Just because an application is monolithic doesn’t mean it’s legacy or even outdated. If you have a single monolith with clearly defined module boundaries, sound design, and the ability to scale to an organization’s needs, then why change anything at all? ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:1:2","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#criticism-of-monolithic-architecture"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" What Is Microservice Architecture?Microservices position themselves as the paladin, leading the cause against the feared and long-lived tyrant, the infamous Monolith. The microservice architecture breaks up a given application into loosely coupled and independently deployable services. Each of these services has its own codebase, database, and management model. Kubernetes has emerged as the vehicle of choice for service orchestration. A common goal is to align those services to business capabilities with clearly defined context boundaries. Microservice Context Boundaries In large enterprises, context boundaries are generally predicated on the domain-driven structures of the organization. Furthermore, these contexts forge the boundary for the size and scope of the service. Domain experts must collaborate with development and infrastructure teams to ensure success and cohesion across parallel domains, making this concept a big hurdle for many modernization efforts. ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:2:0","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#what-is-microservice-architecture"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" When To MicroserviceIf a system can’t support exponential growth, thus failing to deliver on business goals, then microservices could be the answer (meaning they solve problems related to horizontal scale). In large organizations, new technologies can often be championed to solve human or organizational problems. This tends to snowball over time as the number of solutions and technical staff to operate them increases. Solving causal problems requires an accurate understanding of their causal structure. One of the best explanations on this I have heard came from Rob Brigham at re:Invent 2015: In this talk, Rob recalls Amazon’s retail website back in 2001 and how it was a large architectural monolith. He then explains how this monolith became problematic and why breaking it into smaller pieces was the right solution. In Rob’s story, maintaining, testing, and deploying in smaller chunks solved the scaling challenges Amazon was facing. Microservices Make Systems It should also be noted that although you can deploy microservices independently, this does not mean they are entirely decoupled. The goal is to produce a distributed system from a collection of services working harmoniously together for the good of the system as a whole. And although using microservice architecture helps manage and scale complex systems, it can also introduce many new and often unquantifiable complexities as a result. ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:2:1","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#when-to-microservice"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" Criticism of Microservice ArchitectureOn GoTime#114, Kelsey Hightower talked at around 54:20 about one of his unpopular opinions which is, “Monoliths are the future”. You can read some of the excerpts here, but I would suggest going back and listening to the entire show to get the full context. Some of the common criticisms of microservice architecture include: Transitioning from monoliths require comprehensive understanding and refactoring Distributed nature adds complexity to testing; Increased overhead as services grow Time and cost associated with refactoring existing app portfolio to microservices Visibility and traceability challenges; New tooling required to manage sprawl Increased moving parts create a larger attack surface; New points of ingress/egress Relationship between services is often as efficient as collaboration between teams Is Something Broke? Enterprise Ops teams typically absorb a lot of data that drives metrics for the business. The real test comes when something is broken. How quickly can an operations team restore service? If it is not in their power to restore service, how fast can the fault be identified and escalated to the appropriate team that can take action? Debugging microservices often comes down to sifting through never-ending logs. Since many issues stem from failed integration between components, using methods like distributed tracing is necessary to understand the relationship between logs to identify issues between services. ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:2:2","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#criticism-of-microservice-architecture"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" Things To Consider Before Changing Things UpYou get to work and sit down at your desk (or maybe roll out of bed and turn on your laptop). You attend your company’s Townhall presented by the CTO. This is the year of Digital Transformation. If Google can microservice on the kubernetes, so can we. It is time to modernize these legacy apps. What would I say if I had a few minutes to talk to this CTO? ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:3:0","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#things-to-consider-before-changing-things-up"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" Organizational StructureMany enterprises today are still organized hierarchically, making the whole structure complex. This directly impacts the speed at which critical decisions are made, thus delaying work from being completed. In post-pandemic life, the ability to make quick and effective decisions is crucial at any rate, but especially when approaching modernized ways of delivering software. Finding ways to flatten the structure, clearly define the roles, and push empowerment for decision making lower can help with organizing for the future. ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:3:1","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#organizational-structure"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" Distributing The MonolithIn life, sometimes the human side of us tends to hammer a square peg into a round hole. Designed initially not to fit, we continue to take swings. If the hammer is big enough and the peg is as frail as many applications, you will get the peg into the hole. Now the operation of the object housing the peg may work, but not to its full potential. When it comes to transitioning monolithic applications into microservices, the result is often distributing the monolith. This type of application is deployed like a microservice but built like a traditional monolith. I have often seen this happen with applications hammered into the managed cloud provider kubernetes services. Are you in this boat? Start with these questions: Are any of our microservices sharing a datastore? Is our rock-star developer working across multiple microservices? Does making a change in one microservice require changes to others? ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:3:2","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#distributing-the-monolith"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" Understanding The CostIn this scenario, we retain some of the problems we were initially trying to escape. Changing a small chunk of the application still comes with redeploying the whole thing, the horizontal scale is not as efficient as it could be, and deployments are slow. Also, the compound interest begins to sting because we have the complexity of microservices. Many variables outside the application may impact the overall picture, including culture, infrastructure, adequate staffing, and technical talent. While no single solution can solve all problems, it stands to reason that a thorough understanding of where the culture and technology are should be the first step prior to planning any major transformational exercises. Attempting to modernize misunderstood and misrepresented applications with Kubernetes is not a strategy. ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:3:3","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#understanding-the-cost"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" ConclusionIn my opinion, many legacy applications will continue to run in the enterprise space. Some will end up getting rehosted in the cloud, replatformed or decommissioned in favor of equivalent SaaS offerings. Others will go through large modernization initiatives coming out the other end as distributed monoliths running on kubernetes. Purely greenfield applications have a better chance at seeing real microservice architecture and reaping the benefits. Are any of these things wrong? I don’t think so. The only constant is change. The ability to acknowledge that something isn’t working and promote the fail-fast mentality from the top will encourage new ideas, technologies, and practices that help keep an organization relevant. If there is a culture of fear, then innovative solutions from talented engineers will get sidelined. The monolith VS microservice conversation doesn’t matter. Delivering the best possible product to the customer with the resources available to you while delivering on business goals does. ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:4:0","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#conclusion"},{"categories":["app-modernization","cloud","distributed-systems","enterprise-tech","microservice-architecture","monolithic-architecture","tools"],"content":" AcknowledgementsBig thanks to Kiran Dongara for taking the time to peer-review. Your wisdom and feedback are much appreciated! ","date":"7 February 2022","objectID":"/posts/2022/are-microservices-better-than-monoliths/:4:1","series":null,"tags":["kubernetes","microservice-apps","monolithic-apps"],"title":"Are Microservices Better Than Monoliths?","uri":"/posts/2022/are-microservices-better-than-monoliths/#acknowledgements"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":"The public cloud continued to dominate spending in 2021. Gartner forecasts worldwide end-user spending for public cloud to reach $397.4 billion by 2022. With increased velocity; automation continues to be a critical business imperative for the enterprise. Getting automation right means getting all the appropriate teams pulled into the process early on (shift left). Lightlytics is a new SaaS product on the market that aims to make DevOps for cloud infrastructure as agile as software delivery. Intro What is Shifting Left? Shift left is the practice of getting adequate testing completed early, often, and with the right team engagement. Instead of cloud security practitioners being brought in to remediate an environment that is QA getting ready to go Prod, shifting-left would integrate security policy as early as initial development pull requests (or even commits) to version control. If you can’t merge risky infrastructure-as-code in the first place, then it will never make it to Prod! ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:0:0","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Getting StartedLightlytics is a SaaS platform that empowers SRE + DevOps to automatically predict, pre-empt, and prevent failures, downtime, or business disruption caused by infrastructure. Getting started is pretty simple as they offer a 14-day free trial (no credit card required). Let’s take it for a spin! Overview ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:1:0","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#getting-started"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Adding an AWS AccountTo get started, you need to add an AWS account. This is done by simply providing your Account ID, choosing a Display Name, and selecting the AWS regions you have infrastructure deployed to. Lightlytics creates an IAM Role for Read Access using a CloudFormation Stack. To keep your posture up-to-date in real-time, your account must have CloudTrail configured with a Management Events trail that applies to all regions. You can then enable real time collection of configuration events and updates (meaning Lightlytics stays up-to-date with infrastructure changes as they happen). This is enabled through an additional CloudFormation Stack. Account ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:1:1","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#adding-an-aws-account"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" A Common ScenarioSecurity-focused teams in enterprises generally want to decrease or eliminate direct internet exposure (especially from EC2 instances). Somehow, this still ends up happening, and reactive projects are scoped out to remediate. Let’s take this scenario through the paces with Lightlytics and see how it might prevent us from doing this. ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:2:0","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#a-common-scenario"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Some Risky ConfigurationThe following security group is referenced in my aws_network_interface configuration, which is attached directly to my EC2 instance. I also set up an aws_route with the destination CIDR of 0.0.0.0/0 to an IGW. This configuration will allow both ingress and egress internet traffic for the ec2 instance. Security Today is Reactive One trend I’ve noticed with cloud security in the enterprise is, response to risky configuration seems to be reactive. Some bad configuration happens over a period of time followed by an audit. The audit yields actionable insights, and a remediation effort is planned. It is never easy remediating production infrastructure as an outage is usually incurred. How could we get security in the loop to get eyes on and understand the scope of the change before it ever gets any legs? ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:2:1","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#some-risky-configuration"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Simulation with GitHub Actions IntegrationThis GitHub Actions workflow is slightly modified from the Lightlytics Documentation. Every time an attempt is made to merge changes to infrastructure into main, this workflow will kick-off and simulate the proposed changes in Lightlytics. This works by executing the Terraform Plan and sending the plan output to Lightlytics with each designated trigger (push/pull request). A link is generated directly to the simulation in the gitflow. In a subsequent release, Lightlytics plans to release the ability to automatically fail pull requests if a violation is detected. ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:2:2","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#simulation-with-github-actions-integration"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Entering DevSecOpsThis is valuable because you could enforce default protections on every new git repository you create (complete with security approvers). The security practitioner could then click on the link and review an easy-to-follow simulation outlining the impact radius before approving and merging the changes. Can you say DevSecOps? Actions ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:2:3","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#entering-devsecops"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Discovering BrownfieldThings have a habit of slipping through the cracks. Lightlytics Discovery decomposes all the dependencies between services, containers, or other common infrastructure you may have deployed. What if I need to find all EC2 instances that have internet ingress or egress in an unsupported design? I can narrow this criterion down using Search Paths in the Discovery dashboard. Using Internet as the source, I can set the Destination as a Resource Type (In this example, I use EC2). Discovery ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:2:4","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#discovering-brownfield"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Why use Lightlytics?There are a lot of great open-source projects on the market that work by scanning Terraform HCL or Plan files that can accomplish most of what was outlined in this blog. Why would I turn to something like Lightlytics? ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:3:0","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#why-use-lightlytics"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Barrier to EntryThere is a reason SaaS is the largest market segment (public cloud services). Lightlytics requires minimal setup while making quick and easy work of integrating with version control and adding immediate value with thoughtful change review. The more open-source you go, the more customization is required to get the desired results. Furthermore, you must take steps to understand the maintainers of an open-source project, how it gets funded, and possibly assess the risk of it potentially being abandoned. ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:3:1","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#barrier-to-entry"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Going beyond Terraform StateMany products I’ve tested for static code analysis are effective only with infrastructure that is managed in Terraform State. Lightlytics takes this further by simulating changes against the entire infrastructure contained in the AWS account. If I have a brownfield environment deployed outside of Terraform State, I want to make sure the influx of new changes doesn’t negatively impact it. ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:3:2","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#going-beyond-terraform-state"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" Agentless ApproachIn reading my past blogs, you’ll know I’m partial to approaching as many problems as possible without agents or appliances, especially in the cloud. In the CSPM space, products generally use some combination of API calls, cloud logs, proprietary agents, or appliances. Lightlytics uses a combination of API calls along with integrations to cloud native features like CloudTrail and even VPC Flow Logs to add data-plane context. With this approach, there is no reliance on scheduled or periodic scans of your infrastructure or git repositories. The posture is updated as changes happen. The following .gif was taken as I ran a terraform apply. Events were populating on the Lightlytics dashboard as they were completed in the Terraform plan output in real time. There is value here in that no gap exists between new infrastructure being provisioned and operational posture getting updated. This is what makes the Simulation piece compelling since you know that it will be running against a completely up-to-date picture of your entire infrastructure. Posture Why Agentless? In some circumstances, agents are a must. This holds true especially when an in-depth perspective into an asset’s OS, kernel, and processes is required. As the shift to immutable infrastructure continues, the need for this is minimized as resources like VMs are not long-lived. Leveraging cloud native API calls and logging provides a seamless union allowing for better integration and correlation with native provider automation and enforcement mechanisms. ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:3:3","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#agentless-approach"},{"categories":["automation","devops","devsecops","cloud","cspm","startup","tools"],"content":" ConclusionFor infrastructure-as-code, taking a proactive approach by shifting-left and catching things in the build pipeline is the ultimate security. Today, many products tend to be reactive which seems to be the modus operandi of security. Lightlytics has created a solid foundation that can provide value to CloudOps and Cloud SecOps teams that want to go fast without leaving availability and security behind. As of writing this, Lightlytics has support for AWS but has multi-cloud on the roadmap. In addition to supporting additional clouds, the team is working to incorporate the ability to enforce custom-made, industry best practices, and business logic (architectural standards) as part of the GitOps flow. You can learn more about the vision and team here. ","date":"4 January 2022","objectID":"/posts/2022/shifting-left-with-lightlytics/:4:0","series":null,"tags":["github actions","infrastructure-as-code","lightlytics"],"title":"Shifting Left with Lightlytics","uri":"/posts/2022/shifting-left-with-lightlytics/#conclusion"},{"categories":["blockchain","cryptocurrency","economics"],"content":"New to cryptocurrency? Check this out for a quick primer. One of the giant debates, often a significant source of criticism, is Bitcoin’s energy efficiency (or lack thereof). This criticism may also be expanded to any other currency, or blockchain backed technology that leverages proof-of-work as a consensus mechanism. Innovation is inherent in technology. New ideas, methods, and optimizations come along to take something, add new features, and make it more efficient. One such optimization is proof-of-stake which brings a greener look to consensus. How much can it help? Your browser does not support video. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:0:0","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Bitcoin - Energy ConsumptionThe Digital Assets Programme (DAP) Team at The Cambridge Centre for Alternative Finance maintains a fantastic project called The Cambridge Bitcoin Electricity Consumption Index (CBECI) that estimates the power demand for the Bitcoin network. The material presented gets updated every 24-hours. Today, the estimated annualized consumption of the Bitcoin Network is \u003e 111 TWh. A terawatt-hour is one trillion watts per hour, equal to 3.6x1015 Joules. Info The CBECI hypothesizes the consumption of the Bitcoin Network based on this methodology. The actual Bitcoin electrical consumption is impossible to measure based on several external factors that the methodology cannot include. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:1:0","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#bitcoin---energy-consumption"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Historical - Bitcoin Network Power Demand (Daily) Demand ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:1:1","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#historical---bitcoin-network-power-demand-_daily_"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Historical - Bitcoin Electricity Consumption (Monthly) Consumption ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:1:2","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#historical---bitcoin-electricity-consumption-_monthly_"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Bitcoin Mining Map (June-July 2021)The following map visualizes monthly hashrate by country and region. Notice something different from June -\u003e July 2021? To zoom in further, in September 2019, China accounted for 75% of the world’s Bitcoin mining energy consumption. Following China’s ban of trading and mining crypto, we see the U.S. become the number one hot spot. Hashrate ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:1:3","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#bitcoin-mining-map-_june-july-2021_"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Comparison - Countries And Data Centers (Globally)Let’s put Bitcoin’s energy footprint into perspective by comparing it to some other things that we have a better grasp on. Name Population (Million) Annualized (TWh) China \u003e 1,446 \u003e 6,000 United States \u003e 333 \u003e 3,000 Data Centers (globally) - \u003e 200 Bitcoin Network - \u003e 115 Netherlands \u003e 17 \u003e 113 Aldous Huxley There are things known, and there are things unknown, and in between are the doors of perception. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:1:4","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#comparison---countries-and-data-centers-_globally_"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Elon Musk TweetsNothing can move mountains and markets quite like Elon Musk tweets. The very purpose of Tesla’s existence is to accelerate the world’s transition to sustainable energy, as noted in the 2020 - Tesla Impact Report which is why this tweet comes as no surprise. Tesla \u0026 Bitcoin pic.twitter.com/YSswJmVZhP — Elon Musk (@elonmusk) May 12, 2021 ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:1:5","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#elon-musk-tweets"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Consensus MechanismsBlockchain backed technologies like Bitcoin are essentially distributed databases which are bound by the laws of CAP theorem. With blockchain, nodes must reach an agreement on the current state of the network by using a consensus mechanism. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:2:0","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#consensus-mechanisms"},{"categories":["blockchain","cryptocurrency","economics"],"content":" What Is Consensus With Blockchain?Consensus means agreement. With blockchain, that agreement happens when 51% of the nodes on a network agree on its next global state. Consensus mechanisms (or algorithms) in a crypto-economic system enable networks to achieve this while preventing common attacks. A successful exploit, in theory, would compromise consensus by controlling \u003e= 51% of the network. Consensus mechanisms exist to negate that 51% attack. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:2:1","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#what-is-consensus-with-blockchain"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Proof-of-WorkProof-of-Work (PoW), initially introduced in 1993 by Cynthia Dwork and Moni Naor to mitigate DDoS attacks, is the consensus mechanism used by many cryptocurrencies today like Bitcoin and Ethereum. This algorithm sets the difficulty and rules while the miners perform the actual work of adding valid blocks to the chain. Mining cryptocurrency requires specialized hardware that uses a substantial amount of electricity. Also, as difficulty increases, so does the computational power necessary to get the hash value. The penalty for bad actors submitting invalid blocks is losing computational power, energy, and time. Reflection Zooming in further reveals that the mechanics of the underlying consensus mechanism underpins the need for the vast amount of energy required to power Bitcoin’s network (or any other currency leveraging proof-of-work). Also, as difficulty and computation increase, mining pools begin to emerge as a centralized authority of sorts. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:2:2","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#proof-of-work"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Proof-of-StakeProof-of-Stake (PoS) was introduced in 2012 by Sunny King and Scott Nadal as an alternative to proof-of-work. At its core, proof-of-stake works to help reach consensus securely but does it in a fundamentally different way than proof-of-work. In a proof-of-stake system, miners don’t need to spend electricity on adding valid blocks to the chain, thus allowing the network to operate with substantially lower resource consumption. The penalty for bad actors on a proof-of-stake network is more severe. The validators’ staked funds serve as the incentive to refrain from malicious intent. If a validator accepts a bad block, a portion of their staked funds will be slashed as a penalty. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:2:3","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#proof-of-stake"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Comparing PoW and PoS Proof-of-Work Proof-of-Stake Miners compete with hardware to create new blocks full of processed transactions Validators are randomly selected based on their stake in the network (how many coins they hold) Rewards systems, like Pay Per Last N Shares (PPLNS) compensate miners Validators do not receive block rewards; Transaction fees are collected as compensation Additional currency created as rewards for miners; Contributes to price volatility Decreasing need to add coins to circulation; May contribute to price stability Adding a malicious block requires a node more powerful than 51% of the network Adding a malicious block would require owning at least 51% of all the cryptocurrency on the network Low transactions-per-second High transactions-per-second Susceptible to Tragedy of the Commons Susceptible to Nothing at Stake Trade-Offs? In a proof-of-work system, Tragedy of the Commons predicts a possible future in which the cost of mining becomes less lucrative when the block reward allowance becomes inconsequential. At this point, any rewards ultimately shift to transaction fees, thus opening the door to a potential 51% attack. In proof-of-stake systems, the Nothing at Stake problem, in theory, can disrupt consensus and make the system vulnerable to exploits like double-spend attacks. ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:2:4","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#comparing-pow-and-pos"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Going GreenDepending on one’s definition of going green, that wording could be a mild stretch. One thing is for sure, optimizing to use less energy is a win. What if cryptocurrencies, like Ethereum, could use ~99.95% less energy by transitioning to proof-of-stake for consensus? ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:0","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#going-green"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Ethereum - Energy Consumption And ScaleEthereum, the second-largest coin by market capitalization, was launched in 2015 by Vitalik Buterin. While Bitcoin, long-term, could be viewed more as a store of value similar to gold, Ethereum offers more utility with its smart contracts driving the decentralized finance (DeFi) and NonFungible Token (NFT) arena. Today, Ethereum uses proof-of-work for consensus, which presents limitations at scale. Not only does it consume a country’s worth of power, but the blockchain also struggles to keep up due to popularity and demand. Smart Contracts, NFT minting + sales, and DeFi transactions increasing have caused a spike in fees. Ethereum - Estimated TWh Today (Annualized) TWh Comparison To Other Countries Today Comparison ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:1","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#ethereum---energy-consumption-and-scale"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Ethereum - Energy Consumption And ScaleEthereum, the second-largest coin by market capitalization, was launched in 2015 by Vitalik Buterin. While Bitcoin, long-term, could be viewed more as a store of value similar to gold, Ethereum offers more utility with its smart contracts driving the decentralized finance (DeFi) and NonFungible Token (NFT) arena. Today, Ethereum uses proof-of-work for consensus, which presents limitations at scale. Not only does it consume a country’s worth of power, but the blockchain also struggles to keep up due to popularity and demand. Smart Contracts, NFT minting + sales, and DeFi transactions increasing have caused a spike in fees. Ethereum - Estimated TWh Today (Annualized) TWh Comparison To Other Countries Today Comparison ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:1","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#ethereum---estimated-twh-today-_annualized_"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Ethereum - Energy Consumption And ScaleEthereum, the second-largest coin by market capitalization, was launched in 2015 by Vitalik Buterin. While Bitcoin, long-term, could be viewed more as a store of value similar to gold, Ethereum offers more utility with its smart contracts driving the decentralized finance (DeFi) and NonFungible Token (NFT) arena. Today, Ethereum uses proof-of-work for consensus, which presents limitations at scale. Not only does it consume a country’s worth of power, but the blockchain also struggles to keep up due to popularity and demand. Smart Contracts, NFT minting + sales, and DeFi transactions increasing have caused a spike in fees. Ethereum - Estimated TWh Today (Annualized) TWh Comparison To Other Countries Today Comparison ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:1","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#comparison-to-other-countries-today"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Solving For Power And Scale With Ethereum 2.0Knowing the scalability and environmental challenges that come with proof-of-work, the Ethereum team has long-planned to upgrade to proof-of-stake consensus across 3 phases, the first of which, The Beacon Chain was implemented in Dec. 2020. The second phase, The Merge is slated for ~Q2 2022 at which point, staked Ether will take the place of mining. The last phase, Shard Chains, could potentially ship as early as late 2022 (depending on results of the merge), and greatly optimizes data and transactions. Comparing PoW and PoS Power RequirementsA massive reduction in power can be observed when taking mining out of the picture. It is projected that Ethereum will use ~99.95% less energy post-merge. Therefore, instead of comparing the entire network’s consumption to a medium sized country, a more accurate comparison would be a small town of around 2,000 homes. Comparing PoW and PoS Scaling TransactionsVisa handles an average of 150 million transactions every day, or approximately 1,736 transactions-per-second. Today, Bitcoin handles somewhere between 4-7 transactions-per-second, with Ethereum coming in at around 13 transactions-per-second. The last phase of the shift to proof-of-stake introduces secure sharding, enabling Ethereum to create blocks simultaneously. According to Vitalik Buterin, this has the potential to scale up to ~100K transactions-per-second. ETH2 scaling for data will be available *before* ETH2 scaling for general computation. This implies that rollups will be the dominant scaling paradigm for at least a couple of years: first ~2-3k TPS with eth1 as data layer, then ~100k TPS with eth2 (phase 1). Adjust accordingly. — vitalik.eth (@VitalikButerin) June 30, 2020 ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:2","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#solving-for-power-and-scale-with-ethereum-20"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Solving For Power And Scale With Ethereum 2.0Knowing the scalability and environmental challenges that come with proof-of-work, the Ethereum team has long-planned to upgrade to proof-of-stake consensus across 3 phases, the first of which, The Beacon Chain was implemented in Dec. 2020. The second phase, The Merge is slated for ~Q2 2022 at which point, staked Ether will take the place of mining. The last phase, Shard Chains, could potentially ship as early as late 2022 (depending on results of the merge), and greatly optimizes data and transactions. Comparing PoW and PoS Power RequirementsA massive reduction in power can be observed when taking mining out of the picture. It is projected that Ethereum will use ~99.95% less energy post-merge. Therefore, instead of comparing the entire network’s consumption to a medium sized country, a more accurate comparison would be a small town of around 2,000 homes. Comparing PoW and PoS Scaling TransactionsVisa handles an average of 150 million transactions every day, or approximately 1,736 transactions-per-second. Today, Bitcoin handles somewhere between 4-7 transactions-per-second, with Ethereum coming in at around 13 transactions-per-second. The last phase of the shift to proof-of-stake introduces secure sharding, enabling Ethereum to create blocks simultaneously. According to Vitalik Buterin, this has the potential to scale up to ~100K transactions-per-second. ETH2 scaling for data will be available *before* ETH2 scaling for general computation. This implies that rollups will be the dominant scaling paradigm for at least a couple of years: first ~2-3k TPS with eth1 as data layer, then ~100k TPS with eth2 (phase 1). Adjust accordingly. — vitalik.eth (@VitalikButerin) June 30, 2020 ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:2","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#comparing-pow-and-pos-power-requirements"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Solving For Power And Scale With Ethereum 2.0Knowing the scalability and environmental challenges that come with proof-of-work, the Ethereum team has long-planned to upgrade to proof-of-stake consensus across 3 phases, the first of which, The Beacon Chain was implemented in Dec. 2020. The second phase, The Merge is slated for ~Q2 2022 at which point, staked Ether will take the place of mining. The last phase, Shard Chains, could potentially ship as early as late 2022 (depending on results of the merge), and greatly optimizes data and transactions. Comparing PoW and PoS Power RequirementsA massive reduction in power can be observed when taking mining out of the picture. It is projected that Ethereum will use ~99.95% less energy post-merge. Therefore, instead of comparing the entire network’s consumption to a medium sized country, a more accurate comparison would be a small town of around 2,000 homes. Comparing PoW and PoS Scaling TransactionsVisa handles an average of 150 million transactions every day, or approximately 1,736 transactions-per-second. Today, Bitcoin handles somewhere between 4-7 transactions-per-second, with Ethereum coming in at around 13 transactions-per-second. The last phase of the shift to proof-of-stake introduces secure sharding, enabling Ethereum to create blocks simultaneously. According to Vitalik Buterin, this has the potential to scale up to ~100K transactions-per-second. ETH2 scaling for data will be available *before* ETH2 scaling for general computation. This implies that rollups will be the dominant scaling paradigm for at least a couple of years: first ~2-3k TPS with eth1 as data layer, then ~100k TPS with eth2 (phase 1). Adjust accordingly. — vitalik.eth (@VitalikButerin) June 30, 2020 ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:3:2","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#scaling-transactions"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Market ImplicationsHistorically, precious metals were considered the go-to for hedging against inflation. Going into 2020, crypto has become an increasingly popular alternative. This is likely one of the contributing factors as to why Bitcoin outperformed all other major asset classes in 2020. How are things shaping up as we near the latter part of Q4 - 2021? Quote Inflation is when you pay fifteen dollars for the ten-dollar haircut you used to get for five dollars when you had hair. - Sam Ewing ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:4:0","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#market-implications"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Crypto ROI VS Traditional Investments (2020-2021)In 2020, cryptocurrency outperformed Gold and the S\u0026P 500. Looking back over 2021, this gap has widened even further, with Ethereum starting to make big waves as it outperforms Bitcoin in price appreciation terms this year. Could this be resulting from the process and changes Ethereum is undergoing as it transitions to proof-of-stake? Investments ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:4:1","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#crypto-roi-vs-traditional-investments-_2020-2021_"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Wall Street AppealTo me, it makes sense that Ethereum’s transition to proof-of-stake will garner increased interest from the financial establishment. I only say this because post upgrade, staked Eth will operate more like a digital bond. Instead of being a virtual commodity, it will be closer to a financial asset. Capital gets positioned, and then the yield VS price gets calculated. This makes it simple to regulate and even easier to tax (like a bond yield). ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:4:2","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#wall-street-appeal"},{"categories":["blockchain","cryptocurrency","economics"],"content":" ConclusionCryptocurrency is still in its very early stages. Can proof-of-stake have an impact on the heavy energy demands of crypto today? From watching the news or reading any major publications, it would seem that the market is not so much fixated on functionality but on price. With Ethereum, transaction fees increase as the demand for Ethereum rises, which directly impacts the price. To me, this is a direct indication of its utility today, which drives the price higher. One thing that remains unclear is, what happens to the second-largest coin by market capitalization as it completes this gigantic transition to proof-of-stake and takes on the persona of an interest paying bond or equity? Does this negatively impact the link between Ethereum price and transaction cost, or does increased utility and adoption along with significantly less energy demand drive Ethereum parabolic? The world will soon find out! ","date":"9 November 2021","objectID":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/:5:0","series":null,"tags":["bitcoin","consensus","ethereum","proof-of-stake","proof-of-work"],"title":"Cryptocurrency, Energy, and Proof-of-Stake","uri":"/posts/2021/crypto-energy-efficiency-and-proof-of-stake/#conclusion"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":"In Part 1, we laid out our foundation. In Part 2 and Part 3 we connected various networks (both cloud and on-premises) and provisioned NGFWs that scale to real-time capacity. By default, networks connected to our corporate segment have full-mesh connectivity to each other. Let’s build some policies in code that can work with the groups we created to produce logical micro-segmentation that mirror a few real-world use cases. Your browser does not support video. ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:0:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" ScenarioBefore moving on to policy requirements, let’s recap the infrastructure provisioned in the previous posts: DEV, TEST, STAGE, and PROD networks in AWS and Azure for cloud native applications Additional MIGRATION network in Azure for application migrations from on-premises DEV, TEST, and STAGE networks in GCP for a new product that is not yet in production Alkira Groups non-prod, prod, migration, internet, ipsec, and sdwan for micro-segmentation Internet Exit for users, sites, and clouds along with elastically scaled Palo Alto NGFWs ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:1:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#scenario"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" Policy Requirements Requirements I wanted these requirements to be grounded in reality. Segmenting application environments, isolating migration workloads, and selectively steering traffic to different services can be challenging when considering Hybrid Multi-Cloud. Defining these policies in code is a big step towards integrating NetSecOps into network and security workflows. ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:1:1","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#policy-requirements"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" Without TerraformAlkira makes it simple to define policies manually via the portal. A great benefit of doing it this way is to visualize the outcome of a given policy in real-time. To get a better idea of the process, let’s create a sample policy to allow communication from our Cisco SD-WAN mesh to the Azure migration zone: Policy ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:1:2","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#without-terraform"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" Building Policies With TerraformAlkira uses a flexible policy-driven architecture for controlling traffic and enabling service insertion. These policies can be built and enforced without knowing the IP addresses or subnets that represent sites, cloud networks, or applications. ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:2:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#building-policies-with-terraform"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" Resources Name Type Description alkira_policy_prefix_list resource Manage Prefix Lists alkira_policy_rule resource Manage Rules alkira_policy_rule_list resource Manage Rule Lists alkira_policy resource Manage Policies ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:2:1","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#resources"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" Prefix ListsAlthough defining subnets as resources isn’t required, it can make sense to categorize larger blocks of space together, like RFC1918 private address space. alkira_policy_prefix_list.tf ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:2:2","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#prefix-lists"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" RulesCustom rules can be defined to control routing. For increased flexibility, rules allow matching on community, extended community, as path, and prefix list. You can also do service insertion by using service type to steer traffic through a given service. Palo Alto, CheckPoint, and ZScaler are supported services today. alkira_policy_rule.tf Selectively steering traffic to services like NGFWs in hybrid multi-cloud networks comes with many design considerations and challenges. In practice, this can often lead to physical and virtual firewall sprawl across CoLos, Public Clouds, and Sites. A great benefit of using Alkira is significantly limiting this firewall instance sprawl to only what is needed to meet capacity demands. Also, having a simple way of steering traffic as required saves time and simplifies design. ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:2:3","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#rules"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" PoliciesPolicies contain a rule-list and get applied to connectors. Once an enforcement scaffolding is in place, newly added connectors will automatically inherit the intended policy defined with infrastructure-as-code. alkira_policy.tf ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:2:4","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#policies"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" ValidationI used Terraform Cloud for provisioning. From the design canvas, we can validate that each policy matches our original intent. Validation ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:3:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#validation"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" ONUG - Fall 2021I presented at ONUG - Fall 2021 on using infrastructure-as-code to build a production-grade hybrid multi-cloud network. The majority of what I covered in this blog series, I demonstrate in real-time using Github in tandem with Terraform Cloud’s Version Control Workflow. To get a better idea of how this looks, check out the session: ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:4:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#onug---fall-2021"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" ConclusionAutomation is now a business imperative that underpins elasticity and intersects directly with business outcomes. In this blog series, we deployed a production-grade network spanning multiple clouds and sites with unified segmentation and security services, all via code and delivered using CI/CD. Keep a lookout for new content as I explore integrating Alkira with other tools and services! ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:5:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#conclusion"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","netsecops","sd-wan","tools"],"content":" AcknowledgementsBig thanks to Ken Guo for taking the time to peer-review and offer such thoughtful insight. ","date":"27 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/:5:1","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 4)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-4/#acknowledgements"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":"Check out Part 1 and Part 2 where we put together a scalable foundation and connect cloud networks from AWS, Azure, and GCP. For Part 3, we will bring on-premises back into the spotlight and connect some sites over Cisco SD-WAN and IPSEC. On-premises remains a strong focus for many enterprises through 2021 going into 2022. Some workloads, as noted by Amazon CEO Andy Jassy, may never move to the cloud. While this may seem like a shocker, if continuing to run specific workloads on-premises makes sense from a cost or compliance standpoint, why should they move? ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:0:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" ScenarioLet’s expand on our network design layout from Part 2 and add some requirements for our on-premises networks. For this example, my SD-WAN fabric consists of two data centers + HQ in the East region which, will have connectivity extended to my East CXP. Three smaller sites will get connected directly via IPSEC. Sites with \u003c= 10 users will connect into Alkira’s CXP over IPSEC All other sites are on Cisco’s SD-WAN fabric and get extended into the CXP In the enterprise space, connectivity can be handled in numerous ways. For instance, many enterprises may want or already have AWS Direct Connect, specifically for its bandwidth and performance. Alkira makes it simple to leverage existing options to connect data centers and sites to Cloud Exchange Points meeting enterprise networking where it lives today and providing a path forward to elastic networks of the future. Topology ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:1:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#scenario"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" Resources Name Type Description alkira_credential_cisco_sdwan resource Provision Cisco SD-WAN Credential alkira_connector_cisco_sdwan resource Provision Cisco SD-WAN Connector alkira_connector_ipsec resource Provision IPSEC Connector ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:1:1","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#resources"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" Connecting On-PremisesA great deal of focus has been placed on the cloud over the past five years. However, for large enterprises, migrating and modernizing applications using the public cloud isn’t as simple as a project, program, or throwing lots of cash down to get it done in a year exercise. Playing the long-game is critical, and on-premises shouldn’t be ignored. ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:2:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#connecting-on-premises"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" Terraform CloudLike Part 1 and Part 2, I used Terraform Cloud for provisioning. I’m going to forgo explanation in this post to minimize repetition. To get a better understanding of how I organized things, check this out. ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:2:1","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#terraform-cloud"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" IPSEC ConnectorsIPSEC can be set up with static or dynamic routing via route based VPN mode. Connecting sites to Alkira consists of defining the connector along with each endpoint that should be associated with it. ipsec_connector.tf Provision ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:2:2","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#ipsec-connectors"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" SD-WAN ConnectorsExtending the Cisco SD-WAN fabric into Alkira consists of defining the connector, endpoints, and the bootstrap file from Cisco vManage. The SD-WAN fabric will then be extended into one or more Cloud Exchange Points, enabling regional hand-offs between the two. cisco_sdwan_connector.tf Provision I used Cisco SD-WAN for this post. Today, all three node types (CSR, vEdge, and CAT8000v) are supported. Alkira continually adds new partner integrations, like Aruba EdgeConnect so keep a lookout for new product announcements ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:2:3","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#sd-wan-connectors"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","sd-wan","tools"],"content":" ConclusionIn Part 1, we built a scalable foundation, and in Part 2, we connected networks to that foundation from AWS, Azure, and GCP. This post brought data centers and remote offices into the picture over IPSEC and SD-WAN. Now that we have all of these networks connected, what about policy and service insertion? To be helpful to enterprises adopting cloud, limiting communication to and across clouds and on-premises is a given. Also, selectively steering specific traffic through VM-Series Firewalls should be a trivial task. In Part 4, we will define policies in code and use Alkira’s design canvas to validate. ","date":"14 October 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/:3:0","series":null,"tags":["alkira","aws","azure","gcp","ipsec","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 3)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-3/#conclusion"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":"In Part 1, we started with a scalable foundation that can adapt over time as the business grows and adjusts to changing markets. With Alkira’s Network Cloud, we take a cloud native approach in enabling our customer’s transformation. No appliances need to be provisioned in remote VPCs or VNets, and no agents need to be installed on workloads. Getting started is as easy as kicking off a build pipeline. For Part 2, let’s connect some networks from AWS, Azure, and GCP. ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:0:0","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" ScenarioIn Part 1, we set up a hypothetical Line of Business called LoB - Digital, which has the following network requirements: Cloud Native applications will be deployed in AWS; Application lifecycle requires DEV, TEST, STAGE, and PROD VPCs Azure gets the same network types as AWS for cloud native workloads; In addition, Azure will also get a MIGRATION VNet which will act as a landing zone for workloads being migrated from on-premises A new product surrounding data analytics is being established, and the product team wants to leverage GCP; The product is not production-ready, so only DEV, TEST, and STAGE VPCs are required Topology Since no appliances get installed inside cloud networks, how does Alkira interface with the cloud providers? Alkira takes the cloud native approach of using existing authentication methods in each cloud. For instance, in AWS, this would be IAM Policies and with Azure, Service Principals. Most enterprises are already interacting with the cloud this way today, so integrating with their existing automation + pipeline strategy is seamless. ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:1:0","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#scenario"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" ResourcesWe will be using the following Terraform Resources in this post: Name Type Description alkira_credential data source Reference existing credential alkira_billing_tag data source Reference existing billing tag alkira_connector_aws_vpc resource Provision connector for AWS VPC alkira_connector_azure_vnet resource Provision connector for Azure VNet alkira_connector_gcp_vpc resource Provision connector for GCP VPC ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:1:1","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#resources"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" Connecting The CloudAlkira’s Terraform Provider does quick work of connecting cloud networks to our foundation. The following snippet will connect an Azure VNet, place it in the group we provide, and attach a billing tag. azure_connector.tf ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:2:0","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#connecting-the-cloud"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" Organizing ThingsHashiCorp recommends One Workspace Per Environment Per Terraform Configuration. Since we are provisioning and connecting so many networks + environments across all three cloud providers, I simplified a few things. With Azure, for example, repositories map to Workspaces like this: Git ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:2:1","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#organizing-things"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" ProvisioningLike Part 1, we will use Terraform Cloud for provisioning. A successful merge to our main branch will automatically trigger a plan, and apply. Provision ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:2:2","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#provisioning"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" ValidationTwelve VPCs/VNets across three public clouds couldn’t be easier! By default, networks connected to our corporate segment have full-mesh connectivity to each other. Later in this series, we will build automated policies to work with our groups that produce some logical micro-segmentation. Validation ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:2:3","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#validation"},{"categories":["automation","cloud","cloud-networking","cloud-security","multi-cloud","tools"],"content":" ConclusionFor Part 1, we built a scalable foundation, and in this post, we connected networks from AWS, Azure, and GCP to it. One area where enterprises struggle is securely connecting their data center or remote offices to the cloud. This use-case often maps back to migrating workloads to the cloud or running Tiered Hybrid Workloads. In Part 3, we will connect a few on-premises networks into the mix to see how Alkira can help solve this problem. ","date":"16 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/:3:0","series":null,"tags":["alkira","aws","azure","gcp","immutability","infrastructure-as-code","terraform","terraform cloud","terraform","segmentation"],"title":"Getting Started With Alkira And Terraform (Part 2)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-2/#conclusion"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":"HashiCorp’s Terraform needs no introduction. It is all but the de facto vehicle for delivering cloud infrastructure, and for a good reason. What Terraform did for Multi-Cloud Infrastructure as Code, is precisely what Alkira does for the network. What happens when you use these two platforms together to deliver networking in and across clouds? If providing network services in code faster than ever before sounds interesting, this multi-part series is for you. Need a quick primer on Alkira? You can read up here. Intro ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:0:0","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" A Scalable FoundationTroubleshooting networks that have been over-engineered can be tricky. Some of the most reliable networks I have worked in were also the most simple by design. Simple is easier to understand, automate, and scale. To begin this series, let’s deploy the following: A Segment for macro-segmentation; (We will deploy additional segments in a later post to demonstrate Partner and Acquisition connectivity scenarios) Groups for micro-segmentation; These will be used for policy enforcement once we start connecting cloud and on-premises networks A Billing Tag mapping to a hypothetical Line of Business (Let’s say Digital Transformation); Being able to bill specific app or product teams for network consumption is a game-changer An Internet Exit for users, sites, and clouds along with elastically scaled VM-Series Firewalls for our IPS, IDS, and ALG needs ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:1:0","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#a-scalable-foundation"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" Segmentation Layout Layout In Alkira, segments and groups are scaled globally, across clouds, and on-demand. To learn more about how Alkira handles segmentation, check out this design zone video. ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:2:0","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#segmentation-layout"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" Let’s Build!","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:3:0","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#lets-build"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" SegmentationAlkira’s Terraform Provider makes it easy to build networking the DevOps way. The following snippet creates our segment and groups used for macro and micro segmentation. alkira_segments.tf ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:3:1","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#segmentation"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" Internet EgressThe following code will provision an Internet Connector with VM-Series Firewalls. These scale to real-time capacity demand while symmetrically steering application traffic using intent-based policies. Internet, Intranet, and Private-Spoke security zones will be provisioned on the Firewalls with each zone mapping back to the corresponding Alkira Groups which provide the baseline for segmentation and policy alkira_internet.tf ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:3:2","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#internet-egress"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" Provision On Pull RequestI’m a big fan of Terraform Cloud. For this example, I have my infrastructure committed to Github with Terraform Cloud runs triggered automatically as changes get merged in version control. Provision ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:3:3","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#provision-on-pull-request"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" ValidationAlkira has a very refined interface which serves as a great visual aid to validate configuration and policy. As we add more infrastructure later in this series, we will use the UI to gain a greater perspective into each aspect of the network. Validation ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:3:4","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#validation"},{"categories":["automation","cloud","cloud-networking","cloud-security","tools"],"content":" ConclusionThe place where applications, data, and systems intersect is the network. Networks of the future must adapt and scale over time as businesses grow, markets change, and policies adapt. Elastic networking driven by automation is the future. In Part 2, we will connect a mix of AWS, Azure, and GCP networks to demonstrate just how easy Alkira can make the multi-cloud network experience, so stay tuned! ","date":"10 September 2021","objectID":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/:4:0","series":null,"tags":["alkira","cloud routing","immutability","infrastructure-as-code","terraform","terraform cloud","terraform modules","segmentation"],"title":"Getting Started With Alkira And Terraform - (Part 1)","uri":"/posts/2021/getting-started-with-alkira-and-terraform-part-1/#conclusion"},{"categories":["automation","cloud","tools"],"content":"Effectively automating infrastructure is no longer a luxury but a staple in the enterprise move through future transformation. I wrote a blog recently about using Terraform with Packer together, and wanted to take this thought further with breaking down Terraform Modules and getting well connected with Terraform Cloud. I recently put together a simple module for building base infrastructure in AWS for the purpose of testing Alkira Network Cloud. Let’s dive in! Intro ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:0:0","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#"},{"categories":["automation","cloud","tools"],"content":" What Is A Terraform Module?If striving to build repeatable blocks of infrastructure that get provisioned consistently is the goal, then getting acquainted with Terraform Modules can help you get there. Deploying cloud infrastructure means deploying resources that depend on each other, are generally deployed together, and share the same lifecycle. This is what Terraform modules do - enable the packaging and management of common resources together, extending reuse and environmental consistency. Modules are managed in a version control system like Github and published to Terraform Registry. Terraform’s Enterprise and Cloud variant have a private registry, making it an ideal vehicle for building, sharing, and managing internal modules for an organization. Furthermore, once a given module is published, it can be used in tandem with other modules to build purpose-based workspaces. For this example, I’m going to use the public registry. ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:1:0","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#what-is-a-terraform-module"},{"categories":["automation","cloud","tools"],"content":" Creating A Custom ModuleFor my testing, I needed the flexibility to create a new AWS VPC in one or more regions, provide a dynamic list of subnets to be provisioned, and also create a lightweight EC2 instance per subnet. However, setting these environments up by hand takes time, and tearing down all the infrastructure manually takes even more time. Plus, I want to use this configuration in tandem with similar scenarios in other cloud providers while testing and demonstrating Alkira. ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:2:0","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#creating-a-custom-module"},{"categories":["automation","cloud","tools"],"content":" Version ControlThe following repository was created to hold my work on Github. Module components include: main.tf - Primary logic which describes the infrastructure I want to build variables.tf - Required input variables which must be set in the module block outputs.tf - Variables that can be exposed for other Terraform configurations to use; These act similar to return values in programming languages versions.tf - Acceptable versions of Terraform and the provider that work with my custom module ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:2:1","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#version-control"},{"categories":["automation","cloud","tools"],"content":" Creating A ReleaseTerraform public and private registry expects release tags that can be used to identify module versions: Release Tags ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:2:2","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#creating-a-release"},{"categories":["automation","cloud","tools"],"content":" Publishing A ModulePublishing the new module couldn’t be easier. When going through the setup, it will ask to connect your Github account to the registry. If uploading to the public registry, only access to your public repositories will be needed. Publish ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:2:3","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#publishing-a-module"},{"categories":["automation","cloud","tools"],"content":" Terraform CloudTerraform Cloud makes provisioning easy. I set up the following repository to test out the new module. To run the new module, we need two files: main.tf variables.tf ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:3:0","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#terraform-cloud"},{"categories":["automation","cloud","tools"],"content":" Create A WorkspaceBefore applying any infrastructure, we must create a new Workspace in Terraform Cloud. Workspaces ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:3:1","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#create-a-workspace"},{"categories":["automation","cloud","tools"],"content":" Apply InfrastructureAfter creating the Workspace and populating the appropriate variables, we can provision our desired infrastructure: Apply ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:3:2","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#apply-infrastructure"},{"categories":["automation","cloud","tools"],"content":" Destroy InfrastructureRunning cloud infrastructure that isn’t being used is a great way to rack up unwanted costs. So when testing is completed, let’s destroy our infrastructure. Destroy ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:3:3","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#destroy-infrastructure"},{"categories":["automation","cloud","tools"],"content":" ConclusionDelivering automation in the context of complete environments deployed intact heralds a whole new world of possibilities. Terraform Modules simplify the building blocks of immutable infrastructure, and Terraform Cloud enhances the ability to deliver and iterate. Stay tuned for new content coming that showcases the power of Terraform driving Alkira Network Cloud. ","date":"23 June 2021","objectID":"/posts/2021/intro-to-terraform-modules-with-aws/:4:0","series":null,"tags":["aws","iaas","immutability","linux","terraform","terraform cloud","terraform modules","ubuntu"],"title":"Intro To Terraform Modules With AWS","uri":"/posts/2021/intro-to-terraform-modules-with-aws/#conclusion"},{"categories":["blockchain","cryptocurrency","economics"],"content":"This is going to be a gigantic pivot from my usual topics of writing. If you are interested in learning something about cryptocurrency, stay put. The goal is to make this unbiased and thought-provoking while shedding light on what seems like a world of confusion and misinformation. In the past month, I have heard various first-hand opinions about Bitcoin like, it is a pyramid scheme, basically gambling, will supersede the U.S. dollar, and that one should invest all or none of their money into it. Talk about a wide range of opinions here! Intro ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:0:0","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Gold Standard To FiatThe United States operated under the Gold Standard from 1879 to 1933. All printed money officially became redeemable for a specific amount of gold in 1900 under the Gold Standard Act. Each country had its own monetary unit. For the U.S. it was the dollar; in the U.K., the pound. This unit then consisted of a specific number of troy grains. The mint price was coined to represent the ratio of unit to the quantity of gold. Being international in scope, exchange rates between currencies tied to gold were fixed for participating countries. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:1:0","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#gold-standard-to-fiat"},{"categories":["blockchain","cryptocurrency","economics"],"content":" The Great DepressionAlthough the construction and automotive industries helped drive the post-war recovery for the United States after World War I, European countries had borrowed heavily and faced challenges with paying off debts. This caused a slowdown on demand for U.S. exports. The Wall Street Crash of 1929 and the bank failures of 1930 and 1931, caused a frightened public to hoard gold. In addition, the inability of countries to stimulate their economies by increasing the money supply caused severe economic hardships. To alleviate the economic turmoil, FDR took the U.S. off the gold standard in 1931 (Two years after Britain). Given the circumstances, overcoming deflationary forces was viewed as the best way out of the Great Depression. In truth, the global financial system still operated on the gold standard, albeit more indirectly, as the dollar could still be converted to gold under the Bretton Woods System. In 1971 Richard Nixon ended dollar convertibility to gold completing the full transition to fiat money. Timeline ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:1:1","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#the-great-depression"},{"categories":["blockchain","cryptocurrency","economics"],"content":" What Is Fiat Money?Fiat money carries no intrinsic value. Today’s dollar is solely based on one’s faith and the credit of the United States Government. Since there is no tangible thing underpinning the U.S. dollar, this means additional money can be pumped into circulation without creating any extra underlying value. This affords the central banks considerable control across economic variables like credit supply, liquidity, interest rates, and money in circulation. Fiat Money Webster defines fiat money as \": money (such as paper currency) not convertible into coin or specie of equivalent value\". Great, now a government can spend without increasing taxes or withdrawing valuable resources from a thriving economy. This means the government can also pay on debts or fund programs effortlessly. It doesn’t take much imagination to see where this goes. How do you pay for things not funded through taxation? Easy - The Federal Reserve can keep buying bonds, printing money, and spending. Take a look at the U.S. Debt Clock for some perspective. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:1:2","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#what-is-fiat-money"},{"categories":["blockchain","cryptocurrency","economics"],"content":" What Is BitcoinBitcoin is a decentralized digital currency where transactions occur over the peer-to-peer Bitcoin Network. The ingenuity of Bitcoin is predicated on its integrity. A new kind of money that doesn’t require any central authority or bank to verify transactions, no entity can inflate or deflate its value, and it’s impervious to tampering or counterfeiting. The idea of Bitcoin, in many ways, is the polar opposite of fiat money. While fiat’s value is created from the inside-out, Bitcoin’s value is made from the outside-in. Bitcoin Origins For a full technical deep-drive on Bitcoin, check out the original whitepaper written by Satoshi Nakamoto here. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:2:0","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#what-is-bitcoin"},{"categories":["blockchain","cryptocurrency","economics"],"content":" Proof Of WorkEvery time someone uses a portion of Bitcoin to make a purchase, a cryptographically secure transaction is created and broadcast to the network with the consensus being achieved by a proof of work system called mining. Reusable proof of work was pioneered by Hal Finney in 2004. Aside from maintaining the ledger of transactions, Bitcoin mining also produces new Bitcoin into circulation. This happens as miners add a new block of transactions to the blockchain. Therefore, proof of work (or any consensus algorithm) is critical in the operation of blockchain systems today. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:2:1","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#proof-of-work"},{"categories":["blockchain","cryptocurrency","economics"],"content":" BlockchainWhile blockchain-like protocols have been proposed in the past, the invention of the blockchain has been credited to Satoshi Nakamoto. Think of our typical everyday commerce. I decide to go to the local coffee shop for a tasty caramel latte. This transaction will hit a point-of-sales system, go through a financial institution, and spit out a physical receipt. Many things happen between the buyer and seller. With Bitcoin, blocks of transactions are added to a distributed ledger called blockchain. Each block contains the transaction data, timestamp, and the previous block’s cryptographic hash. No government, financial institution, or any other authority sits between buyer and seller. A lot of this article focuses on the currency aspect of Bitcoin. In understanding what makes Bitcoin compelling to diverse audiences, let’s decouple the underlying technology and view the benefits from a different lens. So, decentralization, security, immutability, and transparency all add to Bitcoin’s charm. Doing these things more efficiently and cheaper is critical to just about every industry if we frame the outputs differently. What about a digital voting system? Full transparency, decentralization while also being tamper-proof? Think of how complicated medical record-keeping is. How about a massive reduction in paperwork while making records more accurate? Or faster money transfers with lower fees from anywhere to anywhere? What about immutability in pharmaceutical trading? Zooming Out One crucial point - Blockchain is to Bitcoin what a battery is to a Tesla. Of course, this example isn’t a perfect 1:1, but let’s tease this out a little bit. Tesla is a brand, an idea, and by the opinion of many, the first trailblazer into the modern EV space. Lithium-ion batteries, the driving power behind the Tesla, has many use cases beyond cars ranging from phones to weed eaters. Similarly, blockchain has many use cases beyond Bitcoin. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:2:2","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#blockchain"},{"categories":["blockchain","cryptocurrency","economics"],"content":" An Investment Play Or Currency?Bitcoin is still very new and in its infancy stages. It has been difficult for many, even large crypto advocates, to categorize Bitcoin because it’s drastically different from other assets available on the market. The great and powerful Commodity Futures Trading Commission (CFTC) labels all virtual currencies as commodities under the Commodity Exchange Act (CEA). Many big names in finance dismissed Bitcoin as having no value and strongly advised investors to stay away. Many of those same titans of business also argued that nobody would use crypto as an actual currency. This has slowly changed over the past few years, especially coming into 2021. Kevin O’Leary from Shark Tank likened Bitcoin to a giant nothing-burger not worth investing in. Fast forward a little into the future, and his stance has changed. Is #bitcoin a currency? Property? An asset? Maybe all of the above, I’m going with a 3% portfolio allocation and am looking at investing in miners that can create coin under a mandate of 0 carbon so sustainably! https://t.co/qgAXZVZXzh — Kevin O'Leary aka Mr. Wonderful (@kevinolearytv) March 1, 2021 Mark Cuban on the other hand, said he would rather have bananas than bitcoin. Now the billionaire entrepreneur and owner of the Dallas Mavericks is accepting Dogecoin as payment, on top of already accepting Bitcoin. Mark Cuban’s Dallas Mavericks are accepting Dogecoin as payment “because we can” https://t.co/OnsWb1UdG5 pic.twitter.com/0a66JBnxKd — Forbes (@Forbes) March 4, 2021 JPMorgan CEO Jamie Dimon called Bitcoin a fraud but now JPMorgan seems bullish on Bitcoin even predicting Bitcoin’s volatility will converge with gold’s in the future. JPMorgan even launched its own digital coin - JPM Coin earlier this year. SCOOP: @jpmorgan, whose leader Jamie Dimon has bashed bitcoin as a fraud, just created its own cryptocurrency. Behold, the JPM Coin 💵📲👀 https://t.co/PrCm3Q4yrj — Hugh Son (@Hugh_Son) February 14, 2019 PayPal, a company that knows a thing or two about online payments, processed 3.47 billion transactions worth a combined value of $277 billion in Q4 2020 alone. PayPal accepts cryptocurrency as a funding source for digital commerce at its 26 million merchants. Today, we are announcing the launch of Checkout with Crypto, a new way for PayPal customers to check out with #Cryptocurrency to pay for select online purchases. https://t.co/RbOe8aLtlz pic.twitter.com/zGWHgbwVlU — PayPal (@PayPal) March 30, 2021 ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:3:0","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#an-investment-play-or-currency"},{"categories":["blockchain","cryptocurrency","economics"],"content":" What Does All This Mean?Let’s start by making something clear: the goal of institutional investors is to drive profits for themselves and their clients. So the first thing to mind is, how high can the value be pushed, and what does the cash out look like? The last thing to mind is transparency, opaqueness, decentralization, and cutting out the middle party. A fear that many crypto purists have is, Wall Street leveraging their money and power to take cryptocurrency away from the populous (think of how other financial assets are handled). An example of this would be providing “guidance” to the government that forces the use of an “authorized entity” instead of your standard crypto wallet. Of course, this entity would have to meet stringent requirements, and guess who dots all the I’s and crosses all the T’s? History can be a great teacher. Usually, this falls in the category of not repeating it. Take, for instance The Telecommunications Act Of 1996, which ultimately led to six media giants owning 90% of what we read, watch, and listen to. Wall Street firms are skilled in the craft of buying up smaller fish. So why not buy up all the small crypto exchanges and popular wallet providers and integrate those wallets into their payment networks? What would stop Wall Street from persuading the government into handing over exclusive control of ICOs and IEOs? In that version of the future, the money and influence will find their way into marketing and lobbying. Sounds to me like the control and power being regulated right into their pockets. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:3:1","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#what-does-all-this-mean"},{"categories":["blockchain","cryptocurrency","economics"],"content":" ConclusionTo me, Bitcoin is not a pyramid scheme or gambling. Bitcoin’s underlying technology is highly innovative, and its full potential is not yet realized. Will it supersede the U.S. dollar? Probably not. Should someone invest all or none of their money into it? It’s not for me to opine, but I am of the opinion that one shouldn’t invest in anything, not even the investment options within an employer-sponsored 401K, without first taking the time to understand precisely what one is investing in, level of risk, and potential for gains or losses. Most investment professionals would agree that diversification across several different asset classes such as stocks, bonds, real estate, gold, etc. can be one of the best ways to reduce risk and volatility in an investment portfolio. Owning crypto could be viewed as just another way to add diversification and depth to your overall investment strategy. ","date":"14 June 2021","objectID":"/posts/2021/understanding-the-world-of-bitcoin/:4:0","series":null,"tags":["bitcoin","proof-of-work"],"title":"Understanding The World Of Bitcoin","uri":"/posts/2021/understanding-the-world-of-bitcoin/#conclusion"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":"In Part 1, we went over some fundamentals. For Part 2, we will examine Azure network design patterns based on cloud maturity and organization size. The concept of design patterns was first introduced by Christopher Alexander and has profoundly influenced many technical disciplines. To keep things simple, let’s define a design pattern as a reusable solution to a commonly occurring problem. Of course, you are not the first practitioner out there transitioning to cloud or growing to a new maturity model. Many trailblazers have already walked the walk and left behind beautiful blueprints to help you along the way. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:0:0","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Patterns OverviewWhile every scenario may not fall under these categories, there are generally three phases that your cloud network may likely go through as your organization matures. Island - Starting point or cloud native panacea; Disconnected from the enterprise network Hybrid - Often inevitable (integration requirements); Connected to the enterprise network Hub \u0026 Spoke - Stemmed by growth and need for centralized control; Increased governance ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:1:0","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#patterns-overview"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Cloud Adoption Framework (CAF)The Cloud Adoption Framework (CAF) has been crafted using essential feedback from partners and customers. This provides an excellent place to start as you begin planning. Of course, you don’t just land on the ideal design, but it helps to have a clear picture of where you are going. CAF The Microsoft Patterns \u0026 Practices site is another good Azure specific resource for understanding proven patterns and reference architectures. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:1:1","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#cloud-adoption-framework-caf"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" The IslandWebster defines island as \":an isolated group or area\". There are a few variations of The Island, but one thing remains consistent; It has no connectivity to on-premises networks. This environment is completely isolated. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:2:0","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#the-island"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Island #1 - First PassEvery good story has a beginning. Many enterprises started their cloud journey many years back by simply setting up an account, doing some sandboxing, and just familiarizing themselves with the Cloud. You never know, one day that sandbox application could turn Production overnight! (Yes, I’ve seen this happen) Usually, the first pass at a technology (especially as transformative as Cloud) isn’t going to be perfect. There are a lot of things you don’t know until you know. The main criteria that define our first pass at Cloud may include: Single Virtual Network; All dependencies self-contained Enterprise Apps and Data live in Data Centers (Owned or Colocation) No connectivity to on-premises networks; Environment is completely isolated Cloud Environment may not be under centralized I.T. control; They slow things down, right? Island ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:2:1","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#island-1---first-pass"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Island #2 - Cloud NativeWe are getting this whole cloud computing thing down now. We are super mature around security and governance, and we want to take full advantage of Azure-specific services. In this scenario, we don’t have any hybrid dependencies and focus on reliable and scalable infrastructure leveraging cloud native constructs in a single cloud-only. As a set of outcomes, this pattern aims to: Scale Out.and not up; Optimize based on consumption Multi-Region Active-Active design; Non-blocking asynchronous communication Embrace Stateless Application Design; Local state is considered an anti-pattern Use Internet as primary transport; State is shared between regions over cloud backbone Island - Cloud Native Our Cloud-Native Island is a best case scenario, but also unlikely at first for the traditional enterprise. This takes into account that your data lives in the Cloud, and you aren’t making any calls to backend services in your data centers. Data Gravity has proven to be a worthy antagonist in the quest to cloud native. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:2:2","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#island-2---cloud-native"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" HybridFirstly, my definition of Hybrid Cloud is: Any workload that combines public cloud with an on-premises data center environment. Meaning, if for some reason, this public Cloud no longer has connectivity back to the data center, then the application(s) will not work. At some point, that Island is going to get a little lonely. How can you possibly migrate anything without a reliable connection to Azure? I will forego the whiplash that generally takes place at this point in the story. That beautiful moment we all remember when server, network, and security experts first get involved. So, we need a little bit of hybrid now. This is probably where things get the most complicated. There are many variations of hybrid, a plethora of options/considerations, and numerous maturity levels. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:3:0","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#hybrid"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Hybrid #1 - Forced TunnelingOur first iteration of hybrid is met with much skepticism and minimal trust. This is why the obvious thing to do from the network and security space is to backhaul every packet to the data center to use existing routing, segmentation, deep packet inspection, file blocking, etc. This practice is known as Forced Tunneling. It does precisely what is implied, e.g., it enables redirection of all traffic destined to the Internet back to your on-premises network. To accomplish this with ExpressRoute - Private Peering, advertise a default route from your BGP speaker and all traffic from the associated virtual network will be routed to your on-premises network. Doing this will force traffic from services offered by Microsoft like Azure Storage back on-premises as well; You will have to account for return traffic via Microsoft Peering or the public Internet. If Service Endpoints is configured, traffic is not forced on-premises and remains on Azure’s backbone network. To accomplish Forced Tunneling over a Site-to-Site VPN, you would set up a User Defined Route to set the default route to the Azure VPN Gateway. Forced Tunneling ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:3:1","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#hybrid-1---forced-tunneling"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Hybrid #2 - Cloud DMZFor workloads in the Cloud, it makes sense to reduce dependencies on-premises (especially Internet) and keep as much traffic as we can in Azure. Also, to continue meeting various security requirements, often deploying Network Virtual Appliances (NVAs) will be necessary. A common practice that accommodates future growth is routing egress and ingress traffic through separate scale sets. You can then use User Defined Routes for limited traffic engineering. For example, traffic destined to the Internet would use the private IP address of an internal load balancer as the next-hop. In this scenario, Ingress represents inbound connections into the DMZ while Egress represents traffic destined to the internet. Another benefit of this design is additional throughput. VM-Series - Firewalls have come a long way but still have limitations that you must consider. You might also consider deploying an additional scale set for Transitive routing in substantial deployments. Cloud DMZ NVAs must be deployed in self-contained subnets. Deploying an appliance in the same subnet as your workloads and attaching a UDR to that same subnet may cause a routing loop. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:3:2","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#hybrid-2---cloud-dmz"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Hub \u0026 SpokeUntil now, our patterns have been simple; Only a single virtual network has been referenced. In larger enterprises, this can get a little tricky. Over time as the Cloud grows, additional business units, centralized services, security, and even finance may start to leverage the Cloud. Sound governance is critical in managing adoption. As consumption increases, subscriptions will likely grow. It is generally a good practice to model these constructs to match your organization’s hierarchy. As you follow this path, other virtual networks will be created. How is this challenge designed around while taking scale and governance in mind? ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:4:0","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#hub--spoke"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Centralized HubNetwork practitioners are going to be very familiar with Hub \u0026 Spoke. Think about it like data center and branch office routing. We don’t want prefixes to be visible randomly all across the network. Aggregation is our friend here. It is much more efficient to have summarization of routing for each site at the edge. It also makes sense to centralize certain services at the edge rather than deploy them at every office. Deploying NGFWs at every site would become expensive and challenging to manage. Our cloud hub will follow this same pattern. Any shared services that will be used across all spokes will live here. Hub \u0026 Spoke ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:4:1","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#centralized-hub"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Spoke-To-Spoke RoutingNow that multiple virtual networks are in play, how does traffic flow? Remember from Part 1 that VNets are non-transitive. For example, let’s say we have Spoke-A and Spoke-B which are VNet peered back to our hub. There have been two common approaches to solving this in the past: On-Premises / CoLo - RoutingThis approach forwards traffic back to a physical device (That lives outside of Azure’s Cloud) that knows how to route packets. This approach is usually the first iteration as, if you already have hybrid connectivity, then these devices are already reachable. The Hub virtual network is configured to allow gateway transit; This enables peered virtual networks to use any attached virtual network gateways Each spoke should be configured to use remote gateways; This is required for traffic to use a gateway living in the virtual network you are peered with The router on-premises will handle any spoke-to-spoke routing; The existing BGP which was set up for private peering handles dynamic routing Transit Routing - 1 Network Virtual Appliance (NVA) - RoutingAnother option would be leveraging NVAs existing in the hub to route traffic between spokes. If we already have the Cloud DMZ design deployed, you would use UDRs to redirect traffic. Each subnet requires a UDR to steer traffic Destination matches the subnet prefix from the adjacent VNet Next Hop Type will be defined as Virtual Appliance (Next Hop Options) The Next Hop is the internal load balancer’s private IP (If deployed in a scale set) Transit Routing - 2 ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:4:2","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#spoke-to-spoke-routing"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Spoke-To-Spoke RoutingNow that multiple virtual networks are in play, how does traffic flow? Remember from Part 1 that VNets are non-transitive. For example, let’s say we have Spoke-A and Spoke-B which are VNet peered back to our hub. There have been two common approaches to solving this in the past: On-Premises / CoLo - RoutingThis approach forwards traffic back to a physical device (That lives outside of Azure’s Cloud) that knows how to route packets. This approach is usually the first iteration as, if you already have hybrid connectivity, then these devices are already reachable. The Hub virtual network is configured to allow gateway transit; This enables peered virtual networks to use any attached virtual network gateways Each spoke should be configured to use remote gateways; This is required for traffic to use a gateway living in the virtual network you are peered with The router on-premises will handle any spoke-to-spoke routing; The existing BGP which was set up for private peering handles dynamic routing Transit Routing - 1 Network Virtual Appliance (NVA) - RoutingAnother option would be leveraging NVAs existing in the hub to route traffic between spokes. If we already have the Cloud DMZ design deployed, you would use UDRs to redirect traffic. Each subnet requires a UDR to steer traffic Destination matches the subnet prefix from the adjacent VNet Next Hop Type will be defined as Virtual Appliance (Next Hop Options) The Next Hop is the internal load balancer’s private IP (If deployed in a scale set) Transit Routing - 2 ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:4:2","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#on-premises--colo---routing"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" Spoke-To-Spoke RoutingNow that multiple virtual networks are in play, how does traffic flow? Remember from Part 1 that VNets are non-transitive. For example, let’s say we have Spoke-A and Spoke-B which are VNet peered back to our hub. There have been two common approaches to solving this in the past: On-Premises / CoLo - RoutingThis approach forwards traffic back to a physical device (That lives outside of Azure’s Cloud) that knows how to route packets. This approach is usually the first iteration as, if you already have hybrid connectivity, then these devices are already reachable. The Hub virtual network is configured to allow gateway transit; This enables peered virtual networks to use any attached virtual network gateways Each spoke should be configured to use remote gateways; This is required for traffic to use a gateway living in the virtual network you are peered with The router on-premises will handle any spoke-to-spoke routing; The existing BGP which was set up for private peering handles dynamic routing Transit Routing - 1 Network Virtual Appliance (NVA) - RoutingAnother option would be leveraging NVAs existing in the hub to route traffic between spokes. If we already have the Cloud DMZ design deployed, you would use UDRs to redirect traffic. Each subnet requires a UDR to steer traffic Destination matches the subnet prefix from the adjacent VNet Next Hop Type will be defined as Virtual Appliance (Next Hop Options) The Next Hop is the internal load balancer’s private IP (If deployed in a scale set) Transit Routing - 2 ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:4:2","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#network-virtual-appliance-nva---routing"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" ConclusionWhy not just use a WAF for Inbound connections and Azure Firewall for Outbound? It all comes down to what requirements you are working with and the capabilities needed to meet them. NextGen Firewalls have more capabilities today and are also being used heavily in the enterprise. Many will opt to extend these capabilities into the Cloud. Microsoft currently has Azure Firewall - Premium in Public Preview, which should close the gap a little more. If this material was valuable, check out Part 1 to learn more about the fundamentals. In Part 3, we will dig into ExpressRoute design along with breaking down a few things I wish I would have known before jumping in the deep-end. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:5:0","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#conclusion"},{"categories":["cloud","cloud architecture","cloud networking","design patterns"],"content":" AcknowledgementsBig thanks to the wise and resourceful Steven Hawkins for taking the time to peer review this post. Your feedback is always insightful and appreciated. ","date":"28 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-2/:5:1","series":null,"tags":["azure","bgp","cloud routing","expressroute","hybrid cloud","private peering"],"title":"Exploring Azure Cloud Networking - (Part 2)","uri":"/posts/2021/exploring-azure-cloud-networking-part-2/#acknowledgements"},{"categories":["cloud","cloud architecture","cloud networking"],"content":"Is cloud networking complicated, or is it just different? In building your infrastructure in the cloud, end-to-end system complexity increases exponentially. As enterprise applications mature, the foundational infrastructure and networking used to host and transport them must evolve. One obvious crux of networking is blast radius - you cannot easily modify it without down-time. This is Part 1 of a multi-part series that will explore Azure networking. To the best of my ability, this series will be written to articulate real-world scenarios and bring attention to specifics that are critical to an understanding before diving into cloud networking architecture. Even in working through basics, sometimes a simple thing can be overlooked, which carries long-lasting implications over time. Overview ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:0:0","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Core ConceptsNew and shiny services like Virtual WAN and Route Server will continually be released as capabilities evolve. While new services and features are released to make life easier, some things rarely change. A few core network components are always required when deploying just about any application. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:1:0","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#core-concepts"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Common ComponentsIn the cloud, you generally have a hierarchy in which logical components exist, which may contain additional logical components. With Azure, for instance, Management Groups include Subscriptions. Subscriptions hold Resource Groups, which is where Virtual Networks live. A VNet may be a shared resource across many apps and services in scope across many teams. Resource Groups are containers that hold common objects; An example might be all resources and services which make up an application Virtual Networks (VNets) enable connectivity between your resources, forming the foundation you need to run applications in the cloud Subnets are created from the address space defined at the VNet level; This allows a VNet to be segmented as needed User-Defined Routes (UDRs) are simply static routes that override Azure’s default system routes or add additional routes to a subnet’s route table; A given subnet can have 0 or 1 route tables associated with it Components ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:1:1","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#common-components"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Basic RoutingKnowing how Azure routes traffic between virtual networks, on-premises, and over the Internet is good knowledge to have. Understanding how you can override certain default behaviors is excellent knowledge to have. Putting these things together to build a network that enables business outcomes should be the goal. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:2:0","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#basic-routing"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" SubnetsIn Azure and AWS, VPCs and VNets are limited to a single Region. This is about where the similarities stop. With AWS, a subnet is limited to a single availability zone while Azure extends a single subnet across all availability zones. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:2:1","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#subnets"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" System RoutesSystem Routes are automatically created and assigned to each subnet. You cannot create system routes, nor can you remove them. A default routing table for a new subnet in Azure would look something like this: Source Address Prefixes Next Hop Type Default Address Space (assigned at provision time) Virtual Network Default 0.0.0.0/0 Internet Default 10.0.0.0/8 None Default 192.168.0.0/16 None Default 100.64.0.0/10 None Next Hop Types are self-explanatory. The type Virtual Network routes traffic between address ranges carved out from the VNet’s address space. For internet egress, type Internet is used. If you want to Null route traffic, type None is used; Traffic will be discarded. You can validate effective routes via network interface settings or route tables. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:2:2","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#system-routes"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Route SelectionHow exactly does route selection in Azure work? With traffic exiting a given subnet, a decision must be made based on the destination IP Address. Azure makes this decision based on the longest prefix. If multiple routes contain the same address prefix, the tie is broken based on the following priority: User Defined Routes (Custom) Border Gateway Protocol (BGP) System Route (Default) Longest Prefix System Routes for VNet peering is always a preferred route, even if BGP routes are more specific. This is a small but critical detail as a design evolves. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:2:3","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#route-selection"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" IP AddressingSome decisions age like fine wine, while others seem to age like sour milk. An area that comes to mind here is IP Address Planning. Taking some time to plan out your IP Addressing Scheme upfront can go a long way. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:3:0","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#ip-addressing"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" IP Addressing TruthsThere is no one size fits all here. A few things that are general truths include: IP Addressing Scheme should match the topology or vice versa VNet Address Space cannot be added, modified, or removed if a VNet peer is established Design dictates consumption; Good automation becomes difficult with poorly planned designs IP Addressing and Segmentation is a collaborative exercise; Align with the Security Overlords ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:3:1","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#ip-addressing-truths"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Planning Up FrontLet’s use Healthcare as an example. Privacy is critical, and HIPAA sets clear guidelines on the use and release of health records. If your business deals with protected information, then data classification is a great place to start. If you have a combination of applications (some leveraging protected information and some that do not), both categories can be treated fundamentally differently. Addressing Scheme The above example puts data classification at center stage. If you can categorize all of your protected data at a higher level, this simplifies the work required to ensure compliance. Think of it like this: Protected Data can only exist in the Production (With Protected Data) segment An alternative Production segment exists for workloads not requiring access to Protected Data Non-Production exists for all lower-stage environments across both Production segments; Synthetic Data enables rapid prototyping of heavily regulated data in lower-stage environments (Preventing the risk of accidental exposure) ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:3:2","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#planning-up-front"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Virtual Network PeeringAt some point, connectivity between two or more virtual networks is going to become a requirement. As you grow, chances are, your virtual network footprint will expand significantly. Virtual Network Peering enables connectivity between two or more virtual networks. The big caveat with peering is, virtual networks natively are none-transitive. This means, if you have 3 VNets, you can’t route from VNet: A to VNet: C through VNet: B. Transitive Routing ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:4:0","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#virtual-network-peering"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Peering Gone WildWithout giving network peering more thought, common sense may imply just peering VNets which require communication. So, we peer every virtual network with every other virtual network. What is the worst that could happen? I like spaghetti myself, but I don’t think of it as a design principle when building my networks! Full Mesh ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:4:1","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#peering-gone-wild"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" Is Peering Bad?No, peering is not bad. Like any feature, you should think through how it is used to provide the outcomes you want. Also, try hard not to over-extend it to do things that it was not designed to do. If you are peering everything with everything, then maybe the problem that needs to be solved is transitive routing. In thinking through VNet peering, some obvious things come to mind: Cost - Inbound/Outbound Charges Reliability - A failure occurs with a connection; How would redundancy or mitigation work? Operations - As new VNets are added, overhead and complexity grows exponentially Security - Least privilege is real; What can talk to what now shifts to UDRs and NSGs ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:4:2","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#is-peering-bad"},{"categories":["cloud","cloud architecture","cloud networking"],"content":" ConclusionNow that we have a basic understanding of foundational network components, what’s next? For Part 2, we will go through the evolution of common network patterns ranging from my own little desert island, to modern hub-and-spoke designs that we see today in larger environments. ","date":"5 April 2021","objectID":"/posts/2021/exploring-azure-cloud-networking-part-1/:5:0","series":null,"tags":["azure","cloud routing"],"title":"Exploring Azure Cloud Networking - (Part 1)","uri":"/posts/2021/exploring-azure-cloud-networking-part-1/#conclusion"},{"categories":["automation","cloud","tools"],"content":"Manually provisioning infrastructure slows down application delivery, isolates knowledge, can hamper operations teams, and doesn’t scale. Automating infrastructure provisioning can address these challenges by shifting manual process into code. Hashicorp has products spanning the infrastructure, security, and application stack that can unlock that cloud operating model and deliver applications faster. Let’s examine image lifecycle management and IaaS deployment. Both of these tasks are common challenges faced by the enterprise when moving to the cloud. Using Packer, we can automate the build process for images and then deploy common infrastructure and virtual machines with Terraform. Intro ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:0:0","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#"},{"categories":["automation","cloud","tools"],"content":" What Is Cloud Grade Automation?I started using this expression as a catch phrase some time back, mainly in Powerpoint slides. The way I would describe its meaning goes well beyond a single tool, process, or methodology. To me, it embodies the core guiding principles for cloud and application delivery in today’s landscape. Let’s start with the outcomes we are aiming for: Loosely coupled application architecture; Cloud Native Infrastructure hosting a given application is delivered intact Infrastructure is never touched, changed, or otherwise modified in any way When changes are necessary, the environment is re-deployed from the newest artifact Rollback occurs in the same way except with an older versioned artifact The culture, tooling, process, and delivery that can achieve these outcomes, is my impression of what Cloud Grade Automation is. I’ll be focusing specifically on the tooling and delivery in this post. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:1:0","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#what-is-cloud-grade-automation"},{"categories":["automation","cloud","tools"],"content":" Evolving AutomationAutomation can typically be handled at two different stages of a given workflow. Choosing which stage can ultimately drive operational decisions. As application architectures have evolved, the automation used to build the infrastructure has transformed. Complexity has largely shifted from runtime to build-time. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:2:0","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#evolving-automation"},{"categories":["automation","cloud","tools"],"content":" Runtime - (Mutable)When we think automation, folks that have been around a while typically think in terms of mutable. This means we deploy our server and then configure, update, or modify it in-place. I have seen anything from scripts (Shell, Perl, and Python) to configuration management tools like Ansible, Chef and Puppet used to accomplish this. Webster defines mutable as \":prone to change: INCONSTANT\". To further expand on runtime configuration, let’s take the example of installing an agent-based solution. For the sake of demonstration, let’s say that each virtual machine provisioned in our infrastructure requires running ThousandEyes - Enterprise Agents for monitoring. A greenfield application is getting developed; New infrastructure is required (Develop) The new server (or multiple servers) are provisioned for the application to run on (Deploy) Config Management tooling applies the standard configuration, including the Agent (Configure) Mutable Mutable infrastructure is susceptible to configuration drift. As individual changes get applied on servers throughout their lifecycle, the configuration will significantly differ from the desired state and other servers across the environment. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:2:1","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#runtime---mutable"},{"categories":["automation","cloud","tools"],"content":" Build-time - (Immutable)Immutable infrastructure aims to reduce the number of moving pieces at runtime. Handling infrastructure this way speeds up delivery, eliminates configuration drift, increases environment consistency, optimizes rollback, and simplifies horizontal scaling. Webster defines immutable as \":not capable of or susceptible to change\". To further expand on build-time configuration, let’s take the same example used above: A greenfield application is getting developed; New infrastructure is required (Develop) The standard configuration and Enterprise Agent get packaged at build-time (Configure) Infrastructure is provisioned using the machine template and deployed at runtime (Deploy) Immutable Building immutable infrastructure can be a significant undertaking when considering the transition of brownfield applications. One dependency ensures that the application layer remains stateless, including servers. Anything at this level should and will be consistently destroyed and rebuilt. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:2:2","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#build-time---immutable"},{"categories":["automation","cloud","tools"],"content":" Getting Started With PackerPacker automates the creation of any machine image. Once the image is packaged, it can then be provisioned with Terraform. While this is the new, modern, cool, and cloud way to accomplish this, other methods have existed for a very long time. Back in 2014, I was doing non-interactive installs of various Linux distributions on Linux KVM with virsh and virt-install. Virt-install would use libvirt’s streaming API to upload the kernel and modified initrd to the remote host. Packer ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:3:0","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#getting-started-with-packer"},{"categories":["automation","cloud","tools"],"content":" Building A Machine ImageAs an example, let’s package an Ubuntu 18.04 image with a ThousandEyes - Agent. Although an overly simplistic example, it should demonstrate our desired intent and behavior. Demo code can be found here. Packer ubuntu-18.04-LTS.json Instead of using the shell provisioner to deploy the agent (see line 35 in the template), a more elegant method would call the “type”: “ansible” provisioner pointing to a playbook.yml file in the repository. This would allow you to separate packages into separate playbooks managed in version control. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:3:1","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#building-a-machine-image"},{"categories":["automation","cloud","tools"],"content":" Getting Started With Terraform Terraform Terraform codifies cloud APIs into declarative configuration files. If you want to create reproducible infrastructure for consistent testing, staging, and production environments with the same configuration, look no further! While it’s generally not that simple, Terraform does seem to be the defacto tool these days for Infrastructure as Code in the cloud. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:4:0","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#getting-started-with-terraform"},{"categories":["automation","cloud","tools"],"content":" Deploying Some InfrastructureLet’s deploy some foundational infrastructure along with a virtual machine provisioned from the machine image we built above with Packer. Demo code can be found here. Deploy main.tf This template is an example. In practice, this would probably be broken up into at least two distinct modules (network and compute). If specific groups of resources have a similar life cycle, you would probably create a module for them. An example of this might be core network components like VNets, Subnets, and UDRs. ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:4:1","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#deploying-some-infrastructure"},{"categories":["automation","cloud","tools"],"content":" ConclusionLearning to use Packer or writing Terraform templates is a tiny piece of a vast puzzle. If the desired outcome is Continuous Delivery then application architecture, cultural philosophies, and release management all play equally important roles. Enterprise Leaders all want DevOps for the benefits of automation, quicker releases, reduced downtime, reliable recovery from disasters, and cost benefits in the cloud (That last one makes me chuckle). The real question is, will they do what is necessary to buck traditional culture and adopt truly immutable infrastructure? ","date":"8 February 2021","objectID":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/:5:0","series":null,"tags":["azure","iaas","immutability","linux","packer","terraform","ubuntu"],"title":"Cloud Grade Automation With Packer and Terraform","uri":"/posts/2021/cloud-grade-automation-with-packer-and-terraform/#conclusion"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":"Azure Private Link enables access to hosted customer and partner services over a private endpoint in an Azure virtual network. This means private connectivity over your own RFC1918 address space to any supported PaaS service while limiting the need for additional gateways, NAT appliances, public IP addresses, or ExpressRoute (Microsoft Peering). Hold on, wasn’t the point of Public Cloud to leverage services offered by third-party providers over the public internet? Why, then, would we want to contain traffic in our private IP space, which is likely routable across our on-premises network? Let’s examine this a little deeper to understand the problem we are aiming to solve, solutions available today, some complexities introduced with Private Link, and why we wouldn’t just use PaaS services as is. Microsoft announced Private Link (Preview) in 2019 becoming generally available in early 2020. AWS released their flavor of Private Link back in 2017. Google Cloud released Private Service Connect in 2020. Overview ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:0:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" The ProblemLeveraging PaaS services is kind of like owning a home. Except in that home, you don’t have to fix cracks in the foundation, patch that leaky roof, clean the garage, or even mow the lawn. PaaS services significantly reduce infrastructure management and increase agility while simplifying your ability to scale. Security-focused teams will usually identify the following as problems when talking PaaS: The risk of data leakage / exfiltration increases as PaaS integration with IaaS and on-premises environments increase Decreasing or eliminating internet exposure is preferred; Azure PaaS services were originally available via public IP addresses only Anything that runs over a network that isn’t your own private WAN is risky and must be avoided While I understand and share concerns with risk here, these are generally obstacles I have run into with various security teams throughout my time in tech. I can look back on some tough conversations in the past when trying to advocate for SD-WAN. Since it went over the internet, it couldn’t be reliable and introduced significant risk to the business. Fast-forward to 2021 especially in the current state of the COVID-19 pandemic; most large enterprises now declare internet as the new network, public cloud as the new data center, and identity as the new perimeter. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:1:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#the-problem"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Examining Cloud Security ModelsOur scope here is security in the cloud, not security of the cloud. Security considerations differ in the cloud by service model. In descending through each service model’s different layers, the responsibility for security shifts between Customer and Provider. For example, with SaaS, the layers a customer is responsible for is relatively small; data and access/identity are considered. As you move into PaaS, the application layer, along with some platform configuration, comes into play. Moving into IaaS, the operating system is now customer responsibility, along with all the layers above. Security Models When you have a nice mixture of the three cloud layers and the full gamut of all things data center, thinking through the security domain becomes complicated quickly. Add some Multi-Cloud to this venue, and you are in for a real party. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:1:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#examining-cloud-security-models"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Risky PatternsIn the Digital Era, privacy is at the top of the list. This is especially true when considering specific regulations like GDPR or HIPAA. A data leak can cause a significant loss in revenue and long-term damage to your brand. Specific patterns can expose the number of porous areas, contributing to possible data leakage if not appropriately hardened. Identity \u0026 Access Management (IAM) - Access based on identity authentication and authorization controls; The ground floor for establishing Zero Trust in the public cloud Cloud Endpoints to On-Premises - Services in public cloud provider’s managed network need to make calls to on-premises private networks On-Premises to Cloud Endpoints - Exact opposite of the first pattern; Services in public cloud provider’s managed network need to be called from an on-premises private network Internet Egress - Any point of internet exit; A sinister concoction of data center places, properly designed cloud places, shadow IT oops cloud places, and… plenty of other venues just south of anyone’s radar ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:1:2","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#risky-patterns"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" A Word On Provider ArchitecturesFor public cloud to achieve the massive scale-out which accommodates customer growth, cloud services are built on large pools of resources (network, compute, and storage). This large pool of resources is managed by a centralized control plane. As demand increases, additional resources are added to the pool to increase capacity. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:2:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#a-word-on-provider-architectures"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Service BehaviorThere are ultimately two ways in which services can be categorized based on networking behavior. Since this write-up is Azure focused, I’ll map Azure specific constructs into the examples: Public Services is typically what we think of when referencing PaaS. Public Services are consumed over the internet, reachable via public IP addresses, and are not provisioned in the customer’s VNet. An example of a public service would be Azure Storage. Private Services by default, are not reachable over the internet. Services are assigned RFC1918 addresses and are deployed directly inside a customer’s virtual network. An example of a private service would be an Azure Virtual Machine. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:2:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#service-behavior"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Resource AllocationWhen customers provision a service, the control plane will create an instance of the service. Resources are then allocated accordingly. There are generally two ways in which a service can allocate resources to an instance: Shared Services - Resources are allocated to more than one service instance; Each instance consumes resources simultaneously. Dedicated Services - Resources are allocated to a single instance; These resources remain dedicated for the instance’s entire lifecycle. Service Allocation ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:2:2","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#resource-allocation"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" IntegrationSuppose you are going through the cloud migration journey. In that case, you may have some strategy that includes a combination of rehost, replatform, and refactor. At some point, you will probably be faced with integrating cloud PaaS services with IaaS and even back on-premises. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:3:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#integration"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Before Service EndpointsAzure SQL DB is a great way to migrate your SQL Server databases without changing your apps, making it extremely popular. Before Service Endpoints came along, how would a virtual machine communicate to Azure SQL? Azure SQL DB is available via public IP address and listens on port 1433 The virtual machine has direct connectivity to the internet via NAT’ed IP address The virtual machine leverages this for internet egress to reach Azure SQL service Azure SQL service sees the NAT’ed IP address, not the private IP of the virtual machine No restrictions can be enforced to limit service ingress to your private IP addresses only ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:4:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#before-service-endpoints"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Why Is This Risky?To filter traffic in this scenario, the virtual machine would need a public IP address. This presents the following complications: Virtual Machine now allows ingress directly from the internet (This is never a good practice) The subnet that hosts the virtual machine would require a NAT gateway; More configuration with potential performance implications Azure SQL would need to be open to clients on any network; In the event credentials are leaked, anyone on the internet could gain access ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:4:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#why-is-this-risky"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" TradeoffsAside from being inflexible in controlling ingress and egress traffic, the route is not optimal. Traffic is technically going out to the internet, but this is probably, in reality, routing through Azure’s external backbone and coming back in. The service is reachable via public IP address only. Considering the design and various integrations required to make it work, there could be significant opportunities for data leakage or exfiltration. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:4:2","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#tradeoffs"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" VNet IntegrationVNet Integration is leveraged for services whose design matches the dedicated services architecture. Also called VNet Injection, this method deploys a given service directly in your VNet. As a solution, it enables better continuity for workloads operating in tiered hybrid design. VNet Integration ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:5:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#vnet-integration"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Problems Solved By VNet Integration Injected services are exposed over RFC1918 addresses directly from your VNet As a dedicated platform, none of the components are shared across other customers; This could be a requirement in some cases At the network layer, the behavior would be similar to that of a virtual machine in the same VNet Communication to virtual machines in same VNet and in peered VNets is bidirectional Communication between on-premises environments over ExpressRoute - Private Peering or VPNs is bidirectional Inbound connections from routable IP addresses outside of VNet address space is possible when exposed behind public IP address; Best to use an external load balancer / front-end IP address VNet Source NAT can be used to initiate connections to internet routable IP addresses ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:5:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#problems-solved-by-vnet-integration"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" VNet Integration TradeoffsAlthough VNet Integration was created to deploy App Services privately, is all of it really private and exclusive to only your VNet? While the service itself is dedicated, the control plane managing the services is not. Integrated services require inbound and outbound connections to platform managed public IP addresses, which facilitate interaction to the control plane. Whether this is a tradeoff is debatable. Integrated services are deployed into an isolated subnet; Services contain sizing guidlines Each service identifies the required dependencies for control plane communication; For example, App Service Environment dependencies can be found here Increased complexity in managing NSGs and UDRs; Service Tags should be used to reduce overhead as the mapping between tag and addresses are automatically managed by the platform Ultimately, each service will exhibit different behavior and likely has different requirements; Always consult the official documentation ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:5:2","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#vnet-integration-tradeoffs"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Service EndpointsService Endpoints as a solution can be applied to select PaaS services with a shared architecture. A route is created from your PaaS service into the desired VNets. Service Endpoints ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:6:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#service-endpoints"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Problems Solved By Service Endpoints After enabling a service endpoint in the subnet where the Application Gateway is deployed, source IP addresses switch from public to private IP addresses Traffic from a given virtual machine in a private subnet can now talk directly to Azure SQL without requiring internet egress; Without a public IP address, bad actors can’t scan a virtual machine’s open ports for vulnerabilities, thus limiting application downtime and data theft Service Endpoints ensure traffic egressing a given subnet is tagged with the subnet ID; Traffic inbound to Azure SQL can then be identified and blocked except for your desired subnet IDs (like the subnet which hosts the service endpoint) An NSG can then restrict all egress traffic from the subnet to the internet, thus locking down communication both ways Connecting to Azure Services from your VNet happens with an optimized route over Azure’s internal backbone network; This reduces network hops, which increases performance (In most cases) ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:6:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#problems-solved-by-service-endpoints"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Setting Up A Service EndpointWhen provisioning a compatible service like Azure Keyvault, you will have an option to use Public Endpoint (Selected Networks) during the setup process. It will then walk you through enabling service endpoints on your desired virtual network and subnet. Setup ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:6:2","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#setting-up-a-service-endpoint"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" DNS Behavior With Service EndpointsDNS behavior remains as-is when leveraging service endpoints. DNS of a given resource will always resolve the resource’s public IP address regardless of where the traffic originates. This is because the service endpoint doesn’t change the network interface IP address of the resource it was added to. In doing a DNS lookup from an Azure virtual machine, we get a CNAME to cloudapp.net which gives us 20.185.217.251. This lookup is identical when being executed both from the virtual machine living in the VNet and on my local machine at home. DNS Query ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:6:3","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#dns-behavior-with-service-endpoints"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Service Endpoint TradeoffsLeveraging service endpoints is an excellent way to harden your VNet and service communication; As with everything in technology, it has tradeoffs to consider. Connection initiation with service endpoints is unidirectional; The initiator must be inside the subnet that holds the integration From a VNet’s vantage point, service endpoints provide access to the entire PaaS service; You cannot target specific instances of a PaaS service Once enabled on a subnet, clients in the subnet have network level access to all instances of that particular service (including those belonging to other users); To mitigate the risk of leakage or data exfiltration, Service Endpoint Policies should be used Service Endpoint Policies enable VNet owners to control precisely which instances of a service type can be accessed from their VNet The source is now a private IP address, but the destination is still the service resource’s public IP address; Traffic is still leaving your virtual network (Whether this is a tradeoff is debatable) Service Endpoints override any BGP or UDR routes for the address prefix match of any Azure service; While this isn’t necessarily a problem, it introduces another traffic pattern that must be accounted for When a service endpoint is created, routes for all the public prefixes used by the service type get added to the subnet’s route table. The next-hop is set to a value of VirtualNetworkServiceEndpoint. All packets that match that next hop are encapsulated in outer packets, which carry information about the identity of their source virtual network. Service Endpoints do not work across Azure AD Tenants; This is not generally a problem in smaller environments but may require a workaround in larger or non-standard environments Endpoints can’t be used for traffic originating from on-premises networks When service endpoints launched, the recommended solution for connecting from on-premises was to set up Microsoft Peering, which comes with additional complexity and considerations. This would involve identifying the Azure service resource side’s public IP addresses and allowing via resource IP firewall and the ExpressRoute / On-Premises firewall. Why not just use internet at this point? ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:6:4","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#service-endpoint-tradeoffs"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Private LinkTo address additional customer demand surrounding integration and security, Private Link was born. It is the latest solution to integrate services with a shared architecture. It addresses limitations of service endpoints by exposing PaaS services via private IP addresses taken from a VNets RFC1918 space. Private Link ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#private-link"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Breaking Down The Components Virtual Networks (VNets) are created in a subscription with private address space and provide network-level containment of resources with no traffic allowed by default between any two virtual networks. Any communication between virtual networks needs to be explicitly provisioned. Private Endpoint establishes a logical relationship between a public service instance and a NIC attached to the VNet where the service is exposed. Private Link Service enables you to access Azure PaaS Services over a private endpoint. Services supported today can be found here. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#breaking-down-the-components"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Problems Solved By Private Link Using a private endpoint enables flexible PaaS integration with your own private address space With no public IP addresses exposed, this means network-based access restrictions are not so complicated or not required at all; This simplifies network design as a whole Private Link enables on-premises clients to use existing ExpressRoute Private Peering or an existing VPN to consume PaaS services via private IP addresses A private endpoint is mapped to an instance of a PaaS resource instead of the full service meaning consumers can only connect to that specific resource; This provides additional built-in protection against data leakage Connectivity from a designated VNet to a partner (inside or outside) organization’s VNet is now possible; This creates new opportunities for B2B (Business-to-Business) which can leverage Azure native connections without the necessity for public endpoints ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:2","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#problems-solved-by-private-link"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Setting Up A Private EndpointUsing the Azure Keyvault example again, you will have an option to use Private Endpoint during the setup process. It will then walk you through setting up all the necessary configuration for a private endpoint and optionally creating a Private DNS Zone. Following the defaults, it will also create the A Record for you. Setup ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:3","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#setting-up-a-private-endpoint"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" DNS Behavior With Private EndpointsOne of the more significant differences between service endpoints and private endpoints is with DNS. In doing a DNS lookup from an Azure virtual machine, we directly resolve the private IP address 10.5.1.4. If we did this same lookup from a machine outside of our VNet or Azure, then we would get a CNAME to cloudapp.net which would then give us the public IP address of the service. DNS Query ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:4","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#dns-behavior-with-private-endpoints"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Private Link Tradeoffs Connection initiation with Private Link is unidirectional; The initiator can be multiple VNets or on-premises networks As of today, NSGs are not supported on private endpoints; While subnets containing the private endpoint can have an NSG associated, the rules will not be effective on traffic being processed DNS integration is a major part of Private Link and brings additional complexity; Mapping design and configuration to outcomes requires significant planning Transitioning infrastructure from service endpoints to private endpoints will require additional planning and downtime ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:5","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#private-link-tradeoffs"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" Expanding On DNS ComplexityIn the most simple of scenarios, an instance of a service that supports Private Link can be accessed concurrently through the service’s public IP address and private endpoint (across multiple VNets). During provisioning, each instance of a public service is assigned a unique and publicly resolvable FQDN. With a service operating in shared architecture, multiple instances run on the same set of resources sharing the same IP address. To handle resolution, CNAME records map the FQDNs of each instance back to the same address. Private Link, by design, requires DNS behavior to change based on origin - e.g., inside/outside and also based on the existence of a private endpoint for a given instance. Since, by default, the FQDN of the service resolves to a public IP, you would need to configure DNS accordingly to map to the private IP address allocated from your VNet. This is a topic that should be planned out prior to leveraging this service. One consistent truth I have learned working in technology is, Some of the most bizarre problems leading to colossal time waste turn out to be misconfigured DNS. A great way to get ahead of these challenges is to educate on how name resolution for resources in Azure works and also know your options for integrating with on-premises DNS. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:7:6","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#expanding-on-dns-complexity"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" ConclusionService Endpoints as a solution is easier to set up and manage, although integration with on-premises can be a challenge. Private Link is much more complex and will differ across environments. Deploying Private Link will require much more up-front discovery and planning around existing design, which also segues into infrastructure as code and possibly incorporating automation outside of Azure - (If leveraging existing DNS solution). Benjamin Franklin once said, “By failing to prepare, you are preparing to fail.” By taking that extra preparation, Private Link can offer much more granular control with how PaaS services are integrated into an environment. In the state of Cybersecurity post-pandemic, I predict that all the major cloud providers will prioritize the privatization of all PaaS endpoints. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:8:0","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#conclusion"},{"categories":["cloud","cloud architecture","cloud security","hybrid cloud","multi cloud"],"content":" AcknowledgementsBig thanks to the wise and insightful Steven Hawkins for taking the time to peer review this post. ","date":"11 January 2021","objectID":"/posts/2021/cloud-security-and-azure-private-link/:8:1","series":null,"tags":["azure","dns","iaas","paas","private endpoints","private link","public endpoints","service endpoints","saas"],"title":"Cloud Security And Azure Private Link","uri":"/posts/2021/cloud-security-and-azure-private-link/#acknowledgements"},{"categories":["automation","cloud","conference","netdevops"],"content":" AnsibleFest AnsibleFest 2020, like most conferences this year, took place completely virtual. I presented on Automating IPAM In Cloud: Ansible + Netbox. You can find the slides along with the demonstration code in this git repo. In this post, I’m going to expand a little further on the content I presented. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:0:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#"},{"categories":["automation","cloud","conference","netdevops"],"content":" What is IPAM?IP Address Management (IPAM) is the critical component that organizes your IP addresses and networks in one place. Responsible management of IP addressing drives efficient, repeatable, and reliable network automation. It is also a dependency for many other types of automation. Think of all the things that require IP addresses to communicate? IPAM ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:1:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#what-is-ipam"},{"categories":["automation","cloud","conference","netdevops"],"content":" The ProblemIf you are hybrid multi-cloud, it probably means you share the same RFC1918 space across clouds and traditional networking. If this is the case, it means you probably want to keep track of allocation across VNets, Subnets, and VMs. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:2:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#the-problem"},{"categories":["automation","cloud","conference","netdevops"],"content":" Boundaries Are Blurred As Hybrid Multi-Cloud becomes a reality, private IP space becomes shared across cloud(s) and on-premises Developers leverage CI/CD as they deploy, maintain, and migrate applications in the cloud; network can’t keep up Some developers do not have a good understanding of how IP addressing works and how to consume it responsibly Problem ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:2:1","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#boundaries-are-blurred"},{"categories":["automation","cloud","conference","netdevops"],"content":" Inconsistency In Data Domains Data required for efficient automation is often dispersed across many tools and platforms Frequently, overlap can exist between these tools and platforms for a given data domain Tools and platforms may be owned and managed by different teams with different directions Good automation is dependent on data accuracy, consistency, and ability to be consumed Data Domains ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:2:2","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#inconsistency-in-data-domains"},{"categories":["automation","cloud","conference","netdevops"],"content":" What Is Our Desired Outcome?Aside from the idea that we want to automate IP address management, the main focus is user experience. This encompasses the overall experience for those designing for the future, supporting current, and consuming cloud networking services. The following considerations are critical: Minimal human intervention Repeatable with other cloud providers Compatible across traditional + cloud networking End-to-end network automation ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:3:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#what-is-our-desired-outcome"},{"categories":["automation","cloud","conference","netdevops"],"content":" Why Automate Here?If Tesla can make self-driving cars and my coffee maker turns itself on in the morning, we can automate IPAM across the hybrid multi-cloud network, right? Also, the cloud demands agility. If you want agility, you need design patterns to build something repeatable against. If you manage IPAM in the cloud with any Microsoft Office tool, you are doing it wrong. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:4:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#why-automate-here"},{"categories":["automation","cloud","conference","netdevops"],"content":" Why Ansible and Netbox?Leveraging something like Ansible begins to make sense when the goal is automation at scale for networking across multiple vendors and environments. Netbox can serve as a Source of Truth intended to represent the desired state of a network versus its operational state. The API is very flexible, and the functionality can drive many automation use cases well beyond IPAM. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:4:1","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#why-ansible-and-netbox"},{"categories":["automation","cloud","conference","netdevops"],"content":" PrerequisitesThis post will not detail how to deploy Ansible or Netbox as there is plenty of examples out there already. There is excellent documentation for setting up both of these platforms via Docker. Instructions for setting up Ansible AWX can be found here and Netbox here. To authenticate to an Azure subscription, you will need to create a Service Principal. Once a Service Principal is created, you will need to assign a role so that you can access the resources in that subscription. Detailed instructions for completing these steps can be found here. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:4:2","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#prerequisites"},{"categories":["automation","cloud","conference","netdevops"],"content":" What Are We Automating?Let’s examine the cloud environment so we can begin formulating our approach for how we want to automate. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:5:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#what-are-we-automating"},{"categories":["automation","cloud","conference","netdevops"],"content":" The Technology The Tech ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:5:1","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#the-technology"},{"categories":["automation","cloud","conference","netdevops"],"content":" Digging Down Into The EnvironmentsIn the cloud, you generally have a hierarchy in which logical components exist, which may contain additional logical components. With Azure, for instance, management groups include subscriptions. Subscriptions hold Resource Groups, which include VNets. A VNet may be a shared resource across many apps and services in scope across many teams. Cloud Environment Colocation Data Centers like Equinix or Megaport are being used more frequently as demand for cloud services increase. We will need to make some changes to a few physical Cisco ASRs, so packets can route. Cloud ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:5:2","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#digging-down-into-the-environments"},{"categories":["automation","cloud","conference","netdevops"],"content":" Design Drives AutomationThinking through a given design is a crucial element for how you approach the automation. If our goal is end-to-end network automation at scale, that means we must automate across multiple vendors and environments. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:6:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#design-drives-automation"},{"categories":["automation","cloud","conference","netdevops"],"content":" Standard WorkflowsTo automate both the foundational (shared) and service-oriented (app-specific) components, leveraging two distinct workflows makes sense. Standard Workflows ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:6:1","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#standard-workflows"},{"categories":["automation","cloud","conference","netdevops"],"content":" A Scalable Tagging SystemIf you want to do cloud right, cost governance should be in your considerations. This means a well-designed and consistently applied tagging convention, which compliments lifecycle management, automation, and visibility in reporting. In treating our pets like cattle, we need a source of truth with standardized identification across all networking components. Resource Tagging ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:6:2","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#a-scalable-tagging-system"},{"categories":["automation","cloud","conference","netdevops"],"content":" TouchpointsBetween both of our workflows, there are numerous touchpoints: network_cli for traditional networking Ansible Cloud Modules via Azure Resource Manager Netbox Collection leveraging the Netbox API Touchpoints ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:6:3","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#touchpoints"},{"categories":["automation","cloud","conference","netdevops"],"content":" Breaking Down The LogicA great benefit of using Ansible is flexibility. This can also cause significant confusion as there are many ways in which we can structure things. It is beneficial to understand the structure, logic flow, and inheritance. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#breaking-down-the-logic"},{"categories":["automation","cloud","conference","netdevops"],"content":" Project StructureThinking through your project structure can make future work more manageable. The following guide - Best Practices - Content Organization in Ansible’s documentation is a good starting point. However, this is not a one size fits all scenario, and experimenting, reevaluating, and tweaking will probably be necessary. The following approach has served me well in the past. Project Structure ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:1","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#project-structure"},{"categories":["automation","cloud","conference","netdevops"],"content":" Ansible CollectionsAnsible Collections are pretty slick. My only recommendation here is, manage your collections with a requirements.yml file. When it comes to testing new versions of a collection, all you need do is create a new git branch, set the new version in your requirements.yml file, and point Tower to this branch. Ansible has documented collections usage pretty thoroughly here. ansible-cloud-ipam/collections/requirements.yml I would stress never pulling down collections from Galaxy and committing them directly into the source control repository for your project. Friends do not let friends engage in this type of behavior! ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:2","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#ansible-collections"},{"categories":["automation","cloud","conference","netdevops"],"content":" High-Level PlaysThe playbooks sitting in our root project folder are pretty simple. They are primarily used as the entry point for Ansible and execute based on a specific condition. ansible-cloud-ipam/play.azure_snet_add.yml ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:3","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#high-level-plays"},{"categories":["automation","cloud","conference","netdevops"],"content":" Functional RolesRoles for this demo are organized by either a given platform or OS type. Each role’s main file will include specific tasks to use based on the condition defined in the root level play. ansible-cloud-ipam/roles/netbox/tasks/main.yml ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:4","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#functional-roles"},{"categories":["automation","cloud","conference","netdevops"],"content":" Purpose Built TasksThe actual logic is handled inside a given role’s tasks. Each task is purpose-built and does a very intentional thing. Also, the idea is to keep things DRY (Don’t repeat yourself) so that we can easily reuse things. This means we don’t want to set values here statically. The smaller a thing is, the less it does. If something does less, it makes it easier to repeat. ansible-cloud-ipam/roles/netbox/tasks/task.netbox_reserve_prefix_snet.yml ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:5","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#purpose-built-tasks"},{"categories":["automation","cloud","conference","netdevops"],"content":" The Physical NetworkOut of the three platforms we have interacted with here, the Cisco ASR is the only one that isn’t API driven. For automating this beauty, I’ll be using the ios_config module for configuration. There are more modern ways to do this today, but this is probably the reality for most in practice. This is a straightforward use case, so this type of execution serves its purpose for a demo’s scope. Each time the Service Workflow is run, the subnet it reserves will be appended to a prefix-list living on the ASR. In a real world cloud scenario, this prefix-list could be used to identify and filter traffic. It could then be used inside a route-map to enable and enforce policy criteria beyond the routing table. When doing BGP to the cloud, this can be important as you may want to enforce specific policies on specific neighbors to particular clouds. ansible-cloud-ipam/roles/cisco-ios/tasks/task.ios_prefix_list_append.yml ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:7:6","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#the-physical-network"},{"categories":["automation","cloud","conference","netdevops"],"content":" Putting It All TogetherAnsible Tower offers two flavors of templates. Job Templates are used to execute a single task many times, while Workflow Templates stitch together multiple Job Templates. The value here aims at getting the same outcome that your typical Build/Release pipelines would offer for Infrastructure as Code. When thinking of infrastructure as Code, I generally think immutability and cloud exclusivity. In my opinion, this approach lends itself more to remaining flexible and accommodating for a multitude of disparate and traditional infrastructure while also providing the ability to integrate with new technologies. Templates ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#putting-it-all-together"},{"categories":["automation","cloud","conference","netdevops"],"content":" Job TemplatesIn the spirit of building for repeatability, I created Job Templates for each unique task. This allows me to reuse them over time in new Workflow Templates as new use cases present themselves. Job Template ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:1","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#job-templates"},{"categories":["automation","cloud","conference","netdevops"],"content":" Workflow TemplatesI then assembled my two Workflow Templates outlined above. The Base Workflow in practice would be run far less frequently than the Service Workflow. ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:2","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#workflow-templates"},{"categories":["automation","cloud","conference","netdevops"],"content":" Workflow VisualizerStitching your workflow together is pretty simple with Tower’s workflow visualizer. Once you create a blanket workflow, you can add and arrange jobs. Workflow Visualizer ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:3","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#workflow-visualizer"},{"categories":["automation","cloud","conference","netdevops"],"content":" Using SurveysSurveys are a great way to populate variables at runtime interactively. Once a source of truth in a given data domain is populated, and the logic is more mature, this will probably be used less. Surveys ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:4","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#using-surveys"},{"categories":["automation","cloud","conference","netdevops"],"content":" Workflows In ActionNow that our workflow is populated with the right variables let’s take it for a spin! Running Workflows ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:5","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#workflows-in-action"},{"categories":["automation","cloud","conference","netdevops"],"content":" A Little Manual ValidationPurely for the sake of delightful visuals, let’s validate a few things. Netbox Prefix Reservation: We can see here that the next available prefix was reserved, configuration criteria are correct, and our enforced tags are in place. Netbox Validation Cisco ASR 1002-HX Configuration: The prefix reserved above has now been added to the cloud-allowed-prefixes list on our router. If the list does not exist, the job will create it. From there, any new prefixes reserved will then be appended. ASR Validation ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:8:6","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#a-little-manual-validation"},{"categories":["automation","cloud","conference","netdevops"],"content":" ConclusionBuilding a logical way for developers to consume IPAM at the speed of cloud is WINNING! Remember, go fast, but go responsibly! Go Fast! ","date":"13 October 2020","objectID":"/posts/2020/automating-cloud-ipam/:9:0","series":null,"tags":["ansible","ansiblefest","azure","ipam","netbox","cisco asr"],"title":"AnsibleFest 2020 - Automating IPAM In Cloud","uri":"/posts/2020/automating-cloud-ipam/#conclusion"},{"categories":null,"content":" Slides Link Channel - Network Topics - Cloud, Infrastructure, Networks Audience - Design application/system architectures; Manage Infrastructure Technical Difficulty - Advanced Industry - Healthcare \u0026 Life Sciences ","date":"13 October 2020","objectID":"/talks/2020/ansiblefest-2020/:0:0","series":null,"tags":null,"title":"AnsibleFest 2020: Automating IPAM in Cloud","uri":"/talks/2020/ansiblefest-2020/#slides-linkansiblefest_2020_automating_ipam_in_cloudpdf"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" IntroductionMulti-Cloud is making its rounds. Network and Security engineers face increasing challenges with managing complexity and risk as they work to react with more agility to enable business outcomes. At the start, enterprises didn’t just decide they would be multi-cloud. They started with a single cloud, likely Amazon Web Services and tailored their strategy around that cloud’s architecture and features. A little time passes, and now those engineers that are still evolving to handle AWS are tasked with adopting Microsoft Azure. Those handcrafted design patterns, features, and core architectures in scope for AWS it turns out, don’t port over to Azure. At this point, those engineers are starting to get overwhelmed. Just as they finish getting the initial design in place for Azure, there is now a push to begin setting up the foundational structure and connectivity for Google Cloud. In May, Alkira exited stealth with the first unified multi-cloud network delivered as-a-service which aims to solve problems like this. Alkira is brought to us by Amir Khan and Atif Khan who also created and co-founded Viptela SD-WAN (Viptela was acquired by Cisco in 2017 for 610 million). Listen to Packet Pushers Podcast - Heavy Networking 520 as I talk through the challenges of multi-cloud and how Alkira can help you solve them. Intro ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:1:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#introduction"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" By The NumbersBack when multi-cloud started to gather momentum, I admittedly thought it was a sham. Some of the biggest names in the cloud game seem to choose a single cloud, innovate, optimize, and scale. Might have heard of that streaming giant Netflix, no? They are using AWS exclusively. What about Spotify, who went from 20 million premium subscribers in 2015 to a staggering 130 million in 2020? Well, they are all in on Google Cloud. While efficiently managing 1 cloud may seem hard enough, it looks like enterprises and SMBs are taking a different approach. According to Flexera 2020 - State of the Cloud Report, 93 percent of enterprises have a multi-cloud strategy; 87 percent have a hybrid-cloud strategy. On average, organizations are actively using 3.4 clouds and experimenting with another 1.5 clouds (private and public). The numbers tell a story. ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:1:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#by-the-numbers"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" How Did We Become Multi-Cloud Anyway?For some, it all started with the words Digital and Transformation. Cloud is the new foundation for our agile business, right? We proudly setup our VPN to AWS and thought, that was easy. I can cloud with the best of em! Then things kind of snowballed from there. While no organization has the exact same story to tell, we can look at a hypothetical example in which many can probably relate. Multi-Cloud ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:1:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#how-did-we-become-multi-cloud-anyway"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Analyzing Multi-Cloud Network Design PatternsThe concept of design patterns was first introduced by Christopher Alexander and has profoundly influenced software engineering. Simply put, a design pattern is just a reusable solution to a commonly occurring problem. This applies to any discipline and is of critical importance when architecting for the cloud. The network is not just limited to public cloud. In the instance of Healthcare, you may have existing data centers, corporate offices, hospitals, and a growing remote workforce which require fast, reliable, and secure transport. Examining the prominent building blocks of cloud computing - IaaS, PaaS, and SaaS can add color as to how the future network may look. Cloud Computing ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:2:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#analyzing-multi-cloud-network-design-patterns"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Pre-Cloud Design - (Data Center Backhaul)You can’t adopt the cloud without taking that first step. Most enterprises and SMBs took that step by merely setting up accounts in AWS and sandboxing. Since network and security folks generally slow things down, this was typically started without much oversight. Pre-Cloud ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:2:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#pre-cloud-design---data-center-backhaul"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Design Pattern EvolutionCloud has caused disruption across all technical disciplines, and networking is no exception. Although not a one-to-one match to the evolution of cloud computing models, we can definitely draw some comparisons. Network 1 - Design Pattern - (Colocation)Once network performance for cloud becomes critical, adoption of Direct Connect, ExpressRoute, and Interconnect become essential for connecting your existing infrastructure. These links are critical for migrations and tiered hybrid deployments (Backend application reuse, with frontend components being migrated case by case). Colocation data centers have many qualities that can be attractive to a business seeking to get well connected. One major value add would be, getting you closer to the cloud providers, applications, and services, which are also hosted in a respective CoLo. This solution isn’t really centralized or decentralized. I would say it fits somewhere in the middle, maybe call it regionalized? Colocation 2 - Design Pattern - (Cloud Transits)To centralize or decentralize, that is the question. This seems to be the proverbial pendulum swing in action. We got somewhere in the middle with CoLos, but now with SD-WAN making us transport agnostic, why not wholly decentralize? Every cloud, data center, and remote for itself, easy right? Cloud Transits 3 - Design Pattern - (As a Service)Each of the previous patterns solves specific problems but also leaves new ones in its wake. Alkira aims to tackle this in a disruptive fashion similar to how the cloud computing models transformed application delivery. By shifting to a service based consumption, you gain a lot of the benefits of cloud applied to the full domain of networking. Although their solution is marketed as-a-service with consumption-based billing, I will attempt to expand on this notion. In the world of cloud, as-a-service implies that you don’t technically do anything but consume. I would argue that Alkira is more like a SaaS solution that enables you to operate components of your network in a PaaS like fashion. As-a-Service ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:2:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#design-pattern-evolution"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Design Pattern EvolutionCloud has caused disruption across all technical disciplines, and networking is no exception. Although not a one-to-one match to the evolution of cloud computing models, we can definitely draw some comparisons. Network 1 - Design Pattern - (Colocation)Once network performance for cloud becomes critical, adoption of Direct Connect, ExpressRoute, and Interconnect become essential for connecting your existing infrastructure. These links are critical for migrations and tiered hybrid deployments (Backend application reuse, with frontend components being migrated case by case). Colocation data centers have many qualities that can be attractive to a business seeking to get well connected. One major value add would be, getting you closer to the cloud providers, applications, and services, which are also hosted in a respective CoLo. This solution isn’t really centralized or decentralized. I would say it fits somewhere in the middle, maybe call it regionalized? Colocation 2 - Design Pattern - (Cloud Transits)To centralize or decentralize, that is the question. This seems to be the proverbial pendulum swing in action. We got somewhere in the middle with CoLos, but now with SD-WAN making us transport agnostic, why not wholly decentralize? Every cloud, data center, and remote for itself, easy right? Cloud Transits 3 - Design Pattern - (As a Service)Each of the previous patterns solves specific problems but also leaves new ones in its wake. Alkira aims to tackle this in a disruptive fashion similar to how the cloud computing models transformed application delivery. By shifting to a service based consumption, you gain a lot of the benefits of cloud applied to the full domain of networking. Although their solution is marketed as-a-service with consumption-based billing, I will attempt to expand on this notion. In the world of cloud, as-a-service implies that you don’t technically do anything but consume. I would argue that Alkira is more like a SaaS solution that enables you to operate components of your network in a PaaS like fashion. As-a-Service ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:2:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#1---design-pattern---colocation"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Design Pattern EvolutionCloud has caused disruption across all technical disciplines, and networking is no exception. Although not a one-to-one match to the evolution of cloud computing models, we can definitely draw some comparisons. Network 1 - Design Pattern - (Colocation)Once network performance for cloud becomes critical, adoption of Direct Connect, ExpressRoute, and Interconnect become essential for connecting your existing infrastructure. These links are critical for migrations and tiered hybrid deployments (Backend application reuse, with frontend components being migrated case by case). Colocation data centers have many qualities that can be attractive to a business seeking to get well connected. One major value add would be, getting you closer to the cloud providers, applications, and services, which are also hosted in a respective CoLo. This solution isn’t really centralized or decentralized. I would say it fits somewhere in the middle, maybe call it regionalized? Colocation 2 - Design Pattern - (Cloud Transits)To centralize or decentralize, that is the question. This seems to be the proverbial pendulum swing in action. We got somewhere in the middle with CoLos, but now with SD-WAN making us transport agnostic, why not wholly decentralize? Every cloud, data center, and remote for itself, easy right? Cloud Transits 3 - Design Pattern - (As a Service)Each of the previous patterns solves specific problems but also leaves new ones in its wake. Alkira aims to tackle this in a disruptive fashion similar to how the cloud computing models transformed application delivery. By shifting to a service based consumption, you gain a lot of the benefits of cloud applied to the full domain of networking. Although their solution is marketed as-a-service with consumption-based billing, I will attempt to expand on this notion. In the world of cloud, as-a-service implies that you don’t technically do anything but consume. I would argue that Alkira is more like a SaaS solution that enables you to operate components of your network in a PaaS like fashion. As-a-Service ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:2:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#2---design-pattern---cloud-transits"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Design Pattern EvolutionCloud has caused disruption across all technical disciplines, and networking is no exception. Although not a one-to-one match to the evolution of cloud computing models, we can definitely draw some comparisons. Network 1 - Design Pattern - (Colocation)Once network performance for cloud becomes critical, adoption of Direct Connect, ExpressRoute, and Interconnect become essential for connecting your existing infrastructure. These links are critical for migrations and tiered hybrid deployments (Backend application reuse, with frontend components being migrated case by case). Colocation data centers have many qualities that can be attractive to a business seeking to get well connected. One major value add would be, getting you closer to the cloud providers, applications, and services, which are also hosted in a respective CoLo. This solution isn’t really centralized or decentralized. I would say it fits somewhere in the middle, maybe call it regionalized? Colocation 2 - Design Pattern - (Cloud Transits)To centralize or decentralize, that is the question. This seems to be the proverbial pendulum swing in action. We got somewhere in the middle with CoLos, but now with SD-WAN making us transport agnostic, why not wholly decentralize? Every cloud, data center, and remote for itself, easy right? Cloud Transits 3 - Design Pattern - (As a Service)Each of the previous patterns solves specific problems but also leaves new ones in its wake. Alkira aims to tackle this in a disruptive fashion similar to how the cloud computing models transformed application delivery. By shifting to a service based consumption, you gain a lot of the benefits of cloud applied to the full domain of networking. Although their solution is marketed as-a-service with consumption-based billing, I will attempt to expand on this notion. In the world of cloud, as-a-service implies that you don’t technically do anything but consume. I would argue that Alkira is more like a SaaS solution that enables you to operate components of your network in a PaaS like fashion. As-a-Service ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:2:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#3---design-pattern---as-a-service"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Examining Complexity In Multi-Cloud TodayComplexity can be a tricky thing. Often times, adding complexity to a network to either increase availability or make it more secure can backfire. If the person responsible for a given design has to think about it for a length of time when something breaks or has difficulty explaining it, then it may be overly complicated. This means it will be far more difficult for operational teams to manage over time. ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:3:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#examining-complexity-in-multi-cloud-today"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" The CoLo ApproachIn the journey to get well connected, many organizations are leveraging global colocation data centers like Equinix or Megaport for interconnection services. In many reference architectures, this is referred to as performance hubs which are distributed in proximity to your data centers, remotes, customers, and physical location of public cloud data centers. Key Drivers Regional private WAN egress to the Internet Low latency private connections to Cloud Providers Localized security stack per CoLo (no backhaul to data centers) Leverage competition between carriers (cost consideration) CoLos have a lot to offer in terms of value, but they also significantly increase complexity and operational overhead. A lot of times when CoLos are discussed, I often hear some variation of the question - “Aren’t we going to cloud so we can get out of the business of managing our own data centers”? The idea is to avoid additional spend on hardware, costly refreshes, and additional staffing to manage it all. ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#the-colo-approach"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Physical Hardware Leads The WayIn building out CoLos, physical hardware is used to terminate connections, route traffic, and perform security functions. While services exist like Equinix Cloud Exchange Fabric, this merely enables you to provision multiple logical circuits on-top of a single physical port. You are still on the hook for terminating bare-metal connections and routing traffic. Layer 2 Across CloudsAs we start setting up our fast on-ramps to cloud, we must first setup the physical hardware to terminate each cloud’s variation of direct connection. For increased SLA and reliability, these are sold in pairs, so our physical hardware must be setup in an Active/Standby configuration. We will have a cross connect from Switch-A going to DirectConnect-A and a cross connect additionally from Switch-B to DirectConnect-B. This will be required for each Cloud provider. CoLo - Layer: 2 Layer 3 Across CloudsNow that we’re switching those frames, it’s time to route some packets. Aside from some nice enterprise-grade switches, we are probably going to need some nice shiny routers to see our reflection in. Although we could have simply terminated connections on the same device we are routing with, as we expand the hardware topology to NGFWs, the separate switches make sense. CoLo - Layer: 3 Layer 3, 4, and 7 Across CloudsThe Cisco Annual Internet Report makes the staggering prediction that by 2021, 85% of network traffic will be east-west. This creates a compelling case for putting time and effort into understanding what, how, and why specific traffic is communicating inside and across clouds. If I am an attacker, I want sensitive information. When organizations are migrating to the cloud, the raw data may not exist in the cloud, but network connectivity is required to the cloud to plan and orchestrate migrations. This opens the door for cross-cloud attacks in which a bad actor might piggyback on address-based controls and protocols that are missed by non-modernized toolkits or lack of visibility. The bad actor can then propagate malware across clouds, or to on-premises data centers. Regionally placing security gear in CoLos can help alleviate some of these concerns as you can force all of your traffic through Next-Gen appliances. When you start going multi-cloud however, your traffic flows, routing, and segmentation complexity begin to increase exponentially. CoLo - Layer: 3-7 SegmentationCloud Security should be similar to a very large, plain-looking, yet complex onion. This onion has several layers, and each layer you peel back has a unique but intentional function. In network security, macro-segmentation is a higher-level and less granular method in which we can group categories of things, traditionally geared towards north-south communication. As we get more granular, we leverage micro-segmentation. This expands the looking glass to encompass east-west traffic with the intent of providing seamless protection for workloads spanning data centers and multiple clouds. In getting started, we intend to keep this as simple as possible while still meeting security-focused requirements. We can use the tried and true (but also traditional) building blocks of networking to meet some of our macro-segmentation requirements. This works well since; technically, we are just using these performance hubs as lightning-fast vehicles to cloud. Complexity Segmentation OverloadAs complexity increases and requirements change, the problem statement changes as well. What if a specific workload needs to talk outside of an AWS VRF across cloud to a VRF that drives connectivity for a specific Azure VNet? Well, since these VRFs were scoped out on a per-cloud basis, we need to incorporate more segmentation to keep this traffic separated at a workload level. So, I can define traffic in prefix-lists. I can then use those prefix-lists to dictate policy in route-maps from which I can apply to cloud-specific VRFs. Then, the original way we might have segmented ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#physical-hardware-leads-the-way"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Physical Hardware Leads The WayIn building out CoLos, physical hardware is used to terminate connections, route traffic, and perform security functions. While services exist like Equinix Cloud Exchange Fabric, this merely enables you to provision multiple logical circuits on-top of a single physical port. You are still on the hook for terminating bare-metal connections and routing traffic. Layer 2 Across CloudsAs we start setting up our fast on-ramps to cloud, we must first setup the physical hardware to terminate each cloud’s variation of direct connection. For increased SLA and reliability, these are sold in pairs, so our physical hardware must be setup in an Active/Standby configuration. We will have a cross connect from Switch-A going to DirectConnect-A and a cross connect additionally from Switch-B to DirectConnect-B. This will be required for each Cloud provider. CoLo - Layer: 2 Layer 3 Across CloudsNow that we’re switching those frames, it’s time to route some packets. Aside from some nice enterprise-grade switches, we are probably going to need some nice shiny routers to see our reflection in. Although we could have simply terminated connections on the same device we are routing with, as we expand the hardware topology to NGFWs, the separate switches make sense. CoLo - Layer: 3 Layer 3, 4, and 7 Across CloudsThe Cisco Annual Internet Report makes the staggering prediction that by 2021, 85% of network traffic will be east-west. This creates a compelling case for putting time and effort into understanding what, how, and why specific traffic is communicating inside and across clouds. If I am an attacker, I want sensitive information. When organizations are migrating to the cloud, the raw data may not exist in the cloud, but network connectivity is required to the cloud to plan and orchestrate migrations. This opens the door for cross-cloud attacks in which a bad actor might piggyback on address-based controls and protocols that are missed by non-modernized toolkits or lack of visibility. The bad actor can then propagate malware across clouds, or to on-premises data centers. Regionally placing security gear in CoLos can help alleviate some of these concerns as you can force all of your traffic through Next-Gen appliances. When you start going multi-cloud however, your traffic flows, routing, and segmentation complexity begin to increase exponentially. CoLo - Layer: 3-7 SegmentationCloud Security should be similar to a very large, plain-looking, yet complex onion. This onion has several layers, and each layer you peel back has a unique but intentional function. In network security, macro-segmentation is a higher-level and less granular method in which we can group categories of things, traditionally geared towards north-south communication. As we get more granular, we leverage micro-segmentation. This expands the looking glass to encompass east-west traffic with the intent of providing seamless protection for workloads spanning data centers and multiple clouds. In getting started, we intend to keep this as simple as possible while still meeting security-focused requirements. We can use the tried and true (but also traditional) building blocks of networking to meet some of our macro-segmentation requirements. This works well since; technically, we are just using these performance hubs as lightning-fast vehicles to cloud. Complexity Segmentation OverloadAs complexity increases and requirements change, the problem statement changes as well. What if a specific workload needs to talk outside of an AWS VRF across cloud to a VRF that drives connectivity for a specific Azure VNet? Well, since these VRFs were scoped out on a per-cloud basis, we need to incorporate more segmentation to keep this traffic separated at a workload level. So, I can define traffic in prefix-lists. I can then use those prefix-lists to dictate policy in route-maps from which I can apply to cloud-specific VRFs. Then, the original way we might have segmented ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#layer-2-across-clouds"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Physical Hardware Leads The WayIn building out CoLos, physical hardware is used to terminate connections, route traffic, and perform security functions. While services exist like Equinix Cloud Exchange Fabric, this merely enables you to provision multiple logical circuits on-top of a single physical port. You are still on the hook for terminating bare-metal connections and routing traffic. Layer 2 Across CloudsAs we start setting up our fast on-ramps to cloud, we must first setup the physical hardware to terminate each cloud’s variation of direct connection. For increased SLA and reliability, these are sold in pairs, so our physical hardware must be setup in an Active/Standby configuration. We will have a cross connect from Switch-A going to DirectConnect-A and a cross connect additionally from Switch-B to DirectConnect-B. This will be required for each Cloud provider. CoLo - Layer: 2 Layer 3 Across CloudsNow that we’re switching those frames, it’s time to route some packets. Aside from some nice enterprise-grade switches, we are probably going to need some nice shiny routers to see our reflection in. Although we could have simply terminated connections on the same device we are routing with, as we expand the hardware topology to NGFWs, the separate switches make sense. CoLo - Layer: 3 Layer 3, 4, and 7 Across CloudsThe Cisco Annual Internet Report makes the staggering prediction that by 2021, 85% of network traffic will be east-west. This creates a compelling case for putting time and effort into understanding what, how, and why specific traffic is communicating inside and across clouds. If I am an attacker, I want sensitive information. When organizations are migrating to the cloud, the raw data may not exist in the cloud, but network connectivity is required to the cloud to plan and orchestrate migrations. This opens the door for cross-cloud attacks in which a bad actor might piggyback on address-based controls and protocols that are missed by non-modernized toolkits or lack of visibility. The bad actor can then propagate malware across clouds, or to on-premises data centers. Regionally placing security gear in CoLos can help alleviate some of these concerns as you can force all of your traffic through Next-Gen appliances. When you start going multi-cloud however, your traffic flows, routing, and segmentation complexity begin to increase exponentially. CoLo - Layer: 3-7 SegmentationCloud Security should be similar to a very large, plain-looking, yet complex onion. This onion has several layers, and each layer you peel back has a unique but intentional function. In network security, macro-segmentation is a higher-level and less granular method in which we can group categories of things, traditionally geared towards north-south communication. As we get more granular, we leverage micro-segmentation. This expands the looking glass to encompass east-west traffic with the intent of providing seamless protection for workloads spanning data centers and multiple clouds. In getting started, we intend to keep this as simple as possible while still meeting security-focused requirements. We can use the tried and true (but also traditional) building blocks of networking to meet some of our macro-segmentation requirements. This works well since; technically, we are just using these performance hubs as lightning-fast vehicles to cloud. Complexity Segmentation OverloadAs complexity increases and requirements change, the problem statement changes as well. What if a specific workload needs to talk outside of an AWS VRF across cloud to a VRF that drives connectivity for a specific Azure VNet? Well, since these VRFs were scoped out on a per-cloud basis, we need to incorporate more segmentation to keep this traffic separated at a workload level. So, I can define traffic in prefix-lists. I can then use those prefix-lists to dictate policy in route-maps from which I can apply to cloud-specific VRFs. Then, the original way we might have segmented ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#layer-3-across-clouds"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Physical Hardware Leads The WayIn building out CoLos, physical hardware is used to terminate connections, route traffic, and perform security functions. While services exist like Equinix Cloud Exchange Fabric, this merely enables you to provision multiple logical circuits on-top of a single physical port. You are still on the hook for terminating bare-metal connections and routing traffic. Layer 2 Across CloudsAs we start setting up our fast on-ramps to cloud, we must first setup the physical hardware to terminate each cloud’s variation of direct connection. For increased SLA and reliability, these are sold in pairs, so our physical hardware must be setup in an Active/Standby configuration. We will have a cross connect from Switch-A going to DirectConnect-A and a cross connect additionally from Switch-B to DirectConnect-B. This will be required for each Cloud provider. CoLo - Layer: 2 Layer 3 Across CloudsNow that we’re switching those frames, it’s time to route some packets. Aside from some nice enterprise-grade switches, we are probably going to need some nice shiny routers to see our reflection in. Although we could have simply terminated connections on the same device we are routing with, as we expand the hardware topology to NGFWs, the separate switches make sense. CoLo - Layer: 3 Layer 3, 4, and 7 Across CloudsThe Cisco Annual Internet Report makes the staggering prediction that by 2021, 85% of network traffic will be east-west. This creates a compelling case for putting time and effort into understanding what, how, and why specific traffic is communicating inside and across clouds. If I am an attacker, I want sensitive information. When organizations are migrating to the cloud, the raw data may not exist in the cloud, but network connectivity is required to the cloud to plan and orchestrate migrations. This opens the door for cross-cloud attacks in which a bad actor might piggyback on address-based controls and protocols that are missed by non-modernized toolkits or lack of visibility. The bad actor can then propagate malware across clouds, or to on-premises data centers. Regionally placing security gear in CoLos can help alleviate some of these concerns as you can force all of your traffic through Next-Gen appliances. When you start going multi-cloud however, your traffic flows, routing, and segmentation complexity begin to increase exponentially. CoLo - Layer: 3-7 SegmentationCloud Security should be similar to a very large, plain-looking, yet complex onion. This onion has several layers, and each layer you peel back has a unique but intentional function. In network security, macro-segmentation is a higher-level and less granular method in which we can group categories of things, traditionally geared towards north-south communication. As we get more granular, we leverage micro-segmentation. This expands the looking glass to encompass east-west traffic with the intent of providing seamless protection for workloads spanning data centers and multiple clouds. In getting started, we intend to keep this as simple as possible while still meeting security-focused requirements. We can use the tried and true (but also traditional) building blocks of networking to meet some of our macro-segmentation requirements. This works well since; technically, we are just using these performance hubs as lightning-fast vehicles to cloud. Complexity Segmentation OverloadAs complexity increases and requirements change, the problem statement changes as well. What if a specific workload needs to talk outside of an AWS VRF across cloud to a VRF that drives connectivity for a specific Azure VNet? Well, since these VRFs were scoped out on a per-cloud basis, we need to incorporate more segmentation to keep this traffic separated at a workload level. So, I can define traffic in prefix-lists. I can then use those prefix-lists to dictate policy in route-maps from which I can apply to cloud-specific VRFs. Then, the original way we might have segmented ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#layer-3-4-and-7-across-clouds"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Physical Hardware Leads The WayIn building out CoLos, physical hardware is used to terminate connections, route traffic, and perform security functions. While services exist like Equinix Cloud Exchange Fabric, this merely enables you to provision multiple logical circuits on-top of a single physical port. You are still on the hook for terminating bare-metal connections and routing traffic. Layer 2 Across CloudsAs we start setting up our fast on-ramps to cloud, we must first setup the physical hardware to terminate each cloud’s variation of direct connection. For increased SLA and reliability, these are sold in pairs, so our physical hardware must be setup in an Active/Standby configuration. We will have a cross connect from Switch-A going to DirectConnect-A and a cross connect additionally from Switch-B to DirectConnect-B. This will be required for each Cloud provider. CoLo - Layer: 2 Layer 3 Across CloudsNow that we’re switching those frames, it’s time to route some packets. Aside from some nice enterprise-grade switches, we are probably going to need some nice shiny routers to see our reflection in. Although we could have simply terminated connections on the same device we are routing with, as we expand the hardware topology to NGFWs, the separate switches make sense. CoLo - Layer: 3 Layer 3, 4, and 7 Across CloudsThe Cisco Annual Internet Report makes the staggering prediction that by 2021, 85% of network traffic will be east-west. This creates a compelling case for putting time and effort into understanding what, how, and why specific traffic is communicating inside and across clouds. If I am an attacker, I want sensitive information. When organizations are migrating to the cloud, the raw data may not exist in the cloud, but network connectivity is required to the cloud to plan and orchestrate migrations. This opens the door for cross-cloud attacks in which a bad actor might piggyback on address-based controls and protocols that are missed by non-modernized toolkits or lack of visibility. The bad actor can then propagate malware across clouds, or to on-premises data centers. Regionally placing security gear in CoLos can help alleviate some of these concerns as you can force all of your traffic through Next-Gen appliances. When you start going multi-cloud however, your traffic flows, routing, and segmentation complexity begin to increase exponentially. CoLo - Layer: 3-7 SegmentationCloud Security should be similar to a very large, plain-looking, yet complex onion. This onion has several layers, and each layer you peel back has a unique but intentional function. In network security, macro-segmentation is a higher-level and less granular method in which we can group categories of things, traditionally geared towards north-south communication. As we get more granular, we leverage micro-segmentation. This expands the looking glass to encompass east-west traffic with the intent of providing seamless protection for workloads spanning data centers and multiple clouds. In getting started, we intend to keep this as simple as possible while still meeting security-focused requirements. We can use the tried and true (but also traditional) building blocks of networking to meet some of our macro-segmentation requirements. This works well since; technically, we are just using these performance hubs as lightning-fast vehicles to cloud. Complexity Segmentation OverloadAs complexity increases and requirements change, the problem statement changes as well. What if a specific workload needs to talk outside of an AWS VRF across cloud to a VRF that drives connectivity for a specific Azure VNet? Well, since these VRFs were scoped out on a per-cloud basis, we need to incorporate more segmentation to keep this traffic separated at a workload level. So, I can define traffic in prefix-lists. I can then use those prefix-lists to dictate policy in route-maps from which I can apply to cloud-specific VRFs. Then, the original way we might have segmented ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#segmentation"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Physical Hardware Leads The WayIn building out CoLos, physical hardware is used to terminate connections, route traffic, and perform security functions. While services exist like Equinix Cloud Exchange Fabric, this merely enables you to provision multiple logical circuits on-top of a single physical port. You are still on the hook for terminating bare-metal connections and routing traffic. Layer 2 Across CloudsAs we start setting up our fast on-ramps to cloud, we must first setup the physical hardware to terminate each cloud’s variation of direct connection. For increased SLA and reliability, these are sold in pairs, so our physical hardware must be setup in an Active/Standby configuration. We will have a cross connect from Switch-A going to DirectConnect-A and a cross connect additionally from Switch-B to DirectConnect-B. This will be required for each Cloud provider. CoLo - Layer: 2 Layer 3 Across CloudsNow that we’re switching those frames, it’s time to route some packets. Aside from some nice enterprise-grade switches, we are probably going to need some nice shiny routers to see our reflection in. Although we could have simply terminated connections on the same device we are routing with, as we expand the hardware topology to NGFWs, the separate switches make sense. CoLo - Layer: 3 Layer 3, 4, and 7 Across CloudsThe Cisco Annual Internet Report makes the staggering prediction that by 2021, 85% of network traffic will be east-west. This creates a compelling case for putting time and effort into understanding what, how, and why specific traffic is communicating inside and across clouds. If I am an attacker, I want sensitive information. When organizations are migrating to the cloud, the raw data may not exist in the cloud, but network connectivity is required to the cloud to plan and orchestrate migrations. This opens the door for cross-cloud attacks in which a bad actor might piggyback on address-based controls and protocols that are missed by non-modernized toolkits or lack of visibility. The bad actor can then propagate malware across clouds, or to on-premises data centers. Regionally placing security gear in CoLos can help alleviate some of these concerns as you can force all of your traffic through Next-Gen appliances. When you start going multi-cloud however, your traffic flows, routing, and segmentation complexity begin to increase exponentially. CoLo - Layer: 3-7 SegmentationCloud Security should be similar to a very large, plain-looking, yet complex onion. This onion has several layers, and each layer you peel back has a unique but intentional function. In network security, macro-segmentation is a higher-level and less granular method in which we can group categories of things, traditionally geared towards north-south communication. As we get more granular, we leverage micro-segmentation. This expands the looking glass to encompass east-west traffic with the intent of providing seamless protection for workloads spanning data centers and multiple clouds. In getting started, we intend to keep this as simple as possible while still meeting security-focused requirements. We can use the tried and true (but also traditional) building blocks of networking to meet some of our macro-segmentation requirements. This works well since; technically, we are just using these performance hubs as lightning-fast vehicles to cloud. Complexity Segmentation OverloadAs complexity increases and requirements change, the problem statement changes as well. What if a specific workload needs to talk outside of an AWS VRF across cloud to a VRF that drives connectivity for a specific Azure VNet? Well, since these VRFs were scoped out on a per-cloud basis, we need to incorporate more segmentation to keep this traffic separated at a workload level. So, I can define traffic in prefix-lists. I can then use those prefix-lists to dictate policy in route-maps from which I can apply to cloud-specific VRFs. Then, the original way we might have segmented ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:4:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#segmentation-overload"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Alkira - CSXAlkira has coined their platform Cloud Services Exchange (CSX). The sales pitch: Provision a global, fully routed multi-cloud network with integrated network services, visibility, and governance in minutes. All delivered as-a-service. Inside CSX, their unified platform enables the customer to manage products and services. As new features are released over time, they will become available via the CSX for consumption. Alkira ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:5:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#alkira---csx"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Cloud Exchange Points (CXPs)If CSX is the unified platform, then Cloud Exchange Points (CXPs) are the interconnected brain. You can think of CXPs as globally distributed multi-cloud points of presence, which provide a full routing stack and network services. They provide elastic and highly available regional entry points for all the things you want to connect. CXPs ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:5:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#cloud-exchange-points-cxps"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Tackling Segmentation With AlkiraAlkira takes a unique approach to network segmentation. To bridge the gap for segmentation inside the cloud and out, they pull in VPC and VNet policy from a given cloud provider into their platform. Not having to install and manage additional appliances in each cloud provider is a major plus. Creating segments is painless. In addition to segments, you can define logical groups of things in which you build policy against. The sweet spot here is, all of those segments, groups, and policies can be used across all of your clouds, remotes, data centers, or any other network you choose to connect through their platform. The experience with creating and applying these policies is unlike any other. You click and drag your pieces into place as you build your intended design. When doing this, my mind automatically began thinking, “Wow, this click and drag was a few days worth of planning and change windows”. Once you get all of your desired policy in place, no changes are executed until you click their Provision button. Segments ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:5:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#tackling-segmentation-with-alkira"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Services MarketplaceWhat good is a cloud offering without the ability to inject 3rd party services? The three giants AWS, Azure, and GCP all have their own flavor of a marketplace. I would assume since Alkira is primarily focused on reinventing the network, that their focus on a marketplace would be based in network based appliances and services. As of today, the marketplace is limited to adding firewalls from Palo Alto. ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:6:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#services-marketplace"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Palo Alto VM-Series FirewallsJust like segments and groups, a Palo Alto Firewall can be setup and used across all of your clouds and sites. These can be deployed to your existing instance of Panorama, and configured to auto-scale as load increases. This really beats managing individual scale-sets in each cloud provider. Firewalls ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:6:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#palo-alto-vm-series-firewalls"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" The Server Admin EvolvesIn the pre-cloud era, the server admin stayed pretty busy. Not just with solving problems directly tied to the business, but with mundane tasks that held up other teams from executing work. ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:7:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#the-server-admin-evolves"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Server Admin Pre-CloudRacking a server isn’t as easy as just racking a server. This may sound like a quick and trivial task, but gets complicated relatively quickly depending on an environment. Some of my longest nights have been spent either installing, upgrading, or troubleshooting hardware inside data centers. Maybe it is a pod-based solution? Is compute, network, virtualization, and storage all baked into the same rack? Now we are going beyond the simple racking of a server to understanding some of the upstream networking components in order to ensure proper failover in outage scenarios. Once the Layer 1 stuff is done, we have to install and configure a hypervisor. Setting up Out-of-Band Management is also a must (more networking stuff, I know). If something breaks, you have to have an alternate method of troubleshooting beyond driving into the data center and rolling over the crash-cart. Not to mention - in smaller to medium-sized shops, these same individuals are probably solely responsible for OS lifecycle management too. Let’s not forget installing, patching, and troubleshooting VMs? All of this overhead, and we haven’t even got to the application or load balancer yet. Admin Pre-Cloud ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:7:1","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#server-admin-pre-cloud"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Server Admin Post-CloudIn the 1930s, an industrial engineer - Allen F. Morgenstern coined the phrase Work smarter, not harder. This phrase is the first thing that comes to my mind when thinking of today’s Server Admin. Once you remove a lot of the busy work, the cycles are then focused on design, efficiency, automation, and outcomes. Hypothetical Server Build - Today Changes are committed to source control Azure DevOps builds and packages application Release artifact is produced with associated trigger Trigger envokes Packer to build a Linux Image Ansible installs middleware + application Infrastructure is provisioned with Terraform Admin Post-Cloud ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:7:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#server-admin-post-cloud"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" Server Admin Post-CloudIn the 1930s, an industrial engineer - Allen F. Morgenstern coined the phrase Work smarter, not harder. This phrase is the first thing that comes to my mind when thinking of today’s Server Admin. Once you remove a lot of the busy work, the cycles are then focused on design, efficiency, automation, and outcomes. Hypothetical Server Build - Today Changes are committed to source control Azure DevOps builds and packages application Release artifact is produced with associated trigger Trigger envokes Packer to build a Linux Image Ansible installs middleware + application Infrastructure is provisioned with Terraform Admin Post-Cloud ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:7:2","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#hypothetical-server-build---today"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" What About Networking?With the technology, automation, and abstraction available to us today, can’t we solve some of the painful network problems like cloud did for compute? Depending on the industry, institutional knowledge, and available talent, it behooves oneself to make a design only as complicated as requirements mandate. When inserting state into a network - (think NAT or stateful firewalls), enforcing traffic symmetry at that point in the network is critical. In multi-cloud, this usually means complicated hop-by-hop configuration + Policy Based Routing (PBR) to steer traffic. In 2020, in the era of Cloud, it doesn’t feel like this is where network engineering cycles should be placed. Network engineers should be more focused and intune with intent and driving outcomes for the business. I think this is where Alkira aims to take networking. Abstracting some of the larger pain points away while still enabling the network team’s ability to leverage all the nerd knobs (maintaining control and visibility). For instance, say the business requires AWS-Prod communication to GCP-Prod. Or maybe Product-A in Azure needs limited communication with Product-B in GCP. This type of policy is easily definable in Alkira. Your intent is described, and their platform handles the rest. No complicated policy based routing, traffic steering through a NGFW, or HA + autoscale per cloud. ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:7:3","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#what-about-networking"},{"categories":["cloud","cloud security","hybrid cloud","multi cloud"],"content":" ConclusionAlkira provides a flexible, adaptable, innovative, and fresh spin on how the network can be used as a utility. A solution which leverages additional abstractions that ultimately lead to a reduction in time-to-value while accelerating speed-to-market. The landscape is changing faster than ever before. The need for hardware is rapidly decreasing, and it no longer makes sense to back-haul anything back to data centers. User experience is rightfully taking center stage. Having the ability to deliver unified network and security services, remain location agnostic, and provide low-latency from the cloud edge is a bare minimum for the future. Getting this right has a lot of challenges. Any solution that doesn’t integrate seamlessly into public cloud, or where application delivery happens, will further impede network and security professionals with design and operational setbacks. Alkira seems to have found the sweet spot to achieve outcomes in this space ","date":"19 August 2020","objectID":"/posts/2020/alkira-multicloud-networking/:8:0","series":null,"tags":["alkira","csx","cxp","aws","azure","gcp","iaas","paas","saas"],"title":"Multi-Cloud Networking With Alkira","uri":"/posts/2020/alkira-multicloud-networking/#conclusion"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":"A lot of the work I do professionally involves transforming traditional network culture, practices, and technology. Just as DevOps transformed application delivery, NetDevOps is here to make sure the network can keep up. This post will cover how I deploy this blog with Hugo to GitHub Pages using GitHub Actions to completely automate the workflow. This is very similar to how I approached modernizing network documentation for my current employer. Listen to Day Two Cloud Podcast as I talk through this transformation in more detail. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:0:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Why Docs-as-Code?Docs-as-Code refers to the philosophy that you should be writing documentation with the same tools as code. It is also an easy and non-intrusive way to get traditional engineers started using tools like git which have practical use cases far beyond documentation. Some of the benefits include: Version Control (Git) Incorporating Automation (CICD) Ensure Docs evolve with code (Linked work items) Adopt DevOps practices in network engineering (Priceless) ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:1:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#why-docs-as-code"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Static Site GenerationStatic sites are making a comeback! In today’s world, speed and security are kind of a big deal. The more complex something is, the more difficult it is to secure. Static site generators are becoming popular as they bridge the gap between static sites of old, and dynamic sites of today. Benefits of static webpages include: Cost (Fast delivery, low up front cost) Simplicity (Hosting, scaling, and automation) Speed (No backend database calls or dynamic content generation) Security (Less exposure to the internet) A request can only be made for files that contain HTML, CSS, JavaScript, Images, Audio, or Video. Since there is no database to breach and no server-side platform or CMS, the threat vector doesn’t exist to maliciously control an application or exploit a database. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:2:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#static-site-generation"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Hugo - Static Site Generator About GitHub Hugo is written in GoLang and claims to be the world’s fastest framework for building websites. At \u003c1 ms per page, the average site builds in less than a second. It doesn’t take many cycles to get acclimated with writing in Markdown, and Hugo’s Shortcodes help you extend functionality to new heights. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:3:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#hugo---static-site-generator"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" GitHub - Source + Build + Release About GitHub Since everyone knows what GitHub is and are probably already experts at using git, this doesn’t require much explanation. If you are not an expert, then have a look here to educate yourself. You may not know as much about GitHub Pages and GitHub Actions. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:4:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#github---source--build--release"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" GitHub PagesGitHub Pages allows you to host a webpage directly from your GitHub repository. This is a great way to showcase your blog, portfolio, project, documentation, or anything else you are interested in sharing with the world. With no databases to setup and no servers to build, you can focus more on content and less on management. All your host provider has to do is serve static assets. Since they don’t need to support a specific programming language or framework, this makes it simple to host, manage, and even migrate to another hosting provider. Professionally, I am using Pivotal Cloud Foundry on Azure to host a NetDevOps DocSite. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:4:1","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#github-pages"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" GitHub Actions About Actions GitHub Actions enable you to automate your workflow. I have been using Azure Pipelines quite a bit recently for continuous integration and continuous delivery (CI/CD) . With the exception of a few things, GitHub Actions worked in a very similar way and is a breeze to setup. I would imagine GitHub Actions will be leveraged largely by the open source community as GitHub is geared for open source projects. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:4:2","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#github-actions"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Putting it TogetherThere are a few different ways you can deploy a static site using Hugo on GitHub Pages. I like the idea of keeping my source code in a dedicated repository and generating the contents of the site to an external repository. For me, this seems much cleaner than building the content inside the same repository and lends itself more to to a logical branching strategy. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#putting-it-together"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Setup Repositories User/Org or Project repo setup - Instructions here Hugo source repo setup (This repo can be private, and the naming convention doesn’t matter) Hugo site committed to source repo (To develop or other integration branch) ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:1","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#setup-repositories"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Generate SSH KeysTo enable the ability to push from source to destination repo, we need to generate SSH keys. # Private key added as a secret in Hugo source repo # Public key added as deploy key in GitHub Pages repo ssh-keygen -t rsa -C \"hugo_deploy\" -b 4096 -f ~/.ssh/hugo_deploy ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:2","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#generate-ssh-keys"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Add Source Repo - SecretNavigate to settings on the source repo and create a new secret with the name ACTIONS_DEPLOY_KEY. Use your private key contents as the Value for the secret. Source Repo ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:3","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#add-source-repo---secret"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Add Destination Repo - Deploy KeyOn the GitHub Pages repo, we need to create a Deploy Key. The naming convention doesn’t matter, but should be descriptive like - Deploy Key Pub. Use the public key contents as the Key. Destination Repo ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:4","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#add-destination-repo---deploy-key"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Workflow OverviewSince I am the only one contributing to this blog, the branching is pretty simple. I create a branch for a given post and merge back with develop (integration) branch. Once I am ready to release a new post, I create a pull request and merge back with master. The workflow looks something like this: Blog Workflow ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:5","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#workflow-overview"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" Workflow FileAdd .github/workflows/deploy_hugo_site.yml to the Hugo source repo. Substitute username/destination-repo with the appropriate GitHub Pages / Destination repo. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:6","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#workflow-file"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" ValidationOnce the code is committed and the workflow gets triggered, you can track the progress under Actions in the hugo source repo. The first time a site is deployed to GitHub Pages, you will have to wait a few minutes for it to be reachable. Subsequent releases should update within a few seconds. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:5:7","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#validation"},{"categories":["automation","blog","documentation","netdevops","tools"],"content":" ConclusionIf you want to check out some popular alternatives to Hugo, check out Jekyll and Gatsby. In integrating these types of tools into a technical workflow, you are not force-fitting writer-centric tools onto engineers but rather fitting the documentation into developer-centric tooling. ","date":"21 June 2020","objectID":"/posts/2020/automate-blog-deployment/:6:0","series":null,"tags":["cicd","git","github actions","github pages","hugo"],"title":"Automating Blog Releases: Hugo + GitHub Actions","uri":"/posts/2020/automate-blog-deployment/#conclusion"},{"categories":["automation","lab","netdevops","tools"],"content":" Ansible Tower VS AWXThe best way to learn is by constructing your own knowledge, not passively absorbing information. A lot of great projects are open source these days, including The AWX Project. At zero cost, you can build your automation skill set, increasing your chances at landing that next big promotion. This post will cover how to setup Ansible AWX on Debian. I use a combination of Ansible and Terraform in the NetDevOps toolchain. These tools play a huge role in keeping my knowledge relevant as Tech progresses. Tower VS AWX ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:1:0","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#ansible-tower-vs-awx"},{"categories":["automation","lab","netdevops","tools"],"content":" What is AWX?So, maybe you have heard of this Linux Distro called Fedora. This is the fast moving upstream project for Red Hat Enterprise Linux (RHEL). Red Hat also funds CentOS which is essentially a clone of RHEL minus all Red Hat branding. This is kind of how AWX works upstream for the official Ansible Tower product. Red Hat also announced CentOS Stream which sits between bleeding edge Fedora, and rock solid RHEL. Sitting somewhere in the middle, this would allow developers an easier path for getting their packages in RHEL. ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:1:1","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#what-is-awx"},{"categories":["automation","lab","netdevops","tools"],"content":" How does it differ from Ansible Tower?The AWX Project Fast iterating with frequent releases No paid enterprise support available Direct in-place upgrades are not supported Not recommended for use in Production Licensed under Apache 2.0 AWX is a fantastic tool for the lab, testing, and demos. If you want to dip a toe into the Ansible Tower world without forking over the cash, look no further. Ansible Tower Commercial derivative of AWX Longer release cycle aimed at long-term supportability Fully supported and license based solution In-place upgrade to latest version (from up to two major releases behind) Recommended for use in Production Ansible Tower is the reliable solution you want for the enterprise. Deployment may differ since you will likely make use of scale-out clustering for added redundancy and capacity. ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:1:2","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#how-does-it-differ-from-ansible-tower"},{"categories":["automation","lab","netdevops","tools"],"content":" Deployment OptionsAWX runs as a containerized application using Docker images deployed to either OpenShift, Kubernetes, or Docker Engine. ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:2:0","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#deployment-options"},{"categories":["automation","lab","netdevops","tools"],"content":" Standalone Deployment with Debian + DockerIn the spirit of keeping this simple, I use Docker running on Debian Linux in the lab. I also run everything on virtual machines as snapshots are a beautiful thing. Any hypervisor should work - VMware Workstation, Oracle VirtualBox, ESXi, or even KVM. For this setup, I’ll be using VMware Workstation. AWX Design ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:2:1","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#standalone-deployment-with-debian--docker"},{"categories":["automation","lab","netdevops","tools"],"content":" Why Debian?My love for Linux started back in the 90s with Slackware. At some point or another, I tested out Debian and my wish for the perfect operating system was granted. For me it strikes the right balance between ease of use, stability, and airy minimalism. Using the Debian netinstall, you only install what you need. I have AWX running smoothly with: Processor: 1 Memory: 2 GB Hard Disk: 12 GB ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:2:2","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#why-debian"},{"categories":["automation","lab","netdevops","tools"],"content":" PrerequisitesThe official prerequisites for AWX can be found here. I’ll be using Debian 10 - Buster however any release \u003e= 10 will work. At this point, Debian should be installed, running, and reachable. If running in a virtual machine, a snapshot should be taken now. In the event anything goes wrong, this is an easy way to revert back to our beginning state. ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:2:3","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#prerequisites"},{"categories":["automation","lab","netdevops","tools"],"content":" Getting Started Disclaimer: Downloading and executing scripts from the internet may potentially harm your machine. Make sure to review the source code before execution so that you have a good understanding of what is going to happen. ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:3:0","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#getting-started"},{"categories":["automation","lab","netdevops","tools"],"content":" The Installer ScriptThe installer is pretty basic. It will make sure we are up to date, install some dependencies, clone the projects, set a few parameters, and start the install. awx_install.sh ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:3:1","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#the-installer-script"},{"categories":["automation","lab","netdevops","tools"],"content":" Running The Installer # Go home! cd ~/ # Install cURL sudo apt-get install -y curl # Run the installer curl -sSL https://gist.githubusercontent.com/wcollins/caca9aa1c416d05379ab3638804e3dd6/raw/479e5e8d6d0f5a93db9f3ee0a6cd46d8ef310e6e/awx_install.sh | bash Depending on host machine horsepower, this may take a few minutes. You should see progress as the installer deploys the containers. Start Containers ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:3:2","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#running-the-installer"},{"categories":["automation","lab","netdevops","tools"],"content":" Validation + LoginIf using VMware Workstation with network adapter type: NAT, you can see what IP Address it gave you with /sbin/ifconfig. You should then be able to reach this IP from your host machine. On the permanent instance I have up and running in the lab, I’m using GitHub Actions to build and release after each AWX software release. I use Linux KVM as a Type-1 hypervisor with a static IP of my choice assigned. Launch AWX We should now be able to login with default credentials for AWX. There are many best practice considerations we would work through for handling authentication in a production environment but for the lab, we just want to roll up our sleeves and dive in, right? AWX Login ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:3:3","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#validation--login"},{"categories":["automation","lab","netdevops","tools"],"content":" ConclusionDon’t wait to get started with automation. If you wait, you may miss out on a great opportunity. With so much open source software available, there is no upfront cost other than a laptop powerful enough to run a few virtual machines. In the land of network engineering, getting your feet wet with public cloud and automation can help you make that next big step in your career. There is currently a high-demand with low-supply for these skills in the network engineering space. ","date":"28 May 2020","objectID":"/posts/2020/setup-awx-on-debian/:4:0","series":null,"tags":["ansible","awx","debian","docker","linux"],"title":"Setting Up Ansible (AWX) On Debian","uri":"/posts/2020/setup-awx-on-debian/#conclusion"},{"categories":null,"content":"About me","date":"1 January 0001","objectID":"/about/","series":null,"tags":null,"title":"About Me","uri":"/about/"},{"categories":null,"content":"William Collins is a strategic thinker and catalyst for innovation. Over his career, he has helped enterprises build large-scale networks, driven modernization through cloud adoption, and excels at optimizing complex environments through good design practices and automation. Today, William works as a Principal Cloud Architect for Alkira, where he focuses on evangelizing Alkira, fostering strong relationships with customers to fully realize their goals, and thought leadership surrounding the future of network, security, and automation in the cloud. As a content creator, William hosts The Cloud Gambit Podcast, where he unravels the state of cloud computing, markets, strategy, and emerging trends with industry experts. He is also a LinkedIn Learning Instructor, specializing in automation, cloud computing, and network engineering. Prior to Alkira, William held various senior technical roles across the enterprise space in Financial Services and Healthcare, most recently at Humana as Director of Cloud Architecture. Outside of tech, his time is spent with family, woodworking, ice hockey, and guitar. Opinions expressed here are solely his own and do not express the views or opinions of his employer. ","date":"1 January 0001","objectID":"/about/:0:0","series":null,"tags":null,"title":"About Me","uri":"/about/#"}]