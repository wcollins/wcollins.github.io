<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Setting Up Ansible (AWX) On Debian - </title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<meta name=author content="William Collins"><meta name=description content="The best way to learn is by constructing your own knowledge, not passively absorbing information. A lot of great projects are open source these days, including The AWX Project. At zero cost, you can build your automation skill set, increasing your chances at landing that next big promotion.
This post will cover how to setup Ansible AWX on Debian. I use a combination of Ansible and Terraform in the NetDevOps toolchain.">
<meta name=google-site-verification content="FSCEdJZD7nAoKk16ak20hRMKNBvXlnHAU0PBBDZy5DU">
<meta name=generator content="Hugo 0.87.0 with theme even">
<link rel=canonical href=http://wcollins.io/post/2020/setup-awx-on-debian/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<link href=/sass/main.min.8c3cbcb0324c2bb4875ceccba4007cbad4b4ac8377f33af9953c3e7684534a50.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content="Setting Up Ansible (AWX) On Debian">
<meta property="og:description" content="The best way to learn is by constructing your own knowledge, not passively absorbing information. A lot of great projects are open source these days, including The AWX Project. At zero cost, you can build your automation skill set, increasing your chances at landing that next big promotion.
This post will cover how to setup Ansible AWX on Debian. I use a combination of Ansible and Terraform in the NetDevOps toolchain.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://wcollins.io/post/2020/setup-awx-on-debian/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2020-05-28T12:29:55-04:00">
<meta property="article:modified_time" content="2020-05-28T12:29:55-04:00">
<meta itemprop=name content="Setting Up Ansible (AWX) On Debian">
<meta itemprop=description content="The best way to learn is by constructing your own knowledge, not passively absorbing information. A lot of great projects are open source these days, including The AWX Project. At zero cost, you can build your automation skill set, increasing your chances at landing that next big promotion.
This post will cover how to setup Ansible AWX on Debian. I use a combination of Ansible and Terraform in the NetDevOps toolchain."><meta itemprop=datePublished content="2020-05-28T12:29:55-04:00">
<meta itemprop=dateModified content="2020-05-28T12:29:55-04:00">
<meta itemprop=wordCount content="853">
<meta itemprop=keywords content="ansible,awx,debian,docker,linux,"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Setting Up Ansible (AWX) On Debian">
<meta name=twitter:description content="The best way to learn is by constructing your own knowledge, not passively absorbing information. A lot of great projects are open source these days, including The AWX Project. At zero cost, you can build your automation skill set, increasing your chances at landing that next big promotion.
This post will cover how to setup Ansible AWX on Debian. I use a combination of Ansible and Terraform in the NetDevOps toolchain."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo></a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/about/>
<li class=mobile-menu-item>About</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo></a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/about/>About</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<article class=post>
<header class=post-header>
<h1 class=post-title>Setting Up Ansible (AWX) On Debian</h1>
<div class=post-meta>
<span class=post-time> May 28, 2020 </span>
<div class=post-category>
<a href=/categories/automation/> automation </a>
<a href=/categories/lab/> lab </a>
<a href=/categories/netdevops/> netdevops </a>
<a href=/categories/tools/> tools </a>
</div>
</div>
</header>
<div class=post-toc id=post-toc>
<h2 class=post-toc-title>Contents</h2>
<div class=post-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#ansible-tower-vs-awx>Ansible Tower VS AWX</a>
<ul>
<li><a href=#what-is-awx>What is AWX?</a></li>
<li><a href=#how-does-it-differ-from-ansible-tower>How does it differ from Ansible Tower?</a></li>
</ul>
</li>
<li><a href=#deployment-options>Deployment Options</a>
<ul>
<li><a href=#standalone-deployment-with-debian--docker>Standalone Deployment with Debian + Docker</a></li>
<li><a href=#why-debian>Why Debian?</a></li>
<li><a href=#prerequisites>Prerequisites</a></li>
</ul>
</li>
<li><a href=#getting-started>Getting Started</a>
<ul>
<li><a href=#the-installer-script>The Installer Script</a></li>
<li><a href=#running-the-installer>Running The Installer</a></li>
<li><a href=#validation--login>Validation + Login</a></li>
</ul>
</li>
<li><a href=#conclusion>Conclusion</a></li>
</ul>
</nav>
</div>
</div>
<div class=post-content>
<p>The best way to learn is by constructing your own knowledge, not passively absorbing information. A lot of great projects are open source these days, including <a href=https://www.ansible.com/products/awx-project>The AWX Project</a>. At zero cost, you can build your automation skill set, increasing your chances at landing that next big promotion.</p>
<p>This post will cover how to setup <em>Ansible AWX</em> on <a href=https://www.debian.org/intro/about>Debian</a>. I use a combination of <a href=https://ansible.com>Ansible</a> and <a href=https://terraform.io>Terraform</a> in the <em>NetDevOps</em> toolchain. These tools play a huge role in keeping my knowledge relevant as <em>Tech</em> progresses.</p>
<h2 id=ansible-tower-vs-awx>Ansible Tower VS AWX</h2>
<p><img src=/images/02-setup-awx-on-debian/tower-vs-awx.png alt="Tower VS AWX"></p>
<h3 id=what-is-awx>What is AWX?</h3>
<p>So, maybe you have heard of this <em>Linux Distro</em> called <a href=https://getfedora.org>Fedora</a>. This is the fast moving upstream project for <a href=https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux>Red Hat Enterprise Linux (RHEL)</a>. Red Hat also funds <a href=https://centos.org>CentOS</a> which is essentially a clone of <em>RHEL</em> minus all Red Hat branding. This is kind of how <em>AWX</em> works upstream for the official <a href=https://www.ansible.com/products/tower>Ansible Tower</a> product.</p>
<blockquote>
<p>Red Hat also announced <a href=https://centos.org/stream>CentOS Stream</a> which sits between bleeding edge <em>Fedora</em>, and rock solid <em>RHEL</em>. Sitting somewhere in the middle, this would allow developers an easier path for getting their packages in <em>RHEL</em>.</p>
</blockquote>
<h3 id=how-does-it-differ-from-ansible-tower>How does it differ from Ansible Tower?</h3>
<p><strong>The AWX Project</strong></p>
<ul>
<li>Fast iterating with frequent releases</li>
<li>No paid enterprise support available</li>
<li>Direct in-place upgrades are not supported</li>
<li>Not recommended for use in <em>Production</em></li>
<li>Licensed under <a href=https://www.apache.org/licenses/LICENSE-2.0>Apache 2.0</a></li>
</ul>
<blockquote>
<p><em>AWX</em> is a fantastic tool for the lab, testing, and demos. If you want to dip a toe into the <em>Ansible Tower</em> world without forking over the cash, look no further.</p>
</blockquote>
<p><strong>Ansible Tower</strong></p>
<ul>
<li>Commercial derivative of <em>AWX</em></li>
<li>Longer release cycle aimed at long-term supportability</li>
<li>Fully supported and license based solution</li>
<li>In-place upgrade to latest version (from up to two major releases behind)</li>
<li>Recommended for use in <em>Production</em></li>
</ul>
<blockquote>
<p>Ansible Tower is the reliable solution you want for the <em>enterprise</em>. Deployment may differ since you will likely make use of <em>scale-out clustering</em> for added redundancy and capacity.</p>
</blockquote>
<h2 id=deployment-options>Deployment Options</h2>
<p><em>AWX</em> runs as a containerized application using <em>Docker</em> images deployed to either <a href=https://github.com/ansible/awx/blob/devel/INSTALL.md#openshift>OpenShift</a>, <a href=https://github.com/ansible/awx/blob/devel/INSTALL.md#kubernetes>Kubernetes</a>, or <a href=https://github.com/ansible/awx/blob/devel/INSTALL.md#docker-compose>Docker Engine</a>.</p>
<h3 id=standalone-deployment-with-debian--docker>Standalone Deployment with Debian + Docker</h3>
<p>In the spirit of keeping this simple, I use <em>Docker</em> running on <a href=https://www.debian.org/intro/about>Debian Linux</a> in the lab. I also run everything on virtual machines as <em>snapshots</em> are a beautiful thing. Any <em>hypervisor</em> should work - <a href=https://www.vmware.com/products/workstation-pro.html>VMware Workstation</a>, <a href=https://www.virtualbox.org/>Oracle VirtualBox</a>, <a href=https://www.vmware.com/products/esxi-and-esx.html>ESXi</a>, or even <a href=https://www.linux-kvm.org/page/Main_Page>KVM</a>. For this setup, I&rsquo;ll be using <em>VMware Workstation</em>.</p>
<p><img src=/images/02-setup-awx-on-debian/awx-design.png alt="AWX Design"></p>
<h3 id=why-debian>Why Debian?</h3>
<p>My love for Linux started back in the <em>90s</em> with <a href=http://www.slackware.com/>Slackware.</a> At some point or another, I tested out <a href=https://www.debian.org/>Debian</a> and my wish for the perfect operating system was granted. For me it strikes the right balance between ease of use, stability, and airy minimalism. Using the <a href=https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-10.4.0-amd64-netinst.iso>Debian netinstall</a>, you only install what you need. I have <em>AWX</em> running smoothly with:</p>
<ul>
<li>Processor: 1</li>
<li>Memory: 2 GB</li>
<li>Hard Disk: 12 GB</li>
</ul>
<h3 id=prerequisites>Prerequisites</h3>
<p>The official <em>prerequisites</em> for <em>AWX</em> can be found <a href=https://github.com/ansible/awx/blob/devel/INSTALL.md#prerequisites>here.</a> I&rsquo;ll be using <a href=https://wiki.debian.org/DebianBuster>Debian 10 - Buster</a> however any release <strong><em>>=</em></strong> 10 will work. At this point, <em>Debian</em> should be installed, running, and reachable.</p>
<p>If running in a <em>virtual machine</em>, a snapshot should be taken <em>now</em>. In the event anything goes wrong, this is an easy way to revert back to our beginning state.</p>
<h2 id=getting-started>Getting Started</h2>
<blockquote>
<p><strong><em>Disclaimer</em></strong>: Downloading and executing scripts from the internet may potentially harm your machine. Make sure to review the source code before execution so that you have a good understanding of what is going to happen.</p>
</blockquote>
<h3 id=the-installer-script>The Installer Script</h3>
<p>The installer is pretty basic. It will make sure we are up to date, install some dependencies, clone the projects, set a few parameters, and start the install.</p>
<p><strong><em>awx_install.sh</em></strong>
<script type=application/javascript src=https://gist.github.com/wcollins/caca9aa1c416d05379ab3638804e3dd6.js></script>
</p>
<h3 id=running-the-installer>Running The Installer</h3>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=c1># Go home!</span>
<span class=nb>cd</span> ~/

<span class=c1># Install cURL</span>
sudo apt-get install -y curl

<span class=c1># Run the installer</span>
curl -sSL https://gist.githubusercontent.com/wcollins/caca9aa1c416d05379ab3638804e3dd6/raw/479e5e8d6d0f5a93db9f3ee0a6cd46d8ef310e6e/awx_install.sh <span class=p>|</span> bash</code></pre></td></tr></table>
</div>
</div>
<p>Depending on <em>host machine</em> horsepower, this may take a few minutes. You should see progress as the installer deploys the containers.</p>
<p><img src=/images/02-setup-awx-on-debian/start-containers.png alt="Start Containers"></p>
<h3 id=validation--login>Validation + Login</h3>
<p>If using <em>VMware Workstation</em> with network adapter type: <em>NAT</em>, you can see what <em>IP Address</em> it gave you with <strong><em>/sbin/ifconfig</em></strong>. You should then be able to reach this <em>IP</em> from your host machine.</p>
<p>On the permanent instance I have up and running in the lab, I&rsquo;m using <a href=https://github.com/features/actions>GitHub Actions</a> to build and release after each <em>AWX</em> software release. I use <a href=https://wiki.debian.org/KVM>Linux KVM</a> as a <em>Type-1</em> hypervisor with a static <em>IP</em> of my choice assigned.</p>
<p><img src=/images/02-setup-awx-on-debian/launch-awx.png alt="Launch AWX"></p>
<p>We should now be able to login with <em>default credentials</em> for <em>AWX</em>. There are many <em>best practice</em> considerations we would work through for handling <em>authentication</em> in a production environment but for the lab, we just want to roll up our sleeves and dive in, right?</p>
<p><img src=/images/02-setup-awx-on-debian/awx-login.png alt="AWX Login"></p>
<h2 id=conclusion>Conclusion</h2>
<p>Don&rsquo;t wait to get started with automation. If you wait, you may miss out on a great opportunity. With so much open source software available, there is no upfront cost other than a laptop powerful enough to run a few <em>virtual machines</em>.</p>
<p>In the land of <em>network engineering</em>, getting your feet wet with <em>public cloud</em> and <em>automation</em> can help you make that next big step in your career. There is currently a <em>high-demand</em> with <em>low-supply</em> for these skills in the <em>network engineering</em> space.</p>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=/tags/ansible/>ansible</a>
<a href=/tags/awx/>awx</a>
<a href=/tags/debian/>debian</a>
<a href=/tags/docker/>docker</a>
<a href=/tags/linux/>linux</a>
</div>
<nav class=post-nav>
<a class=prev href=/post/2020/automate-blog-deployment/>
<i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Automating Blog Releases: Hugo + GitHub Actions</span>
<span class="prev-text nav-mobile">Prev</span>
</a>
</nav>
</footer>
</article>
</div>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=https://twitter.com/wcollins502/ class="iconfont icon-twitter" title=twitter></a>
<a href=https://www.linkedin.com/in/william-collins/ class="iconfont icon-linkedin" title=linkedin></a>
<a href=https://github.com/wcollins/ class="iconfont icon-github" title=github></a>
<a href=http://wcollins.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<span class=copyright-year>
&copy;
2020 -
2021
<span class=heart>
<i class="iconfont icon-heart"></i>
</span>
<span class=author>William Collins</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.2517c0eb67172a0bae917de4af59b10ca2531411a009d4c0b82f5685259e5771.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-164916874-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</body>
</html>